<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Pylon: Programmer&#39;s Guide and API Reference for pylon for Linux</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="modified_doxygen-unix.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
</head>
<body>
<div id="TopBanner"><table width="100%"><tr>
    <td width="196px"><img src="Pylon_Logo.png" alt="Pylon Logo" width="196px"></td>
    <td width="99%"></td>
    <td width="184px"><img src="Basler_Logo.png" alt="Basler Logo" width="184px"></td>
</tr></table></div>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">pylon C++ Programmer&#39;s Guide for Linux</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Sample Code </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li><a class="el" href="sample_code.html#include_files_samples">Include Files Used by Samples</a> </li>
<li><a class="el" href="sample_code.html#sample_DeviceRemovalHandling">DeviceRemovalHandling</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab">Grab</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_CameraEvents">Grab_CameraEvents</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_ChunkImage">Grab_ChunkImage</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_MultiCast">Grab_MultiCast</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_MultipleCameras">Grab_MultipleCameras</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_Strategies">Grab_Strategies</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_UsingActionCommand">Grab_UsingActionCommand</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_UsingBufferFactory">Grab_UsingBufferFactory</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_UsingExposureEndEvent">Grab_UsingExposureEndEvent</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_UsingGrabLoopThread">Grab_UsingGrabLoopThread</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_UsingSequencer">Grab_UsingSequencer</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_AutoFunctions">ParametrizeCamera_AutoFunctions</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_Configurations">ParametrizeCamera_Configurations</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_GenericParameterAccess">ParametrizeCamera_GenericParameterAccess</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_LoadAndSave">ParametrizeCamera_LoadAndSave</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_LookupTable">ParametrizeCamera_LookupTable</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_NativeParameterAccess">ParametrizeCamera_NativeParameterAccess</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_Shading">ParametrizeCamera_Shading</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_UserSets">ParametrizeCamera_UserSets</a> </li>
<li><a class="el" href="sample_code.html#sample_Utility_GrabVideo">Utility_GrabVideo</a> </li>
<li><a class="el" href="sample_code.html#sample_Utility_Image">Utility_Image</a> </li>
<li><a class="el" href="sample_code.html#sample_Utility_ImageDecompressor">Utility_ImageDecompressor</a> </li>
<li><a class="el" href="sample_code.html#sample_Utility_ImageFormatConverter">Utility_ImageFormatConverter</a> </li>
<li><a class="el" href="sample_code.html#sample_Utility_ImageLoadAndSave">Utility_ImageLoadAndSave</a> </li>
<li><a class="el" href="sample_code.html#sample_Utility_IpConfig">Utility_IpConfig</a> </li>
<li><a class="el" href="sample_code.html#sample_Utility_InstantInterface">Utility_InstantInterface</a></li>
</ul>
<p>The following sections list the code samples that are part of the pylon SDK.</p>
<p>The pylon samples can be found under &lt;SDK ROOT&gt;\Samples. There is a GNU make file available for each sample.</p>
<h1><a class="anchor" id="include_files_samples"></a>
Include Files Used by Samples</h1>
<p>The following include files are used by the samples shown below.</p>
<h2><a class="anchor" id="sample_include_CameraEventPrinter"></a>
CameraEventPrinter.h</h2>
<div class="fragment"><div class="line"><span class="comment">// Contains a Camera Event Handler that prints a message for each event method call.</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifndef INCLUDED_CAMERAEVENTPRINTER_H_4683453</span></div><div class="line"><span class="preprocessor">#define INCLUDED_CAMERAEVENTPRINTER_H_4683453</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_camera_event_handler_8h.html">pylon/CameraEventHandler.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_parameter_includes_8h.html">pylon/ParameterIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">namespace </span><a class="code" href="namespace_pylon.html">Pylon</a></div><div class="line">{</div><div class="line">    <span class="keyword">class </span>CInstantCamera;</div><div class="line"></div><div class="line">    <span class="keyword">class </span>CCameraEventPrinter : <span class="keyword">public</span> CCameraEventHandler</div><div class="line">    {</div><div class="line">    <span class="keyword">public</span>:</div><div class="line">        <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnCameraEvent( CInstantCamera&amp; camera, intptr_t userProvidedId, <a class="code" href="struct_gen_api_1_1_i_node.html">GenApi::INode</a>* pNode)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnCameraEvent event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;User provided ID: &quot;</span> &lt;&lt; userProvidedId &lt;&lt; std::endl;</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Event data node name: &quot;</span> &lt;&lt; pNode-&gt;<a class="code" href="struct_gen_api_1_1_i_node.html#a4840e3c5b4800d8ca5d629e73c96d204">GetName</a>() &lt;&lt; std::endl;</div><div class="line">            CParameter value( pNode );</div><div class="line">            <span class="keywordflow">if</span> ( value.IsValid() )</div><div class="line">            {</div><div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;Event node data: &quot;</span> &lt;&lt; value.ToString() &lt;&lt; std::endl;</div><div class="line">            }</div><div class="line">            std::cout &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line">    };</div><div class="line">}</div><div class="line"></div><div class="line"><span class="preprocessor">#endif </span><span class="comment">/* INCLUDED_CAMERAEVENTPRINTER_H_4683453 */</span><span class="preprocessor"></span></div></div><!-- fragment --><h2><a class="anchor" id="sample_include_ConfigurationEventPrinter"></a>
ConfigurationEventPrinter.h</h2>
<div class="fragment"><div class="line"><span class="comment">// Contains a Configuration Event Handler that prints a message for each event method call.</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifndef INCLUDED_CONFIGURATIONEVENTPRINTER_H_663006</span></div><div class="line"><span class="preprocessor">#define INCLUDED_CONFIGURATIONEVENTPRINTER_H_663006</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_configuration_event_handler_8h.html">pylon/ConfigurationEventHandler.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">namespace </span><a class="code" href="namespace_pylon.html">Pylon</a></div><div class="line">{</div><div class="line">    <span class="keyword">class </span>CInstantCamera;</div><div class="line"></div><div class="line">    <span class="keyword">class </span>CConfigurationEventPrinter : <span class="keyword">public</span> CConfigurationEventHandler</div><div class="line">    {</div><div class="line">    <span class="keyword">public</span>:</div><div class="line">        <span class="keywordtype">void</span> OnAttach( CInstantCamera&amp; <span class="comment">/*camera*/</span>)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnAttach event&quot;</span> &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnAttached( CInstantCamera&amp; camera)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnAttached event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnOpen( CInstantCamera&amp; camera)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnOpen event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnOpened( CInstantCamera&amp; camera)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnOpened event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnGrabStart( CInstantCamera&amp; camera)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnGrabStart event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnGrabStarted( CInstantCamera&amp; camera)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnGrabStarted event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnGrabStop( CInstantCamera&amp; camera)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnGrabStop event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnGrabStopped( CInstantCamera&amp; camera)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnGrabStopped event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnClose( CInstantCamera&amp; camera)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnClose event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnClosed( CInstantCamera&amp; camera)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnClosed event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnDestroy( CInstantCamera&amp; camera)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnDestroy event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnDestroyed( CInstantCamera&amp; <span class="comment">/*camera*/</span>)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnDestroyed event&quot;</span> &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnDetach( CInstantCamera&amp; camera)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnDetach event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnDetached( CInstantCamera&amp; camera)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnDetached event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnGrabError( CInstantCamera&amp; camera, <span class="keyword">const</span> <span class="keywordtype">char</span>* errorMessage)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnGrabError event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Error Message: &quot;</span> &lt;&lt; errorMessage  &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordtype">void</span> OnCameraDeviceRemoved( CInstantCamera&amp; camera)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnCameraDeviceRemoved event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line">    };</div><div class="line">}</div><div class="line"></div><div class="line"><span class="preprocessor">#endif </span><span class="comment">/* INCLUDED_CONFIGURATIONEVENTPRINTER_H_663006 */</span><span class="preprocessor"></span></div></div><!-- fragment --><h2><a class="anchor" id="sample_include_ImageEventPrinter"></a>
ImageEventPrinter.h</h2>
<div class="fragment"><div class="line"><span class="comment">// Contains an Image Event Handler that prints a message for each event method call.</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifndef INCLUDED_IMAGEEVENTPRINTER_H_7884943</span></div><div class="line"><span class="preprocessor">#define INCLUDED_IMAGEEVENTPRINTER_H_7884943</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_image_event_handler_8h.html">pylon/ImageEventHandler.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_grab_result_ptr_8h.html">pylon/GrabResultPtr.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">namespace </span><a class="code" href="namespace_pylon.html">Pylon</a></div><div class="line">{</div><div class="line">    <span class="keyword">class </span>CInstantCamera;</div><div class="line"></div><div class="line">    <span class="keyword">class </span>CImageEventPrinter : <span class="keyword">public</span> CImageEventHandler</div><div class="line">    {</div><div class="line">    <span class="keyword">public</span>:</div><div class="line"></div><div class="line">        <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImagesSkipped( CInstantCamera&amp; camera, <span class="keywordtype">size_t</span> countOfSkippedImages)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnImagesSkipped event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line">            std::cout &lt;&lt; countOfSkippedImages  &lt;&lt; <span class="stringliteral">&quot; images have been skipped.&quot;</span> &lt;&lt; std::endl;</div><div class="line">            std::cout &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImageGrabbed( CInstantCamera&amp; camera, <span class="keyword">const</span> CGrabResultPtr&amp; ptrGrabResult)</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnImageGrabbed event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div><div class="line"></div><div class="line">            <span class="comment">// Image grabbed successfully?</span></div><div class="line">            <span class="keywordflow">if</span> (ptrGrabResult-&gt;GrabSucceeded())</div><div class="line">            {</div><div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;SizeX: &quot;</span> &lt;&lt; ptrGrabResult-&gt;GetWidth() &lt;&lt; std::endl;</div><div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;SizeY: &quot;</span> &lt;&lt; ptrGrabResult-&gt;GetHeight() &lt;&lt; std::endl;</div><div class="line">                <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;GetBuffer();</div><div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; std::endl;</div><div class="line">                std::cout &lt;&lt; std::endl;</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; ptrGrabResult-&gt;GetErrorCode() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; ptrGrabResult-&gt;GetErrorDescription() &lt;&lt; std::endl;</div><div class="line">            }</div><div class="line">        }</div><div class="line">    };</div><div class="line">}</div><div class="line"></div><div class="line"><span class="preprocessor">#endif </span><span class="comment">/* INCLUDED_IMAGEEVENTPRINTER_H_7884943 */</span><span class="preprocessor"></span></div></div><!-- fragment --><h2><a class="anchor" id="sample_include_PixelFormatAndAoiConfiguration"></a>
PixelFormatAndAoiConfiguration.h</h2>
<div class="fragment"><div class="line"><span class="comment">// Contains a configuration that sets pixel data format and Image AOI.</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifndef INCLUDED_PIXELFORMATANDAOICONFIGURATION_H_00104928</span></div><div class="line"><span class="preprocessor">#define INCLUDED_PIXELFORMATANDAOICONFIGURATION_H_00104928</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_configuration_event_handler_8h.html">pylon/ConfigurationEventHandler.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_parameter_includes_8h.html">pylon/ParameterIncludes.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">namespace </span><a class="code" href="namespace_pylon.html">Pylon</a></div><div class="line">{</div><div class="line">    <span class="keyword">class </span>CInstantCamera;</div><div class="line">}</div><div class="line"><span class="keyword">class </span>CPixelFormatAndAoiConfiguration : <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_configuration_event_handler.html">Pylon::CConfigurationEventHandler</a></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keywordtype">void</span> OnOpened( <a class="code" href="class_pylon_1_1_c_instant_camera.html">Pylon::CInstantCamera</a>&amp; camera)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">try</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Allow all the names in the namespace GenApi to be used without qualification.</span></div><div class="line">            <span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line">            <span class="comment">// Get the camera control object.</span></div><div class="line">            <a class="code" href="struct_gen_api_1_1_i_node_map.html">GenApi::INodeMap</a>&amp; nodemap = camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3227195969200a52200364bf31e9c586">GetNodeMap</a>();</div><div class="line"></div><div class="line">            <span class="comment">// Get the parameters for setting the image area of interest (Image AOI).</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_integer_parameter.html">CIntegerParameter</a> width(nodemap, <span class="stringliteral">&quot;Width&quot;</span>);</div><div class="line">            <a class="code" href="class_pylon_1_1_c_integer_parameter.html">CIntegerParameter</a> height(nodemap, <span class="stringliteral">&quot;Height&quot;</span>);</div><div class="line">            <a class="code" href="class_pylon_1_1_c_integer_parameter.html">CIntegerParameter</a> offsetX(nodemap, <span class="stringliteral">&quot;OffsetX&quot;</span>);</div><div class="line">            <a class="code" href="class_pylon_1_1_c_integer_parameter.html">CIntegerParameter</a> offsetY(nodemap, <span class="stringliteral">&quot;OffsetY&quot;</span>);</div><div class="line"></div><div class="line">            <span class="comment">// Maximize the Image AOI.</span></div><div class="line">            offsetX.TrySetToMinimum(); <span class="comment">// Set to minimum if writable.</span></div><div class="line">            offsetY.TrySetToMinimum(); <span class="comment">// Set to minimum if writable.</span></div><div class="line">            width.SetToMaximum();</div><div class="line">            height.SetToMaximum();</div><div class="line"></div><div class="line">            <span class="comment">// Set the pixel data format.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_enum_parameter.html">CEnumParameter</a>(nodemap, <span class="stringliteral">&quot;PixelFormat&quot;</span>).<a class="code" href="class_pylon_1_1_c_enum_parameter.html#a91551053a695b38b1b729833a5ac4855">SetValue</a>(<span class="stringliteral">&quot;Mono8&quot;</span>);</div><div class="line">        }</div><div class="line">        <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">Pylon::GenericException</a>&amp; e)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;Could not apply configuration. const GenericException caught in OnOpened method msg=%hs&quot;</span>, e.<a class="code" href="class_pylon_1_1_generic_exception.html#a1dec55837e066cb059ca5999143293b8">what</a>());</div><div class="line">        }</div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="preprocessor">#endif </span><span class="comment">/* INCLUDED_PIXELFORMATANDAOICONFIGURATION_H_00104928 */</span><span class="preprocessor"></span></div></div><!-- fragment --><h2><a class="anchor" id="sample_include_SampleImageCreator"></a>
SampleImageCreator.h</h2>
<div class="fragment"><div class="line"><span class="comment">// Contains functions for creating sample images.</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifndef INCLUDED_SAMPLEIMAGECREATOR_H_2792867</span></div><div class="line"><span class="preprocessor">#define INCLUDED_SAMPLEIMAGECREATOR_H_2792867</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_image_8h.html">pylon/PylonImage.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pixel_8h.html">pylon/Pixel.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_image_format_converter_8h.html">pylon/ImageFormatConverter.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">namespace </span>SampleImageCreator</div><div class="line">{</div><div class="line">    <a class="code" href="class_pylon_1_1_c_pylon_image.html">Pylon::CPylonImage</a> CreateJuliaFractal( <a class="code" href="group___pylon___image_handling_support.html#ga159b4bb49b4973a30bc8b39a4fcf3067">Pylon::EPixelType</a> pixelType, uint32_t width, uint32_t height)</div><div class="line">    {</div><div class="line">        <span class="comment">// Allow all the names in the namespace Pylon to be used without qualification.</span></div><div class="line">        <span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line">        <span class="comment">// Define Constants.</span></div><div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_pylon_1_1_s_r_g_b8_pixel.html">SRGB8Pixel</a> palette[]=</div><div class="line">        {</div><div class="line">            {0, 28, 50}, {0, 42, 75}, {0, 56, 100}, {0, 70, 125}, {0, 84, 150},</div><div class="line">            {0, 50, 0}, {0, 100, 0}, {0, 150, 0}, {0, 200, 0}, {0, 250, 0},</div><div class="line">            {50, 0, 0}, {100, 0, 0}, {150, 0, 0}, {200, 0, 0}, {250, 0, 0}</div><div class="line">        };</div><div class="line">        uint32_t numColors = <span class="keyword">sizeof</span>( palette) / <span class="keyword">sizeof</span>( palette[0]);</div><div class="line"></div><div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> cX = -0.735;</div><div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> cY = 0.11;</div><div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> cMaxX = 1.6;</div><div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> cMinX = -1.6;</div><div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> cMaxY = 1;</div><div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> cMinY = -1;</div><div class="line">        <span class="keyword">const</span> uint32_t cMaxIterations = 50;</div><div class="line"></div><div class="line">        <span class="comment">// Create image.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> juliaFractal( CPylonImage::Create( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aed40cb79221f2ecf6af9170d10cb17bc">PixelType_RGB8packed</a>, width, height));</div><div class="line"></div><div class="line">        <span class="comment">// Get the pointer to the first pixel.</span></div><div class="line">        <a class="code" href="struct_pylon_1_1_s_r_g_b8_pixel.html">SRGB8Pixel</a>* pCurrentPixel = (<a class="code" href="struct_pylon_1_1_s_r_g_b8_pixel.html">SRGB8Pixel</a>*) juliaFractal.GetBuffer();</div><div class="line"></div><div class="line">        <span class="comment">// Compute the fractal.</span></div><div class="line">        <span class="keywordflow">for</span> ( uint32_t pixelY = 0; pixelY &lt; height; ++pixelY )</div><div class="line">        {</div><div class="line">            <span class="keywordflow">for</span> ( uint32_t pixelX = 0; pixelX &lt; width; ++pixelX, ++pCurrentPixel )</div><div class="line">            {</div><div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> x = ((cMaxX-cMinX) / width) * pixelX + cMinX;</div><div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> y = cMaxY - pixelY * ((cMaxY-cMinY) / height);</div><div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> xd = 0;</div><div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> yd = 0;</div><div class="line">                uint32_t i = 0;</div><div class="line"></div><div class="line">                <span class="keywordflow">for</span>(; i &lt; cMaxIterations; ++i)</div><div class="line">                {</div><div class="line">                    xd = x * x - y * y + cX;</div><div class="line">                    yd = 2 *x * y + cY;</div><div class="line">                    x = xd;</div><div class="line">                    y = yd;</div><div class="line">                    <span class="keywordflow">if</span> ( (x * x + y * y) &gt; 4 )</div><div class="line">                    {</div><div class="line">                        <span class="keywordflow">break</span>;</div><div class="line">                    }</div><div class="line">                }</div><div class="line"></div><div class="line">                <span class="keywordflow">if</span> ( i &gt;= cMaxIterations)</div><div class="line">                {</div><div class="line">                    *pCurrentPixel = palette[0];</div><div class="line">                }</div><div class="line">                <span class="keywordflow">else</span></div><div class="line">                {</div><div class="line">                    *pCurrentPixel = palette[ i % numColors ];</div><div class="line">                }</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Convert the image to the target format if needed.</span></div><div class="line">        <span class="keywordflow">if</span> ( juliaFractal.GetPixelType() != pixelType)</div><div class="line">        {</div><div class="line">            <a class="code" href="class_pylon_1_1_c_image_format_converter.html">CImageFormatConverter</a> converter;</div><div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a3e2947f7f3b7d20c5fb351e2a3953f5a">OutputPixelFormat</a> = pixelType;</div><div class="line">            converter.<a class="code" href="class_basler___image_format_converter_params_1_1_c_image_format_converter_params___params__v6__1__0.html#a8d28937f27ee2fa21f2ede7f37b24a94">OutputBitAlignment</a> = <a class="code" href="___image_format_converter_params_8h.html#a0d468bef66c1b6903dece1bcb2ab4016a0aace6b0b321e3a6903c0d859e248579">OutputBitAlignment_MsbAligned</a>;</div><div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a1d4690d0b5b50581d229bd00794430b7">Convert</a>( juliaFractal, <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a>( juliaFractal));</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Return the image.</span></div><div class="line">        <span class="keywordflow">return</span> juliaFractal;</div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line">    <a class="code" href="class_pylon_1_1_c_pylon_image.html">Pylon::CPylonImage</a> CreateMandelbrotFractal( <a class="code" href="group___pylon___image_handling_support.html#ga159b4bb49b4973a30bc8b39a4fcf3067">Pylon::EPixelType</a> pixelType, uint32_t width, uint32_t height)</div><div class="line">    {</div><div class="line">        <span class="comment">// Allow all the names in the namespace Pylon to be used without qualification.</span></div><div class="line">        <span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line">        <span class="comment">// Define constants.</span></div><div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_pylon_1_1_s_r_g_b8_pixel.html">SRGB8Pixel</a> palette[]=</div><div class="line">        {</div><div class="line">            {0, 28, 50}, {0, 42, 75}, {0, 56, 100}, {0, 70, 125}, {0, 84, 150},</div><div class="line">            {0, 50, 0}, {0, 100, 0}, {0, 150, 0}, {0, 200, 0}, {0, 250, 0},</div><div class="line">            {50, 0, 0}, {100, 0, 0}, {150, 0, 0}, {200, 0, 0}, {250, 0, 0}</div><div class="line">        };</div><div class="line">        uint32_t numColors = <span class="keyword">sizeof</span>( palette) / <span class="keyword">sizeof</span>( palette[0]);</div><div class="line"></div><div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span>  cMaxX = 1.0;</div><div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span>  cMinX = -2.0;</div><div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span>  cMaxY = 1.2;</div><div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span>  cMinY = -1.2;</div><div class="line">        <span class="keyword">const</span> uint32_t cMaxIterations = 50;</div><div class="line"></div><div class="line">        <span class="comment">// Create image.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> mandelbrotFractal( CPylonImage::Create( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aed40cb79221f2ecf6af9170d10cb17bc">PixelType_RGB8packed</a>, width, height));</div><div class="line"></div><div class="line">        <span class="comment">// Get the pointer to the first pixel.</span></div><div class="line">        <a class="code" href="struct_pylon_1_1_s_r_g_b8_pixel.html">SRGB8Pixel</a>* pCurrentPixel = (<a class="code" href="struct_pylon_1_1_s_r_g_b8_pixel.html">SRGB8Pixel</a>*) mandelbrotFractal.GetBuffer();</div><div class="line"></div><div class="line">        <span class="comment">// Compute the fractal.</span></div><div class="line">        <span class="keywordflow">for</span> ( uint32_t pixelY = 0; pixelY &lt; height; ++pixelY )</div><div class="line">        {</div><div class="line">            <span class="keywordflow">for</span> ( uint32_t pixelX = 0; pixelX &lt; width; ++pixelX, ++pCurrentPixel )</div><div class="line">            {</div><div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> xStart = ((cMaxX-cMinX) / width) * pixelX + cMinX;</div><div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> yStart = cMaxY - pixelY * ((cMaxY-cMinY) / height);</div><div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> x = xStart;</div><div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> y = yStart;</div><div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> xd =0;</div><div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> yd =0;</div><div class="line">                uint32_t i = 0;</div><div class="line"></div><div class="line">                <span class="keywordflow">for</span>(; i &lt; cMaxIterations; ++i)</div><div class="line">                {</div><div class="line">                    xd = x * x - y * y + xStart;</div><div class="line">                    yd = 2 *x * y + yStart;</div><div class="line">                    x = xd;</div><div class="line">                    y = yd;</div><div class="line">                    <span class="keywordflow">if</span> ( (x * x + y * y) &gt; 4 )</div><div class="line">                    {</div><div class="line">                        <span class="keywordflow">break</span>;</div><div class="line">                    }</div><div class="line">                }</div><div class="line"></div><div class="line">                <span class="keywordflow">if</span> ( i &gt;= cMaxIterations)</div><div class="line">                {</div><div class="line">                    *pCurrentPixel = palette[0];</div><div class="line">                }</div><div class="line">                <span class="keywordflow">else</span></div><div class="line">                {</div><div class="line">                    *pCurrentPixel = palette[ i % numColors ];</div><div class="line">                }</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Convert the image to the target format if needed.</span></div><div class="line">        <span class="keywordflow">if</span> ( mandelbrotFractal.GetPixelType() != pixelType)</div><div class="line">        {</div><div class="line">            <a class="code" href="class_pylon_1_1_c_image_format_converter.html">CImageFormatConverter</a> converter;</div><div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a3e2947f7f3b7d20c5fb351e2a3953f5a">OutputPixelFormat</a> = pixelType;</div><div class="line">            converter.<a class="code" href="class_basler___image_format_converter_params_1_1_c_image_format_converter_params___params__v6__1__0.html#a8d28937f27ee2fa21f2ede7f37b24a94">OutputBitAlignment</a> = <a class="code" href="___image_format_converter_params_8h.html#a0d468bef66c1b6903dece1bcb2ab4016a0aace6b0b321e3a6903c0d859e248579">OutputBitAlignment_MsbAligned</a>;</div><div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a1d4690d0b5b50581d229bd00794430b7">Convert</a>( mandelbrotFractal, <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a>( mandelbrotFractal));</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Return the image.</span></div><div class="line">        <span class="keywordflow">return</span> mandelbrotFractal;</div><div class="line">    }</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"><span class="preprocessor">#endif </span><span class="comment">/* INCLUDED_SAMPLEIMAGECREATOR_H_2792867 */</span><span class="preprocessor"></span></div></div><!-- fragment --><h1><a class="anchor" id="sample_DeviceRemovalHandling"></a>
DeviceRemovalHandling</h1>
<div class="fragment"><div class="line"><span class="comment">// DeviceRemovalHandling.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample program demonstrates how to be informed about the removal of a camera device.</span></div><div class="line"><span class="comment">    It also shows how to reconnect to a removed device.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    Attention:</span></div><div class="line"><span class="comment">    If you build this sample in debug mode and run it using a GigE camera device, pylon will set the heartbeat </span></div><div class="line"><span class="comment">    timeout to 5 minutes. This is done to allow debugging and single-stepping without losing the camera </span></div><div class="line"><span class="comment">    connection due to missing heartbeats. However, with this setting, it would take 5 minutes for the </span></div><div class="line"><span class="comment">    application to notice that a GigE device has been disconnected. </span></div><div class="line"><span class="comment">    As a workaround, the heartbeat timeout is set to 1000 ms.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// When using device-specific Instant Camera classes there are specific Configuration event handler classes available which can be used, for example</span></div><div class="line"><span class="comment">// Pylon::CBaslerUniversalConfigurationEventHandler.</span></div><div class="line"><span class="comment">//Example of a configuration event handler that handles device removal events.</span></div><div class="line"><span class="keyword">class </span>CSampleConfigurationEventHandler : <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_configuration_event_handler.html">Pylon::CConfigurationEventHandler</a></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">// This method is called from a different thread when the camera device removal has been detected.</span></div><div class="line">    <span class="keywordtype">void</span> OnCameraDeviceRemoved( <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a>&amp; <span class="comment">/*camera*/</span>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Print two new lines, just for improving printed output.</span></div><div class="line">        cout &lt;&lt; endl &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;CSampleConfigurationEventHandler::OnCameraDeviceRemoved called.&quot;</span> &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// Time to wait in quarters of seconds.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_loopCounterInitialValue = 60 * 4;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Declare a local counter used for waiting.</span></div><div class="line">        <span class="keywordtype">int</span> loopCount = 0;</div><div class="line"></div><div class="line">        <span class="comment">// Get the transport layer factory.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_tl_factory.html">CTlFactory</a>&amp; tlFactory = <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Create an instant camera object with the camera device found first.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( tlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a1e26b7ff35c0b3847497234793277f86">CreateFirstDevice</a>());</div><div class="line"></div><div class="line">        <span class="comment">// Print the camera information.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Friendly Name: &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_info_base.html#aed237e7d1df4019891da511c1bec675a">GetFriendlyName</a>() &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Full Name    : &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_info_base.html#a547c2e1036b2ef3fd64f61230dcc9900">GetFullName</a>() &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;SerialNumber : &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#a9714e71ed1536ce7a85bcb1f87c07b12">GetSerialNumber</a>() &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// For demonstration purposes only, register another configuration event handler that handles device removal.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#aefc4e8480ceec5fe3991f059e1c4d8d4">RegisterConfiguration</a>( <span class="keyword">new</span> CSampleConfigurationEventHandler, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// For demonstration purposes only, add a sample configuration event handler to print out information</span></div><div class="line">        <span class="comment">// about camera use.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#aefc4e8480ceec5fe3991f059e1c4d8d4">RegisterConfiguration</a>( <span class="keyword">new</span> CConfigurationEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera. Camera device removal is only detected while the camera is open.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a5d55354035ee749bc587b4d923a22c5f">Open</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Now, try to detect that the camera has been removed:</span></div><div class="line"></div><div class="line">        <span class="comment">// Ask the user to disconnect a device</span></div><div class="line">        loopCount = c_loopCounterInitialValue;</div><div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Please disconnect the device (timeout &quot;</span> &lt;&lt; loopCount / 4 &lt;&lt; <span class="stringliteral">&quot;s) &quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Before testing the callbacks, we manually set the heartbeat timeout to a short value when using GigE cameras.</span></div><div class="line">        <span class="comment">// Since for debug versions the heartbeat timeout has been set to 5 minutes, it would take up to 5 minutes</span></div><div class="line">        <span class="comment">// until detection of the device removal.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_integer_parameter.html">CIntegerParameter</a> heartbeat(camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#aab2dbf4899cf227e4688d10bd65d0720">GetTLNodeMap</a>(), <span class="stringliteral">&quot;HeartbeatTimeout&quot;</span>);</div><div class="line">        heartbeat.<a class="code" href="class_pylon_1_1_c_integer_parameter.html#a70660a981bc3ab17dee8a728472fe68e">TrySetValue</a>(1000, <a class="code" href="namespace_pylon.html#a5e8cf9011e40ab21159d079b6e02f670a8619a2f0237658eed88d9a9d0322e589">IntegerValueCorrection_Nearest</a>);  <span class="comment">// set to 1000 ms timeout if writable</span></div><div class="line"></div><div class="line">        <span class="keywordflow">try</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Get a camera parameter using generic parameter access.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_integer_parameter.html">CIntegerParameter</a> width(camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3227195969200a52200364bf31e9c586">GetNodeMap</a>(), <span class="stringliteral">&quot;Width&quot;</span>);</div><div class="line"></div><div class="line">            <span class="comment">// The following loop accesses the camera. It could also be a loop that is</span></div><div class="line">            <span class="comment">// grabbing images. The device removal is handled in the exception handler.</span></div><div class="line">            <span class="keywordflow">while</span> ( loopCount &gt; 0)</div><div class="line">            {</div><div class="line">                <span class="comment">// Print a &quot;.&quot; every few seconds to tell the user we&#39;re waiting for the callback.</span></div><div class="line">                <span class="keywordflow">if</span> (--loopCount % 4 == 0)</div><div class="line">                {</div><div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>;</div><div class="line">                    cout.flush();</div><div class="line">                }</div><div class="line">                <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(250);</div><div class="line"></div><div class="line">                <span class="comment">// Change the width value in the camera depending on the loop counter.</span></div><div class="line">                <span class="comment">// Any access to the camera like setting parameters or grabbing images</span></div><div class="line">                <span class="comment">// will fail throwing an exception if the camera has been disconnected.</span></div><div class="line">                width.SetValue( width.GetMax() - (width.GetInc() * (loopCount % 2)));</div><div class="line">            }</div><div class="line"></div><div class="line">        }</div><div class="line">        <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">        {</div><div class="line">            <span class="comment">// An exception occurred. Is it because the camera device has been physically removed?</span></div><div class="line"></div><div class="line">            <span class="comment">// Known issue: Wait until the system safely detects a possible removal.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(1000);</div><div class="line"></div><div class="line">            <span class="keywordflow">if</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3bc410c61618d7565455751991ce2791">IsCameraDeviceRemoved</a>())</div><div class="line">            {</div><div class="line">                <span class="comment">// The camera device has been removed. This caused the exception.</span></div><div class="line">                cout &lt;&lt; endl;</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;The camera has been removed from the computer.&quot;</span> &lt;&lt; endl;</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;The camera device removal triggered an expected exception:&quot;</span> &lt;&lt; endl</div><div class="line">                    &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                <span class="comment">// An unexpected error has occurred.</span></div><div class="line">                <span class="comment">// In this example it is handled by exiting the program.</span></div><div class="line">                <span class="keywordflow">throw</span>;</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> ( !camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3bc410c61618d7565455751991ce2791">IsCameraDeviceRemoved</a>())</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Timeout expired&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Now try to find the detached camera after it has been attached again:</span></div><div class="line"></div><div class="line">        <span class="comment">// Create a device info object for remembering the camera properties.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div><div class="line"></div><div class="line">        <span class="comment">// Remember the camera properties that allow detecting the same camera again.</span></div><div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_info_base.html#aeecab58107d70d6a6512abd95a40f940">GetDeviceClass</a>());</div><div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a5ce60095900ba9a2084bf475d290dc19">SetSerialNumber</a>( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#a9714e71ed1536ce7a85bcb1f87c07b12">GetSerialNumber</a>());</div><div class="line"></div><div class="line">        <span class="comment">// Destroy the Pylon Device representing the detached camera device.</span></div><div class="line">        <span class="comment">// It can&#39;t be used anymore.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a5d30e0748815f30d3ef4836facb8795a">DestroyDevice</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Ask the user to connect the same device.</span></div><div class="line">        loopCount = c_loopCounterInitialValue;</div><div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Please connect the same device to the computer again (timeout &quot;</span> &lt;&lt; loopCount / 4 &lt;&lt; <span class="stringliteral">&quot;s) &quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Create a filter containing the CDeviceInfo object info which describes the properties of the device we are looking for.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_device_info_list.html">DeviceInfoList_t</a> filter;</div><div class="line">        filter.push_back( info);</div><div class="line"></div><div class="line">        <span class="keywordflow">for</span> ( ; loopCount &gt; 0; --loopCount)</div><div class="line">        {</div><div class="line">            <span class="comment">// Print a . every few seconds to tell the user we&#39;re waiting for the camera to be attached</span></div><div class="line">            <span class="keywordflow">if</span> ( loopCount % 4 == 0)</div><div class="line">            {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>;</div><div class="line">                cout.flush();</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Try to find the camera we are looking for.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_device_info_list.html">DeviceInfoList_t</a> devices;</div><div class="line">            <span class="keywordflow">if</span> ( tlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a9a66b37caea9bbd0a50cf377ba4ed94a">EnumerateDevices</a>(devices, filter) &gt; 0 )</div><div class="line">            {</div><div class="line">                <span class="comment">// Print two new lines, just for improving printed output.</span></div><div class="line">                cout &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">                <span class="comment">// The camera has been found. Create and attach it to the Instant Camera object.</span></div><div class="line">                camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a9e04a31ff55e3c570e05a249edefb7c0">Attach</a>( tlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a5bfdb71c0f2ffd0d86839b8f463c3c4d">CreateDevice</a>( devices[0]));</div><div class="line">                <span class="comment">//Exit waiting</span></div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line">            }</div><div class="line"></div><div class="line">            <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(250);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// If the camera has been found.</span></div><div class="line">        <span class="keywordflow">if</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a0088d6161a718272d54ba7d214919a27">IsPylonDeviceAttached</a>())</div><div class="line">        {</div><div class="line">            <span class="comment">// Print the camera information.</span></div><div class="line">            cout &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Friendly Name: &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_info_base.html#aed237e7d1df4019891da511c1bec675a">GetFriendlyName</a>() &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Full Name    : &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_info_base.html#a547c2e1036b2ef3fd64f61230dcc9900">GetFullName</a>() &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;SerialNumber : &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#a9714e71ed1536ce7a85bcb1f87c07b12">GetSerialNumber</a>() &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; endl;</div><div class="line"></div><div class="line">            <span class="comment">// All configuration objects and other event handler objects are still registered.</span></div><div class="line">            <span class="comment">// The configuration objects will parameterize the camera device and the instant</span></div><div class="line">            <span class="comment">// camera will be ready for operation again.</span></div><div class="line"></div><div class="line">            <span class="comment">// Open the camera.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a5d55354035ee749bc587b4d923a22c5f">Open</a>();</div><div class="line"></div><div class="line">            <span class="comment">// Now the Instant Camera object can be used as before.</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="comment">// Timeout</span></div><div class="line">        {</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Timeout expired.&quot;</span> &lt;&lt; endl;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Grab"></a>
Grab</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample illustrates how to grab and process images using the CInstantCamera class.</span></div><div class="line"><span class="comment">    The images are grabbed and processed asynchronously, i.e.,</span></div><div class="line"><span class="comment">    while the application is processing a buffer, the acquisition of the next buffer is done</span></div><div class="line"><span class="comment">    in parallel.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    The CInstantCamera class uses a pool of buffers to retrieve image data</span></div><div class="line"><span class="comment">    from the camera device. Once a buffer is filled and ready,</span></div><div class="line"><span class="comment">    the buffer can be retrieved from the camera object for processing. The buffer</span></div><div class="line"><span class="comment">    and additional image data are collected in a grab result. The grab result is</span></div><div class="line"><span class="comment">    held by a smart pointer after retrieval. The buffer is automatically reused</span></div><div class="line"><span class="comment">    when explicitly released or when the smart pointer object is destroyed.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line"><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="comment">// Number of images to be grabbed.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 100;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create an instant camera object with the camera device found first.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <span class="comment">// Print the model name of the camera.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// The parameter MaxNumBuffer can be used to control the count of buffers</span></div><div class="line">        <span class="comment">// allocated for grabbing. The default value of this parameter is 10.</span></div><div class="line">        camera.<a class="code" href="class_basler___instant_camera_params_1_1_c_instant_camera_params___params__v6__1__0.html#a9205abb1850ef7e5f1a79fe2ccd377f9">MaxNumBuffer</a> = 5;</div><div class="line"></div><div class="line">        <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div><div class="line">        <span class="comment">// The camera device is parameterized with a default configuration which</span></div><div class="line">        <span class="comment">// sets up free-running continuous acquisition.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( c_countOfImagesToGrab);</div><div class="line"></div><div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div><div class="line"></div><div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div><div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div><div class="line">        <span class="keywordflow">while</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a1d2155d0c74753808af267c34291858c">IsGrabbing</a>())</div><div class="line">        {</div><div class="line">            <span class="comment">// Wait for an image and then retrieve it. A timeout of 5000 ms is used.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3af3b05b85ea0aeb68eb5fb1b6dba0c8">RetrieveResult</a>( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div><div class="line"></div><div class="line">            <span class="comment">// Image grabbed successfully?</span></div><div class="line">            <span class="keywordflow">if</span> (ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>())</div><div class="line">            {</div><div class="line">                <span class="comment">// Access the image data.</span></div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;SizeX: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a26338b92c78e4217325de426842df600">GetWidth</a>() &lt;&lt; endl;</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;SizeY: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a6ec284bd2d65d6bd899d444639317709">GetHeight</a>() &lt;&lt; endl;</div><div class="line">                <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0ed8d8548b5e4da67167d388fb85e0b5">GetBuffer</a>();</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">                <span class="comment">// Display the grabbed image.</span></div><div class="line">                Pylon::DisplayImage(1, ptrGrabResult);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a51c4ed590aa402d030b0f3c5adfcc4e2">GetErrorCode</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#afc2854260822812b3ba46bb7efe63cc0">GetErrorDescription</a>() &lt;&lt; endl;</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Grab_CameraEvents"></a>
Grab_CameraEvents</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_CameraEvents.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    Basler USB3 Vision, GigE Vision, and IEEE 1394 cameras can send event messages. For example, when a sensor</span></div><div class="line"><span class="comment">    exposure has finished, the camera can send an Exposure End event to the computer. The event</span></div><div class="line"><span class="comment">    can be received by the computer before the image data of the finished exposure has been transferred</span></div><div class="line"><span class="comment">    completely. This sample demonstrates how to be notified when camera event message data is received.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    The event messages are automatically retrieved and processed by the InstantCamera classes.</span></div><div class="line"><span class="comment">    The information carried by event messages is exposed as parameter nodes in the camera node map</span></div><div class="line"><span class="comment">    and can be accessed like standard camera parameters. These nodes are updated</span></div><div class="line"><span class="comment">    when a camera event is received. You can register camera event handler objects that are</span></div><div class="line"><span class="comment">    triggered when event data has been received.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    These mechanisms are demonstrated for the Exposure End and the Event Overrun events.</span></div><div class="line"><span class="comment">    The Exposure End event carries the following information:</span></div><div class="line"><span class="comment">    * ExposureEndEventFrameID: Number of the image that has been exposed.</span></div><div class="line"><span class="comment">    * ExposureEndEventTimestamp: Time when the event was generated.</span></div><div class="line"><span class="comment">    The Event Overrun event is sent by the camera as a warning that events are being dropped. The</span></div><div class="line"><span class="comment">    notification contains no specific information about how many or which events have been dropped.</span></div><div class="line"><span class="comment">    Events may be dropped if events are generated at a high frequency and if there isn&#39;t enough</span></div><div class="line"><span class="comment">    bandwidth available to send the events.</span></div><div class="line"><span class="comment">    </span></div><div class="line"><span class="comment">    Note: Different camera series implement different versions of the Standard Feature Naming Convention (SFNC).</span></div><div class="line"><span class="comment">    That&#39;s why the name and the type of the parameters used can be different.</span></div><div class="line"><span class="comment">    </span></div><div class="line"><span class="comment">    It is shown in this sample how to register event handlers indicating the arrival of events</span></div><div class="line"><span class="comment">    sent by the camera. For demonstration purposes, several different handlers are registered</span></div><div class="line"><span class="comment">    for the same event.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Include file to use pylon universal instant camera parameters.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_universal_instant_camera_8h.html">pylon/BaslerUniversalInstantCamera.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Include files used by samples.</span></div><div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;../include/CameraEventPrinter.h&quot;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon universal instant camera parameters.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_basler___universal_camera_params.html">Basler_UniversalCameraParams</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="comment">//Enumeration used for distinguishing different events.</span></div><div class="line"><span class="keyword">enum</span> MyEvents</div><div class="line">{</div><div class="line">    eMyExposureEndEvent  = 100,</div><div class="line">    eMyEventOverrunEvent = 200</div><div class="line">    <span class="comment">// More events can be added here.    </span></div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// Number of images to be grabbed.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 5;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Example handler for camera events.</span></div><div class="line"><span class="keyword">class </span>CSampleCameraEventHandler : <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_basler_universal_camera_event_handler.html">CBaslerUniversalCameraEventHandler</a></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">// Only very short processing tasks should be performed by this method. Otherwise, the event notification will block the</span></div><div class="line">    <span class="comment">// processing of images.</span></div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnCameraEvent( <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera, intptr_t userProvidedId, <a class="code" href="struct_gen_api_1_1_i_node.html">GenApi::INode</a>* <span class="comment">/* pNode */</span>)</div><div class="line">    {</div><div class="line">        std::cout &lt;&lt; std::endl;</div><div class="line">        <span class="keywordflow">switch</span> ( userProvidedId )</div><div class="line">        {</div><div class="line">        <span class="keywordflow">case</span> eMyExposureEndEvent: <span class="comment">// Exposure End event</span></div><div class="line">            <span class="keywordflow">if</span>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad7059e2bc23cb478485ba89d2a013904">EventExposureEndFrameID</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#aecafd04d36b4c3a49a79b1368e102db5">IsReadable</a>()) <span class="comment">// Applies to cameras based on SFNC 2.0 or later, e.g, USB cameras</span></div><div class="line">            {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Exposure End event. FrameID: &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad7059e2bc23cb478485ba89d2a013904">EventExposureEndFrameID</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot; Timestamp: &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a75d16fb4d0bd9245f81248e04d442c75">EventExposureEndTimestamp</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; std::endl &lt;&lt; std::endl;</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Exposure End event. FrameID: &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af51359fa112320639f34e755a052182d">ExposureEndEventFrameID</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot; Timestamp: &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aeb2f10e148745593a6eb3dd0b9bb061f">ExposureEndEventTimestamp</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; std::endl &lt;&lt; std::endl;</div><div class="line">            }</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        <span class="keywordflow">case</span> eMyEventOverrunEvent:  <span class="comment">// Event Overrun event</span></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Event Overrun event. FrameID: &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a6a56d322c91b92999d61b5ecf0680d12">EventOverrunEventFrameID</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot; Timestamp: &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a6d4029c05e21b1016cc9f94ff2666e05">EventOverrunEventTimestamp</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; std::endl &lt;&lt; std::endl;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">//Example of an image event handler.</span></div><div class="line"><span class="keyword">class </span>CSampleImageEventHandler : <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_image_event_handler.html">CImageEventHandler</a></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImageGrabbed( <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a>&amp; camera, <span class="keyword">const</span> <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a>&amp; ptrGrabResult)</div><div class="line">    {</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;CSampleImageEventHandler::OnImageGrabbed called.&quot;</span> &lt;&lt; std::endl;</div><div class="line">        cout &lt;&lt; std::endl;</div><div class="line">        cout &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="comment">// Create an example event handler. In the present case, we use one single camera handler for handling multiple camera events.</span></div><div class="line">    <span class="comment">// The handler prints a message for each received event.</span></div><div class="line">    CSampleCameraEventHandler* pHandler1 = <span class="keyword">new</span> CSampleCameraEventHandler;</div><div class="line"></div><div class="line">    <span class="comment">// Create another more generic event handler printing out information about the node for which an event callback</span></div><div class="line">    <span class="comment">// is fired.</span></div><div class="line">    CCameraEventPrinter*  pHandler2 = <span class="keyword">new</span> CCameraEventPrinter;</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create an instant camera object with the first found camera device.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <span class="comment">// Register the standard configuration event handler for enabling software triggering.</span></div><div class="line">        <span class="comment">// The software trigger configuration handler replaces the default configuration</span></div><div class="line">        <span class="comment">// as all currently registered configuration handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_software_trigger_configuration.html">CSoftwareTriggerConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// For demonstration purposes only, add sample configuration event handlers to print out information</span></div><div class="line">        <span class="comment">// about camera use and image grabbing.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> CConfigurationEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>); <span class="comment">// Camera use.</span></div><div class="line"></div><div class="line">        <span class="comment">// For demonstration purposes only, register another image event handler.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#af4985cc7f053717b4d9d9a18a8973cec">RegisterImageEventHandler</a>( <span class="keyword">new</span> CSampleImageEventHandler, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// Camera event processing must be activated first, the default is off.</span></div><div class="line">        camera.<a class="code" href="class_basler___instant_camera_params_1_1_c_instant_camera_params___params__v6__1__0.html#a13e369783a9a6389ea22366e0ff6ce75">GrabCameraEvents</a> = <span class="keyword">true</span>;</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &gt;= Sfnc_2_0_0) </div><div class="line">        {</div><div class="line">            <span class="comment">// Register an event handler for the Exposure End event. For each event type, there is a &quot;data&quot; node</span></div><div class="line">            <span class="comment">// representing the event. The actual data that is carried by the event is held by child nodes of the</span></div><div class="line">            <span class="comment">// data node. In the case of the Exposure End event, the child nodes are EventExposureEndFrameID and EventExposureEndTimestamp.</span></div><div class="line">            <span class="comment">// The CSampleCameraEventHandler demonstrates how to access the child nodes within</span></div><div class="line">            <span class="comment">// a callback that is fired for the parent data node.</span></div><div class="line">            <span class="comment">// The user-provided ID eMyExposureEndEvent can be used to distinguish between multiple events (not shown).</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a9bccc7d47d3c688764193fafbef370cc">RegisterCameraEventHandler</a>(pHandler1, <span class="stringliteral">&quot;EventExposureEndData&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div><div class="line">            <span class="comment">// The handler is registered for both, the EventExposureEndFrameID and the EventExposureEndTimestamp</span></div><div class="line">            <span class="comment">// node. These nodes represent the data carried by the Exposure End event.</span></div><div class="line">            <span class="comment">// For each Exposure End event received, the handler will be called twice, once for the frame ID, and</span></div><div class="line">            <span class="comment">// once for the time stamp.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a9bccc7d47d3c688764193fafbef370cc">RegisterCameraEventHandler</a>(pHandler2, <span class="stringliteral">&quot;EventExposureEndFrameID&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a9bccc7d47d3c688764193fafbef370cc">RegisterCameraEventHandler</a>(pHandler2, <span class="stringliteral">&quot;EventExposureEndTimestamp&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> </div><div class="line">        {</div><div class="line">            <span class="comment">// Register an event handler for the Exposure End event. For each event type, there is a &quot;data&quot; node</span></div><div class="line">            <span class="comment">// representing the event. The actual data that is carried by the event is held by child nodes of the</span></div><div class="line">            <span class="comment">// data node. In the case of the Exposure End event, the child nodes are ExposureEndEventFrameID, ExposureEndEventTimestamp,</span></div><div class="line">            <span class="comment">// and ExposureEndEventStreamChannelIndex. The CSampleCameraEventHandler demonstrates how to access the child nodes within</span></div><div class="line">            <span class="comment">// a callback that is fired for the parent data node.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a9bccc7d47d3c688764193fafbef370cc">RegisterCameraEventHandler</a>(pHandler1, <span class="stringliteral">&quot;ExposureEndEventData&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div><div class="line"></div><div class="line">            <span class="comment">// Register the same handler for a second event. The user-provided ID can be used</span></div><div class="line">            <span class="comment">// to distinguish between the events.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a9bccc7d47d3c688764193fafbef370cc">RegisterCameraEventHandler</a>(pHandler1, <span class="stringliteral">&quot;EventOverrunEventData&quot;</span>, eMyEventOverrunEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div><div class="line"></div><div class="line">            <span class="comment">// The handler is registered for both, the ExposureEndEventFrameID and the ExposureEndEventTimestamp</span></div><div class="line">            <span class="comment">// node. These nodes represent the data carried by the Exposure End event.</span></div><div class="line">            <span class="comment">// For each Exposure End event received, the handler will be called twice, once for the frame ID, and</span></div><div class="line">            <span class="comment">// once for the time stamp.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a9bccc7d47d3c688764193fafbef370cc">RegisterCameraEventHandler</a>(pHandler2, <span class="stringliteral">&quot;ExposureEndEventFrameID&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a9bccc7d47d3c688764193fafbef370cc">RegisterCameraEventHandler</a>(pHandler2, <span class="stringliteral">&quot;ExposureEndEventTimestamp&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera for setting parameters.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        </div><div class="line">        <span class="comment">// Check if the device supports events.</span></div><div class="line">        <span class="keywordflow">if</span> (!camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1a67d768348a06b57e90cb3a23a57ee6">EventSelector</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">        {</div><div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;The device doesn&#39;t support events.&quot;</span>);</div><div class="line">        }</div><div class="line"></div><div class="line">        </div><div class="line">        <span class="comment">// Enable sending of Exposure End events.</span></div><div class="line">        <span class="comment">// Select the event to receive.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1a67d768348a06b57e90cb3a23a57ee6">EventSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(EventSelector_ExposureEnd);</div><div class="line"></div><div class="line">        <span class="comment">// Enable it.</span></div><div class="line">        <span class="keywordflow">if</span> (!camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>(EventNotification_On)) </div><div class="line">        {</div><div class="line">            <span class="comment">// scout-f, scout-g, and aviator GigE cameras use a different value</span></div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(EventNotification_GenICamEvent);</div><div class="line">        }</div><div class="line"></div><div class="line">        </div><div class="line">        <span class="comment">// Enable event notification for the EventOverrun event, if available</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1a67d768348a06b57e90cb3a23a57ee6">EventSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>(EventSelector_EventOverrun))</div><div class="line">        {</div><div class="line">            <span class="comment">// Enable it.</span></div><div class="line">            <span class="keywordflow">if</span> (!camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>(EventNotification_On)) </div><div class="line">            {</div><div class="line">                <span class="comment">// scout-f, scout-g, and aviator GigE cameras use a different value</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(EventNotification_GenICamEvent);</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( c_countOfImagesToGrab);</div><div class="line">        </div><div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div><div class="line"></div><div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div><div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div><div class="line">        <span class="keywordflow">while</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a1d2155d0c74753808af267c34291858c">IsGrabbing</a>())</div><div class="line">        {</div><div class="line">            <span class="comment">// Execute the software trigger. Wait up to 1000 ms for the camera to be ready for trigger.</span></div><div class="line">            <span class="keywordflow">if</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a7506b5b38079ba4583a088a620187b29">WaitForFrameTriggerReady</a>( 1000, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>))</div><div class="line">            {</div><div class="line">                camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#ae5a4e166d9198dd4706a1c72c0bc2bc6">ExecuteSoftwareTrigger</a>();</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Retrieve grab results and notify the camera event and image event handlers.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a78f3b07a3e5c7a64530645ecae49b02e">RetrieveResult</a>( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div><div class="line">            <span class="comment">// Nothing to do here with the grab result, the grab results are handled by the registered event handler.</span></div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Disable sending Exposure End events.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1a67d768348a06b57e90cb3a23a57ee6">EventSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(EventSelector_ExposureEnd);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(EventNotification_Off);</div><div class="line"></div><div class="line">        <span class="comment">// Disable sending Event Overrun events.</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1a67d768348a06b57e90cb3a23a57ee6">EventSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>(EventSelector_EventOverrun))</div><div class="line">        {</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(EventNotification_Off);</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Delete the event handlers.</span></div><div class="line">    <span class="keyword">delete</span> pHandler1;</div><div class="line">    <span class="keyword">delete</span> pHandler2;</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Grab_ChunkImage"></a>
Grab_ChunkImage</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_ChunkImage.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    Basler cameras provide chunk features: The cameras can generate certain information about each image,</span></div><div class="line"><span class="comment">    e.g. frame counters, time stamps, and CRC checksums, that is appended to the image data as data &quot;chunks&quot;.</span></div><div class="line"><span class="comment">    This sample illustrates how to enable chunk features, how to grab images, and how to process the appended</span></div><div class="line"><span class="comment">    data. When the camera is in chunk mode, it transfers data blocks that are partitioned into chunks. The first</span></div><div class="line"><span class="comment">    chunk is always the image data. When chunk features are enabled, the image data chunk is followed by chunks</span></div><div class="line"><span class="comment">    containing the information generated by the chunk features.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line"><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// Include file to use pylon universal instant camera parameters.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_universal_instant_camera_8h.html">pylon/BaslerUniversalInstantCamera.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon universal instant camera parameters.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_basler___universal_camera_params.html">Basler_UniversalCameraParams</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Example of a device-specific handler for image events.</span></div><div class="line"><span class="keyword">class </span>CSampleImageEventHandler : <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_basler_universal_image_event_handler.html">CBaslerUniversalImageEventHandler</a></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImageGrabbed(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera, <span class="keyword">const</span> <a class="code" href="class_pylon_1_1_c_basler_universal_grab_result_ptr.html">CBaslerUniversalGrabResultPtr</a>&amp; ptrGrabResult)</div><div class="line">    {</div><div class="line">        <span class="comment">// The chunk data is attached to the grab result and can be accessed anywhere.</span></div><div class="line"></div><div class="line">        <span class="comment">// Generic parameter access:</span></div><div class="line">        <span class="comment">// This shows the access via the chunk data node map. This method is available for all grab result types.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_integer_parameter.html">CIntegerParameter</a> chunkTimestamp(ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#ac39dc2041219d17c4cfdfc579e52d002">GetChunkDataNodeMap</a>(), <span class="stringliteral">&quot;ChunkTimestamp&quot;</span>);</div><div class="line"></div><div class="line">        <span class="comment">// Access the chunk data attached to the result.</span></div><div class="line">        <span class="comment">// Before accessing the chunk data, you should check to see</span></div><div class="line">        <span class="comment">// if the chunk is readable. When it is readable, the buffer</span></div><div class="line">        <span class="comment">// contains the requested chunk data.</span></div><div class="line">        <span class="keywordflow">if</span> (chunkTimestamp.IsReadable())</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;OnImageGrabbed: TimeStamp (Result) accessed via node map: &quot;</span> &lt;&lt; chunkTimestamp.<a class="code" href="class_pylon_1_1_c_integer_parameter.html#a00f9700b9569178e20b28d851e524005">GetValue</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Native parameter access:</span></div><div class="line">        <span class="comment">// When using the device-specific grab results the chunk data can be accessed</span></div><div class="line">        <span class="comment">// via the members of the grab result data.</span></div><div class="line">        <span class="keywordflow">if</span> (ptrGrabResult-&gt;<a class="code" href="class_basler___universal_chunk_data_params_1_1_c_universal_chunk_data_params___params__v6__1__0.html#a80f37afcec6d926ae62fa7fe01b51524">ChunkTimestamp</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#aecafd04d36b4c3a49a79b1368e102db5">IsReadable</a>())</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;OnImageGrabbed: TimeStamp (Result) accessed via result member: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_basler___universal_chunk_data_params_1_1_c_universal_chunk_data_params___params__v6__1__0.html#a80f37afcec6d926ae62fa7fe01b51524">ChunkTimestamp</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl;</div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// Number of images to be grabbed.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 5;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create an instant camera object with the first found camera device.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <span class="comment">// Print the model name of the camera.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a958720228a24033bac2d536010e493c3">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Register an image event handler that accesses the chunk data.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#af4985cc7f053717b4d9d9a18a8973cec">RegisterImageEventHandler</a>( <span class="keyword">new</span> CSampleImageEventHandler, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        <span class="comment">// A GenICam node map is required for accessing chunk data. That&#39;s why a small node map is required for each grab result.</span></div><div class="line">        <span class="comment">// Creating a lot of node maps can be time consuming.</span></div><div class="line">        <span class="comment">// The node maps are usually created dynamically when StartGrabbing() is called.</span></div><div class="line">        <span class="comment">// To avoid a delay caused by node map creation in StartGrabbing() you have the option to create</span></div><div class="line">        <span class="comment">// a static pool of node maps once before grabbing.</span></div><div class="line">        <span class="comment">//camera.StaticChunkNodeMapPoolSize = camera.MaxNumBuffer.GetValue();</span></div><div class="line"></div><div class="line">        <span class="comment">// Enable chunks in general.</span></div><div class="line">        <span class="keywordflow">if</span> (!camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a38f7439f84d07dbd7b43bf64f83f2437">ChunkModeActive</a>.<a class="code" href="struct_pylon_1_1_i_boolean_ex.html#afd3469a4160bdad52c2e67b5ddda0672">TrySetValue</a>(<span class="keyword">true</span>))</div><div class="line">        {</div><div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;The camera doesn&#39;t support chunk features&quot;</span>);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Enable time stamp chunks.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a6e8a7479a1c3adb312248b92ac1e413c">ChunkSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(ChunkSelector_Timestamp);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a7b3a54b24f4eb4142233746cae518394">ChunkEnable</a>.<a class="code" href="struct_gen_api_1_1_i_boolean.html#abf22ae207525254e10bb0c6869875ffc">SetValue</a>(<span class="keyword">true</span>);</div><div class="line"></div><div class="line">        <span class="comment">// Enable frame counter chunks?</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a6e8a7479a1c3adb312248b92ac1e413c">ChunkSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>(ChunkSelector_Framecounter)) </div><div class="line">        {</div><div class="line">            <span class="comment">// USB camera devices provide generic counters.</span></div><div class="line">            <span class="comment">// An explicit FrameCounter value is not provided by USB camera devices.</span></div><div class="line">            <span class="comment">// Enable frame counter chunks.</span></div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a7b3a54b24f4eb4142233746cae518394">ChunkEnable</a>.<a class="code" href="struct_gen_api_1_1_i_boolean.html#abf22ae207525254e10bb0c6869875ffc">SetValue</a>(<span class="keyword">true</span>);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Enable CRC checksum chunks.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a6e8a7479a1c3adb312248b92ac1e413c">ChunkSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(ChunkSelector_PayloadCRC16);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a7b3a54b24f4eb4142233746cae518394">ChunkEnable</a>.<a class="code" href="struct_gen_api_1_1_i_boolean.html#abf22ae207525254e10bb0c6869875ffc">SetValue</a>(<span class="keyword">true</span>);</div><div class="line"></div><div class="line">        <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div><div class="line">        <span class="comment">// The camera device is parameterized with a default configuration which</span></div><div class="line">        <span class="comment">// sets up free-running continuous acquisition.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( c_countOfImagesToGrab);</div><div class="line"></div><div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_grab_result_ptr.html">CBaslerUniversalGrabResultPtr</a> ptrGrabResult;</div><div class="line"></div><div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div><div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div><div class="line">        <span class="keywordflow">while</span>( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a1d2155d0c74753808af267c34291858c">IsGrabbing</a>())</div><div class="line">        {</div><div class="line">            <span class="comment">// Wait for an image and then retrieve it. A timeout of 5000 ms is used.</span></div><div class="line">            <span class="comment">// RetrieveResult calls the image event handler&#39;s OnImageGrabbed method.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a78f3b07a3e5c7a64530645ecae49b02e">RetrieveResult</a>( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">            <span class="comment">// Display the image</span></div><div class="line">            Pylon::DisplayImage(1, ptrGrabResult);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;GrabSucceeded: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">            <span class="comment">// The result data is automatically filled with received chunk data.</span></div><div class="line">            <span class="comment">// (Note:  This is not the case when using the low-level API)</span></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;SizeX: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a26338b92c78e4217325de426842df600">GetWidth</a>() &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;SizeY: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a6ec284bd2d65d6bd899d444639317709">GetHeight</a>() &lt;&lt; endl;</div><div class="line">            <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0ed8d8548b5e4da67167d388fb85e0b5">GetBuffer</a>();</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; endl;</div><div class="line"></div><div class="line">            <span class="comment">// Check to see if a buffer containing chunk data has been received.</span></div><div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___pylon___instant_camera_api_generic.html#ggaf50b993da3a56a8a843e4d54e15b2329a5424a047d0e7ac6d548ced0dcad05b3e">PayloadType_ChunkData</a> != ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#ac33852d7988e186624ec6536b590bb6a">GetPayloadType</a>())</div><div class="line">            {</div><div class="line">                <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;Unexpected payload type received.&quot;</span>);</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Since we have activated the CRC Checksum feature, we can check</span></div><div class="line">            <span class="comment">// the integrity of the buffer first.</span></div><div class="line">            <span class="comment">// Note: Enabling the CRC Checksum feature is not a prerequisite for using</span></div><div class="line">            <span class="comment">// chunks. Chunks can also be handled when the CRC Checksum feature is deactivated.</span></div><div class="line">            <span class="keywordflow">if</span> (ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a5b6f4cd1bfbc08ed3a481d1c7db8060a">HasCRC</a>() &amp;&amp; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0c33d6495bde5f8997adcb81724c3cfe">CheckCRC</a>() == <span class="keyword">false</span>)</div><div class="line">            {</div><div class="line">                <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;Image was damaged!&quot;</span>);</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Access the chunk data attached to the result.</span></div><div class="line">            <span class="comment">// Before accessing the chunk data, you should check to see</span></div><div class="line">            <span class="comment">// if the chunk is readable. When it is readable, the buffer</span></div><div class="line">            <span class="comment">// contains the requested chunk data.</span></div><div class="line">            <span class="keywordflow">if</span> (ptrGrabResult-&gt;<a class="code" href="class_basler___universal_chunk_data_params_1_1_c_universal_chunk_data_params___params__v6__1__0.html#a80f37afcec6d926ae62fa7fe01b51524">ChunkTimestamp</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#aecafd04d36b4c3a49a79b1368e102db5">IsReadable</a>())</div><div class="line">            {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;TimeStamp (Result): &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_basler___universal_chunk_data_params_1_1_c_universal_chunk_data_params___params__v6__1__0.html#a80f37afcec6d926ae62fa7fe01b51524">ChunkTimestamp</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl;</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// USB camera devices provide generic counters. An explicit FrameCounter value is not provided by USB camera devices.</span></div><div class="line">            <span class="keywordflow">if</span> (ptrGrabResult-&gt;<a class="code" href="class_basler___universal_chunk_data_params_1_1_c_universal_chunk_data_params___params__v6__1__0.html#a3ca4f9d47ac26e9101a2069c60080011">ChunkFramecounter</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#aecafd04d36b4c3a49a79b1368e102db5">IsReadable</a>())</div><div class="line">            {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;FrameCounter (Result): &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_basler___universal_chunk_data_params_1_1_c_universal_chunk_data_params___params__v6__1__0.html#a3ca4f9d47ac26e9101a2069c60080011">ChunkFramecounter</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl;</div><div class="line">            }</div><div class="line">            </div><div class="line">            cout &lt;&lt; endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Disable chunk mode.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a38f7439f84d07dbd7b43bf64f83f2437">ChunkModeActive</a>.<a class="code" href="struct_gen_api_1_1_i_boolean.html#abf22ae207525254e10bb0c6869875ffc">SetValue</a>(<span class="keyword">false</span>);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Grab_MultiCast"></a>
Grab_MultiCast</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_MultiCast.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample demonstrates how to open a camera in multicast mode</span></div><div class="line"><span class="comment">    and how to receive a multicast stream.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    Two instances of this application must be started simultaneously on different computers.</span></div><div class="line"><span class="comment">    The first application started on computer A acts as the controlling application and has full access to the GigE camera.</span></div><div class="line"><span class="comment">    The second instance started on computer B opens the camera in monitor mode.</span></div><div class="line"><span class="comment">    This instance is not able to control the camera but can receive multicast streams.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    To get the sample running, start this application first on computer A in control mode.</span></div><div class="line"><span class="comment">    After computer A has begun to receive frames, start the second instance of this</span></div><div class="line"><span class="comment">    application on computer B in monitor mode.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line"><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// Include file to use pylon universal instant camera parameters.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_universal_instant_camera_8h.html">pylon/BaslerUniversalInstantCamera.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Include files used by samples.</span></div><div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;../include/ImageEventPrinter.h&quot;</span></div><div class="line"></div><div class="line"><span class="comment">// Include file for _kbhit</span></div><div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div><div class="line"><span class="preprocessor">#include &lt;conio.h&gt;</span></div><div class="line"><span class="preprocessor">#elif defined(PYLON_UNIX_BUILD)</span></div><div class="line"><span class="preprocessor">#    include &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#    include &lt;termios.h&gt;</span></div><div class="line"><span class="preprocessor">#    include &lt;unistd.h&gt;</span></div><div class="line"><span class="preprocessor">#    include &lt;fcntl.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon universal instant camera parameters.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_basler___universal_camera_params.html">Basler_UniversalCameraParams</a>;</div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_basler___universal_stream_params.html">Basler_UniversalStreamParams</a>;</div><div class="line"></div><div class="line"><span class="comment">// Number of images to be grabbed.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 100;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">bool</span> KeyPressed(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div><div class="line">  <span class="keywordflow">return</span> _kbhit() != 0;</div><div class="line"><span class="preprocessor">#elif defined(PYLON_UNIX_BUILD)</span></div><div class="line">  <span class="keyword">struct </span>termios savedTermios;</div><div class="line">  <span class="keywordtype">int</span> savedFL;</div><div class="line">  <span class="keyword">struct </span>termios termios;</div><div class="line">  <span class="keywordtype">int</span> ch;</div><div class="line"></div><div class="line">  tcgetattr(STDIN_FILENO, &amp;savedTermios);</div><div class="line">  savedFL = fcntl(STDIN_FILENO, F_GETFL, 0);</div><div class="line"></div><div class="line">  termios = savedTermios;</div><div class="line">  termios.c_lflag &amp;= ~(ICANON | ECHO);</div><div class="line">  tcsetattr(STDIN_FILENO, TCSANOW, &amp;termios);</div><div class="line">  fcntl(STDIN_FILENO, F_SETFL, savedFL | O_NONBLOCK);</div><div class="line"></div><div class="line">  ch = getchar();</div><div class="line"></div><div class="line">  fcntl(STDIN_FILENO, F_SETFL, savedFL);</div><div class="line">  tcsetattr(STDIN_FILENO, TCSANOW, &amp;savedTermios);</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (ch != EOF)</div><div class="line">  {</div><div class="line">    ungetc(ch, stdin);</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> ch != EOF;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Query the user for the mode to use.</span></div><div class="line">    <span class="keywordtype">bool</span> monitorMode = <span class="keyword">false</span>;</div><div class="line">    {</div><div class="line">        <span class="keywordtype">char</span> key;</div><div class="line"></div><div class="line">        <span class="comment">// Ask the user to launch the multicast controlling application or the multicast monitoring application.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Start multicast sample in (c)ontrol or in (m)onitor mode? (c/m) &quot;</span>;</div><div class="line"></div><div class="line">        <span class="keywordflow">do</span></div><div class="line">            cin.get(key);</div><div class="line">        <span class="keywordflow">while</span> ( (key != <span class="charliteral">&#39;c&#39;</span>) &amp;&amp; (key != <span class="charliteral">&#39;m&#39;</span>) &amp;&amp; (key != <span class="charliteral">&#39;C&#39;</span>) &amp;&amp; (key != <span class="charliteral">&#39;M&#39;</span>));</div><div class="line"></div><div class="line">        monitorMode = (key == <span class="charliteral">&#39;m&#39;</span>) || (key == <span class="charliteral">&#39;M&#39;</span>);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Flush input buffer (stdin).</span></div><div class="line">    <span class="keywordflow">while</span>(KeyPressed())</div><div class="line">    { getchar(); }</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Only look for GigE cameras.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div><div class="line">        info.<a class="code" href="class_pylon_1_1_c_info_base.html#ac0a1e40b375b188e495237aeddababca">SetTLType</a>(<a class="code" href="namespace_pylon_1_1_t_l_type.html#a5e0eb2dd14a06c2886b9cab374aca0a3">Pylon::TLType::TLTypeGigE</a>);</div><div class="line"></div><div class="line">        <span class="comment">// Create an instant camera object for the GigE camera found first.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice( info));</div><div class="line"></div><div class="line">        <span class="comment">// The default configuration must be removed when monitor mode is selected</span></div><div class="line">        <span class="comment">// because the monitoring application is not allowed to modify any parameter settings.</span></div><div class="line">        <span class="keywordflow">if</span> ( monitorMode)</div><div class="line">        {</div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( (<a class="code" href="class_pylon_1_1_c_configuration_event_handler.html">CConfigurationEventHandler</a>*) NULL, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// For demonstration purposes only, add sample configuration event handlers to print out information</span></div><div class="line">        <span class="comment">// about camera use and image grabbing.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> CConfigurationEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>); <span class="comment">// Camera use.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#af4985cc7f053717b4d9d9a18a8973cec">RegisterImageEventHandler</a>( <span class="keyword">new</span> CImageEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);     <span class="comment">// Image grabbing.</span></div><div class="line"></div><div class="line">        <span class="comment">// Print the model name of the camera.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a958720228a24033bac2d536010e493c3">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Monitor mode selected.</span></div><div class="line">        <span class="keywordflow">if</span> ( monitorMode)</div><div class="line">        {</div><div class="line">            <span class="comment">// Set MonitorModeActive to true to act as monitor</span></div><div class="line">            camera.<a class="code" href="class_basler___instant_camera_params_1_1_c_instant_camera_params___params__v6__1__0.html#ae49c0a2eba56fc913af574e602e57aae">MonitorModeActive</a> = <span class="keyword">true</span>;</div><div class="line"></div><div class="line">            <span class="comment">// Open the camera.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">            <span class="comment">// Select transmission type. If the camera is already controlled by another application</span></div><div class="line">            <span class="comment">// and configured for multicast, the active camera configuration can be used</span></div><div class="line">            <span class="comment">// (IP Address and Port will be set automatically).</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#acdf9e98356a363193f7be73eb0da6146">GetStreamGrabberParams</a>().TransmissionType = <a class="code" href="___basler_universal_stream_params_8h.html#a009268c357abbf828247dbd920cdd8b7ac4bcf71d6bcf5601b222a9215dfc0919">TransmissionType_UseCameraConfig</a>;</div><div class="line"></div><div class="line">            <span class="comment">// Alternatively, the stream grabber could be explicitly set to &quot;multicast&quot;...</span></div><div class="line">            <span class="comment">// In this case, the IP Address and the IP port must also be set.</span></div><div class="line">            <span class="comment">//</span></div><div class="line">            <span class="comment">//camera.GetStreamGrabberParams().TransmissionType = TransmissionType_Multicast;</span></div><div class="line">            <span class="comment">//camera.GetStreamGrabberParams().DestinationAddr = &quot;239.0.0.1&quot;;</span></div><div class="line">            <span class="comment">//camera.GetStreamGrabberParams().DestinationPort = 49152;</span></div><div class="line"></div><div class="line">            <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#acdf9e98356a363193f7be73eb0da6146">GetStreamGrabberParams</a>().DestinationAddr.GetValue() != <span class="stringliteral">&quot;0.0.0.0&quot;</span> &amp;&amp;</div><div class="line">                camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#acdf9e98356a363193f7be73eb0da6146">GetStreamGrabberParams</a>().DestinationPort.GetValue() != 0)</div><div class="line">            {</div><div class="line">                camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( c_countOfImagesToGrab);</div><div class="line"></div><div class="line">            } <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Failed to open stream grabber (monitor mode): The acquisition is not yet started by the controlling application.&quot;</span> &lt;&lt; endl;</div><div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Start the controlling application before starting the monitor application&quot;</span> &lt;&lt; endl;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="comment">// Controlling mode selected.</span></div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Open the camera.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">            <span class="comment">// Set transmission type to &quot;multicast&quot;...</span></div><div class="line">            <span class="comment">// In this case, the IP Address and the IP port must also be set.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#acdf9e98356a363193f7be73eb0da6146">GetStreamGrabberParams</a>().TransmissionType = <a class="code" href="___basler_universal_stream_params_8h.html#a009268c357abbf828247dbd920cdd8b7a0bcd93df7e39ba329260ad98146d7792">TransmissionType_Multicast</a>;</div><div class="line">            <span class="comment">// camera.GetStreamGrabberParams().DestinationAddr = &quot;239.0.0.1&quot;;    // These are default values.</span></div><div class="line">            <span class="comment">// camera.GetStreamGrabberParams().DestinationPort = 49152;</span></div><div class="line"></div><div class="line">            <span class="comment">// Maximize the image area of interest (Image AOI).</span></div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line"></div><div class="line">            <span class="comment">// Set the pixel data format.</span></div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa897adec2da74c3a6407d96d42eec710">PixelFormat</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(PixelFormat_Mono8);</div><div class="line"></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>();</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div><div class="line"></div><div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div><div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved in monitor mode</span></div><div class="line">        <span class="comment">// or when a key is pressed and the camera object is destroyed.</span></div><div class="line">        <span class="keywordflow">while</span>( !KeyPressed() &amp;&amp; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a1d2155d0c74753808af267c34291858c">IsGrabbing</a>())</div><div class="line">        {</div><div class="line">            <span class="comment">// Wait for an image and then retrieve it. A timeout of 5000 ms is used.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a78f3b07a3e5c7a64530645ecae49b02e">RetrieveResult</a>( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">            <span class="comment">// Display the image</span></div><div class="line">            Pylon::DisplayImage(1, ptrGrabResult);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">            <span class="comment">// The grab result could now be processed here.</span></div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following three lines to disable wait on exit.</span></div><div class="line">    cin.ignore(cin.rdbuf()-&gt;in_avail()); <span class="comment">//Remove left over characters from input buffer.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Grab_MultipleCameras"></a>
Grab_MultipleCameras</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_MultipleCameras.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample illustrates how to grab and process images from multiple cameras</span></div><div class="line"><span class="comment">    using the CInstantCameraArray class. The CInstantCameraArray class represents</span></div><div class="line"><span class="comment">    an array of instant camera objects. It provides almost the same interface</span></div><div class="line"><span class="comment">    as the instant camera for grabbing.</span></div><div class="line"><span class="comment">    The main purpose of the CInstantCameraArray is to simplify waiting for images and</span></div><div class="line"><span class="comment">    camera events of multiple cameras in one thread. This is done by providing a single</span></div><div class="line"><span class="comment">    RetrieveResult method for all cameras in the array.</span></div><div class="line"><span class="comment">    Alternatively, the grabbing can be started using the internal grab loop threads</span></div><div class="line"><span class="comment">    of all cameras in the CInstantCameraArray. The grabbed images can then be processed by one or more</span></div><div class="line"><span class="comment">    image event handlers. Please note that this is not shown in this example.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line"><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="comment">// Number of images to be grabbed.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 10;</div><div class="line"></div><div class="line"><span class="comment">// Limits the amount of cameras used for grabbing.</span></div><div class="line"><span class="comment">// It is important to manage the available bandwidth when grabbing with multiple cameras.</span></div><div class="line"><span class="comment">// This applies, for instance, if two GigE cameras are connected to the same network adapter via a switch.</span></div><div class="line"><span class="comment">// To manage the bandwidth, the GevSCPD interpacket delay parameter and the GevSCFTD transmission delay</span></div><div class="line"><span class="comment">// parameter can be set for each GigE camera device.</span></div><div class="line"><span class="comment">// The &quot;Controlling Packet Transmission Timing with the Interpacket and Frame Transmission Delays on Basler GigE Vision Cameras&quot;</span></div><div class="line"><span class="comment">// Application Notes (AW000649xx000)</span></div><div class="line"><span class="comment">// provide more information about this topic.</span></div><div class="line"><span class="comment">// The bandwidth used by a FireWire camera device can be limited by adjusting the packet size.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> c_maxCamerasToUse = 2;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Get the transport layer factory.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_tl_factory.html">CTlFactory</a>&amp; tlFactory = <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Get all attached devices and exit application if no device is found.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_device_info_list.html">DeviceInfoList_t</a> devices;</div><div class="line">        <span class="keywordflow">if</span> ( tlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a9a66b37caea9bbd0a50cf377ba4ed94a">EnumerateDevices</a>(devices) == 0 )</div><div class="line">        {</div><div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;No camera present.&quot;</span>);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Create an array of instant cameras for the found devices and avoid exceeding a maximum number of devices.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera_array.html">CInstantCameraArray</a> cameras( min( devices.size(), c_maxCamerasToUse));</div><div class="line"></div><div class="line">        <span class="comment">// Create and attach all Pylon Devices.</span></div><div class="line">        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i = 0; i &lt; cameras.GetSize(); ++i)</div><div class="line">        {</div><div class="line">            cameras[ i ].Attach( tlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a5bfdb71c0f2ffd0d86839b8f463c3c4d">CreateDevice</a>( devices[ i ]));</div><div class="line"></div><div class="line">            <span class="comment">// Print the model name of the camera.</span></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; cameras[ i ].GetDeviceInfo().GetModelName() &lt;&lt; endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Starts grabbing for all cameras starting with index 0. The grabbing</span></div><div class="line">        <span class="comment">// is started for one camera after the other. That&#39;s why the images of all</span></div><div class="line">        <span class="comment">// cameras are not taken at the same time.</span></div><div class="line">        <span class="comment">// However, a hardware trigger setup can be used to cause all cameras to grab images synchronously.</span></div><div class="line">        <span class="comment">// According to their default configuration, the cameras are</span></div><div class="line">        <span class="comment">// set up for free-running continuous acquisition.</span></div><div class="line">        cameras.StartGrabbing();</div><div class="line"></div><div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div><div class="line"></div><div class="line">        <span class="comment">// Grab c_countOfImagesToGrab from the cameras.</span></div><div class="line">        <span class="keywordflow">for</span>( uint32_t i = 0; i &lt; c_countOfImagesToGrab &amp;&amp; cameras.IsGrabbing(); ++i)</div><div class="line">        {</div><div class="line">            cameras.RetrieveResult( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div><div class="line"></div><div class="line">            <span class="comment">// When the cameras in the array are created the camera context value</span></div><div class="line">            <span class="comment">// is set to the index of the camera in the array.</span></div><div class="line">            <span class="comment">// The camera context is a user settable value.</span></div><div class="line">            <span class="comment">// This value is attached to each grab result and can be used</span></div><div class="line">            <span class="comment">// to determine the camera that produced the grab result.</span></div><div class="line">            intptr_t cameraContextValue = ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#ac98deba500c1abfc140242bde17b1ed6">GetCameraContext</a>();</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">            <span class="comment">// Show the image acquired by each camera in the window related to each camera.</span></div><div class="line">            Pylon::DisplayImage(cameraContextValue, ptrGrabResult);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">            <span class="comment">// Print the index and the model name of the camera.</span></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Camera &quot;</span> &lt;&lt;  cameraContextValue &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cameras[ cameraContextValue ].GetDeviceInfo().GetModelName() &lt;&lt; endl;</div><div class="line"></div><div class="line">            <span class="comment">// Now, the image data can be processed.</span></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;GrabSucceeded: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>() &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;SizeX: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a26338b92c78e4217325de426842df600">GetWidth</a>() &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;SizeY: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a6ec284bd2d65d6bd899d444639317709">GetHeight</a>() &lt;&lt; endl;</div><div class="line">            <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0ed8d8548b5e4da67167d388fb85e0b5">GetBuffer</a>();</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; endl &lt;&lt; endl;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Grab_Strategies"></a>
Grab_Strategies</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_Strategies.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample shows the use of the Instant Camera grab strategies.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Include files used by samples.</span></div><div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;../include/ImageEventPrinter.h&quot;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div><div class="line"></div><div class="line">        <span class="comment">// Create an instant camera object for the camera device found first.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <span class="comment">// Register the standard configuration event handler for enabling software triggering.</span></div><div class="line">        <span class="comment">// The software trigger configuration handler replaces the default configuration</span></div><div class="line">        <span class="comment">// as all currently registered configuration handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_software_trigger_configuration.html">CSoftwareTriggerConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// For demonstration purposes only, add sample configuration event handlers to print out information</span></div><div class="line">        <span class="comment">// about camera use and image grabbing.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> CConfigurationEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#af4985cc7f053717b4d9d9a18a8973cec">RegisterImageEventHandler</a>( <span class="keyword">new</span> CImageEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// Print the model name of the camera.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a958720228a24033bac2d536010e493c3">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// The MaxNumBuffer parameter can be used to control the count of buffers</span></div><div class="line">        <span class="comment">// allocated for grabbing. The default value of this parameter is 10.</span></div><div class="line">        camera.<a class="code" href="class_basler___instant_camera_params_1_1_c_instant_camera_params___params__v6__1__0.html#a9205abb1850ef7e5f1a79fe2ccd377f9">MaxNumBuffer</a> = 15;</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Can the camera device be queried whether it is ready to accept the next frame trigger?</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a302f77b8a97ab622ca7b6ca0dce2c512">CanWaitForFrameTriggerReady</a>())</div><div class="line">        {</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Grab using the GrabStrategy_OneByOne default strategy:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">            <span class="comment">// The GrabStrategy_OneByOne strategy is used. The images are processed</span></div><div class="line">            <span class="comment">// in the order of their arrival.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( <a class="code" href="group___pylon___instant_camera_api_generic.html#gga56a922b1bd37848234153b9e12f7fecba62ef2e619a5079431c23af8061665751">GrabStrategy_OneByOne</a>);</div><div class="line"></div><div class="line">            <span class="comment">// In the background, the grab engine thread retrieves the</span></div><div class="line">            <span class="comment">// image data and queues the buffers into the internal output queue.</span></div><div class="line"></div><div class="line">            <span class="comment">// Issue software triggers. For each call, wait up to 1000 ms until the camera is ready for triggering the next image.</span></div><div class="line">            <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; 3; ++i)</div><div class="line">            {</div><div class="line">                <span class="keywordflow">if</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a7506b5b38079ba4583a088a620187b29">WaitForFrameTriggerReady</a>( 1000, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>))</div><div class="line">                {</div><div class="line">                    camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#ae5a4e166d9198dd4706a1c72c0bc2bc6">ExecuteSoftwareTrigger</a>();</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// For demonstration purposes, wait for the last image to appear in the output queue.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>( 3*1000);</div><div class="line"></div><div class="line">            <span class="comment">// Check that grab results are waiting.</span></div><div class="line">            <span class="keywordflow">if</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a45d7d8a0070b94ff77e5760ee93c368f">GetGrabResultWaitObject</a>().<a class="code" href="class_pylon_1_1_wait_object.html#af855f4a485e0c669318da539e0b7db58">Wait</a>( 0))</div><div class="line">            {</div><div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Grab results wait in the output queue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// All triggered images are still waiting in the output queue</span></div><div class="line">            <span class="comment">// and are now retrieved.</span></div><div class="line">            <span class="comment">// The grabbing continues in the background, e.g. when using hardware trigger mode,</span></div><div class="line">            <span class="comment">// as long as the grab engine does not run out of buffers.</span></div><div class="line">            <span class="keywordtype">int</span> nBuffersInQueue = 0;</div><div class="line">            <span class="keywordflow">while</span>( camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a78f3b07a3e5c7a64530645ecae49b02e">RetrieveResult</a>( 0, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344a957ab0224b24e6361ceea112c5148067">TimeoutHandling_Return</a>))</div><div class="line">            {</div><div class="line">                nBuffersInQueue++;</div><div class="line">            }</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Retrieved &quot;</span> &lt;&lt; nBuffersInQueue &lt;&lt; <span class="stringliteral">&quot; grab results from output queue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">            <span class="comment">//Stop the grabbing.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a5ef34cbfa61d4f0c2c1739bea5e5ee4f">StopGrabbing</a>();</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Grab using strategy GrabStrategy_LatestImageOnly:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">            <span class="comment">// The GrabStrategy_LatestImageOnly strategy is used. The images are processed</span></div><div class="line">            <span class="comment">// in the order of their arrival but only the last received image</span></div><div class="line">            <span class="comment">// is kept in the output queue.</span></div><div class="line">            <span class="comment">// This strategy can be useful when the acquired images are only displayed on the screen.</span></div><div class="line">            <span class="comment">// If the processor has been busy for a while and images could not be displayed automatically</span></div><div class="line">            <span class="comment">// the latest image is displayed when processing time is available again.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( <a class="code" href="group___pylon___instant_camera_api_generic.html#gga56a922b1bd37848234153b9e12f7fecbacb541053c64948f5d55e7955588deb33">GrabStrategy_LatestImageOnly</a>);</div><div class="line"></div><div class="line">            <span class="comment">// Execute the software trigger, wait actively until the camera accepts the next frame trigger or until the timeout occurs.</span></div><div class="line">            <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; 3; ++i)</div><div class="line">            {</div><div class="line">                <span class="keywordflow">if</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a7506b5b38079ba4583a088a620187b29">WaitForFrameTriggerReady</a>( 1000, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>))</div><div class="line">                {</div><div class="line">                    camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#ae5a4e166d9198dd4706a1c72c0bc2bc6">ExecuteSoftwareTrigger</a>();</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Wait for all images.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>( 3*1000);</div><div class="line"></div><div class="line">            <span class="comment">// Check whether the grab result is waiting.</span></div><div class="line">            <span class="keywordflow">if</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a45d7d8a0070b94ff77e5760ee93c368f">GetGrabResultWaitObject</a>().<a class="code" href="class_pylon_1_1_wait_object.html#af855f4a485e0c669318da539e0b7db58">Wait</a>( 0))</div><div class="line">            {</div><div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;A grab result waits in the output queue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Only the last received image is waiting in the internal output queue</span></div><div class="line">            <span class="comment">// and is now retrieved.</span></div><div class="line">            <span class="comment">// The grabbing continues in the background, e.g. when using the hardware trigger mode.</span></div><div class="line">            nBuffersInQueue = 0;</div><div class="line">            <span class="keywordflow">while</span>( camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a78f3b07a3e5c7a64530645ecae49b02e">RetrieveResult</a>( 0, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344a957ab0224b24e6361ceea112c5148067">TimeoutHandling_Return</a>))</div><div class="line">            {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Skipped &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#af1f3245395d808e6f17664ceba0973bb">GetNumberOfSkippedImages</a>() &lt;&lt; <span class="stringliteral">&quot; images.&quot;</span> &lt;&lt; endl;</div><div class="line">                nBuffersInQueue++;</div><div class="line">            }</div><div class="line"></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Retrieved &quot;</span> &lt;&lt; nBuffersInQueue &lt;&lt; <span class="stringliteral">&quot; grab result from output queue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">            <span class="comment">//Stop the grabbing.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a5ef34cbfa61d4f0c2c1739bea5e5ee4f">StopGrabbing</a>();</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Grab using strategy GrabStrategy_LatestImages:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">            <span class="comment">// The GrabStrategy_LatestImages strategy is used. The images are processed</span></div><div class="line">            <span class="comment">// in the order of their arrival, but only a number of the images received last</span></div><div class="line">            <span class="comment">// are kept in the output queue.</span></div><div class="line"></div><div class="line">            <span class="comment">// The size of the output queue can be adjusted.</span></div><div class="line">            <span class="comment">// When using this strategy the OutputQueueSize parameter can be changed during grabbing.</span></div><div class="line">            camera.<a class="code" href="class_basler___instant_camera_params_1_1_c_instant_camera_params___params__v6__1__0.html#a36d1fe2d22ff3a2f21fda6e568049e07">OutputQueueSize</a> = 2;</div><div class="line"></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( <a class="code" href="group___pylon___instant_camera_api_generic.html#gga56a922b1bd37848234153b9e12f7fecbaa3813ff38f030a6a115b2b847958e07e">GrabStrategy_LatestImages</a>);</div><div class="line"></div><div class="line">            <span class="comment">// Execute the software trigger, wait actively until the camera accepts the next frame trigger or until the timeout occurs.</span></div><div class="line">            <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; 3; ++i)</div><div class="line">            {</div><div class="line">                <span class="keywordflow">if</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a7506b5b38079ba4583a088a620187b29">WaitForFrameTriggerReady</a>( 1000, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>))</div><div class="line">                {</div><div class="line">                    camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#ae5a4e166d9198dd4706a1c72c0bc2bc6">ExecuteSoftwareTrigger</a>();</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Wait for all images.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>( 3*1000);</div><div class="line"></div><div class="line">            <span class="comment">// Check whether the grab results are waiting.</span></div><div class="line">            <span class="keywordflow">if</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a45d7d8a0070b94ff77e5760ee93c368f">GetGrabResultWaitObject</a>().<a class="code" href="class_pylon_1_1_wait_object.html#af855f4a485e0c669318da539e0b7db58">Wait</a>( 0))</div><div class="line">            {</div><div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Grab results wait in the output queue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Only the images received last are waiting in the internal output queue</span></div><div class="line">            <span class="comment">// and are now retrieved.</span></div><div class="line">            <span class="comment">// The grabbing continues in the background, e.g. when using the hardware trigger mode.</span></div><div class="line">            nBuffersInQueue = 0;</div><div class="line">            <span class="keywordflow">while</span>( camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a78f3b07a3e5c7a64530645ecae49b02e">RetrieveResult</a>( 0, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344a957ab0224b24e6361ceea112c5148067">TimeoutHandling_Return</a>))</div><div class="line">            {</div><div class="line">                <span class="keywordflow">if</span> ( ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#af1f3245395d808e6f17664ceba0973bb">GetNumberOfSkippedImages</a>())</div><div class="line">                {</div><div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;Skipped &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#af1f3245395d808e6f17664ceba0973bb">GetNumberOfSkippedImages</a>() &lt;&lt; <span class="stringliteral">&quot; image.&quot;</span> &lt;&lt; endl;</div><div class="line">                }</div><div class="line">                nBuffersInQueue++;</div><div class="line">            }</div><div class="line"></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Retrieved &quot;</span> &lt;&lt; nBuffersInQueue &lt;&lt; <span class="stringliteral">&quot; grab results from output queue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">            <span class="comment">// When setting the output queue size to 1 this strategy is equivalent to the GrabStrategy_LatestImageOnly grab strategy.</span></div><div class="line">            camera.<a class="code" href="class_basler___instant_camera_params_1_1_c_instant_camera_params___params__v6__1__0.html#a36d1fe2d22ff3a2f21fda6e568049e07">OutputQueueSize</a> = 1;</div><div class="line"></div><div class="line">            <span class="comment">// When setting the output queue size to CInstantCamera::MaxNumBuffer this strategy is equivalent to GrabStrategy_OneByOne.</span></div><div class="line">            camera.<a class="code" href="class_basler___instant_camera_params_1_1_c_instant_camera_params___params__v6__1__0.html#a36d1fe2d22ff3a2f21fda6e568049e07">OutputQueueSize</a> = camera.<a class="code" href="class_basler___instant_camera_params_1_1_c_instant_camera_params___params__v6__1__0.html#a9205abb1850ef7e5f1a79fe2ccd377f9">MaxNumBuffer</a>;</div><div class="line"></div><div class="line">            <span class="comment">//Stop the grabbing.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a5ef34cbfa61d4f0c2c1739bea5e5ee4f">StopGrabbing</a>();</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">            <span class="comment">// The Upcoming Image grab strategy can&#39;t be used together with USB camera devices.</span></div><div class="line">            <span class="comment">// For more information, see the advanced topics section of the pylon Programmer&#39;s Guide.</span></div><div class="line">            <span class="keywordflow">if</span> ( !camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a1d3fd5e7e9f079ca304ca30d9e4860d4">IsUsb</a>())</div><div class="line">            {</div><div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Grab using the GrabStrategy_UpcomingImage strategy:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">                <span class="comment">// Reconfigure the camera to use continuous acquisition.</span></div><div class="line">                <a class="code" href="class_pylon_1_1_c_acquire_continuous_configuration.html">CAcquireContinuousConfiguration</a>().<a class="code" href="class_pylon_1_1_c_acquire_continuous_configuration.html#a69cc379fa89264ed04b009ca64f1cd31">OnOpened</a>( camera);</div><div class="line"></div><div class="line">                <span class="comment">// The GrabStrategy_UpcomingImage strategy is used. A buffer for grabbing</span></div><div class="line">                <span class="comment">// is queued each time when RetrieveResult()</span></div><div class="line">                <span class="comment">// is called. The image data is grabbed into the buffer and returned.</span></div><div class="line">                <span class="comment">// This ensures that the image grabbed is the next image</span></div><div class="line">                <span class="comment">// received from the camera.</span></div><div class="line">                <span class="comment">// All images are still transported to the computer.</span></div><div class="line">                camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( <a class="code" href="group___pylon___instant_camera_api_generic.html#gga56a922b1bd37848234153b9e12f7fecbaf64146846b729117f16af62536085ea0">GrabStrategy_UpcomingImage</a>);</div><div class="line"></div><div class="line">                <span class="comment">// Queues a buffer for grabbing and waits for the grab to finish.</span></div><div class="line">                camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a78f3b07a3e5c7a64530645ecae49b02e">RetrieveResult</a>( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div><div class="line"></div><div class="line">                <span class="comment">// Sleep.</span></div><div class="line">                <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>( 1000);</div><div class="line"></div><div class="line">                <span class="comment">// Check no grab result is waiting, because no buffers are queued for grabbing.</span></div><div class="line">                <span class="keywordflow">if</span> ( !camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a45d7d8a0070b94ff77e5760ee93c368f">GetGrabResultWaitObject</a>().<a class="code" href="class_pylon_1_1_wait_object.html#af855f4a485e0c669318da539e0b7db58">Wait</a>( 0))</div><div class="line">                {</div><div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;No grab result waits in the output queue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">                }</div><div class="line"></div><div class="line">                <span class="comment">//Stop the grabbing.</span></div><div class="line">                camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a5ef34cbfa61d4f0c2c1739bea5e5ee4f">StopGrabbing</a>();</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            <span class="comment">// See the documentation of CInstantCamera::CanWaitForFrameTriggerReady() for more information.</span></div><div class="line">            cout &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;This sample can only be used with cameras that can be queried whether they are ready to accept the next frame trigger.&quot;</span>;</div><div class="line">            cout &lt;&lt; endl; </div><div class="line">            cout &lt;&lt; endl;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Grab_UsingActionCommand"></a>
Grab_UsingActionCommand</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_UsingActionCommand.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample shows how to issue a GigE Vision ACTION_CMD to multiple cameras.</span></div><div class="line"><span class="comment">    By using an action command multiple cameras can be triggered at the same time</span></div><div class="line"><span class="comment">    compared to software triggering, which must be triggered individually.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    To make the configuration of multiple cameras easier this sample uses the CInstantCameraArray class.</span></div><div class="line"><span class="comment">    It also uses a CActionTriggerConfiguration to set up the basic action command features.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;time.h&gt;</span>   <span class="comment">// for time</span></div><div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span> <span class="comment">// for rand &amp; srand</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line"><span class="preprocessor">#   include &lt;pylon/PylonGUI.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_universal_instant_camera_array_8h.html">pylon/BaslerUniversalInstantCameraArray.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_info_8h.html">pylon/Info.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_gig_e_transport_layer_8h.html">pylon/gige/GigETransportLayer.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_action_trigger_configuration_8h.html">pylon/gige/ActionTriggerConfiguration.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;pylon/gige/BaslerGigEDeviceInfo.h&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon universal instant camera parameters.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_basler___universal_camera_params.html">Basler_UniversalCameraParams</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="comment">// Limits the amount of cameras used for grabbing.</span></div><div class="line"><span class="comment">// It is important to manage the available bandwidth when grabbing with multiple</span></div><div class="line"><span class="comment">// cameras. This applies, for instance, if two GigE cameras are connected to the</span></div><div class="line"><span class="comment">// same network adapter via a switch. To manage the bandwidth, the GevSCPD</span></div><div class="line"><span class="comment">// interpacket delay parameter and the GevSCFTD transmission delay parameter can</span></div><div class="line"><span class="comment">// be set for each GigE camera device. The &quot;Controlling Packet Transmission Timing</span></div><div class="line"><span class="comment">// with the Interpacket and Frame Transmission Delays on Basler GigE Vision Cameras&quot;</span></div><div class="line"><span class="comment">// Application Note (AW000649xx000) provides more information about this topic.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_maxCamerasToUse = 2;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Get the GigE transport layer.</span></div><div class="line">        <span class="comment">// We&#39;ll need it later to issue the action commands.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_tl_factory.html">CTlFactory</a>&amp; tlFactory = CTlFactory::GetInstance();</div><div class="line">        <a class="code" href="struct_pylon_1_1_i_gig_e_transport_layer.html">IGigETransportLayer</a> *pTL = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="struct_pylon_1_1_i_gig_e_transport_layer.html">IGigETransportLayer</a> *<span class="keyword">&gt;</span>(tlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a46dcaa7cf07b96fd9fae2583bf65266a">CreateTl</a>(<a class="code" href="group___pylon___transport_layer.html#gade01a67e2f6bac8ba92b2d430efbc026">BaslerGigEDeviceClass</a>));</div><div class="line">        <span class="keywordflow">if</span> (pTL == NULL)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>(<span class="stringliteral">&quot;No GigE transport layer available.&quot;</span>);</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// In this sample we use the transport layer directly to enumerate cameras.</span></div><div class="line">        <span class="comment">// By calling EnumerateDevices on the TL we get get only GigE cameras.</span></div><div class="line">        <span class="comment">// You could also accomplish this by using a filter and</span></div><div class="line">        <span class="comment">// let the Transport Layer Factory enumerate.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_device_info_list.html">DeviceInfoList_t</a> allDeviceInfos;</div><div class="line">        <span class="keywordflow">if</span> (pTL-&gt;<a class="code" href="struct_pylon_1_1_i_device_factory.html#a7c9485beb3f38fc1c17929a46f6bb7a2">EnumerateDevices</a>(allDeviceInfos) == 0)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>(<span class="stringliteral">&quot;No GigE cameras present.&quot;</span>);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Only use cameras in the same subnet as the first one.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_device_info_list.html">DeviceInfoList_t</a> usableDeviceInfos;</div><div class="line">        usableDeviceInfos.push_back(allDeviceInfos[0]);</div><div class="line">        <span class="keyword">const</span> <a class="code" href="class_gen_i_cam_1_1gcstring.html">String_t</a> subnet(allDeviceInfos[0].GetSubnetAddress());</div><div class="line"></div><div class="line">        <span class="comment">// Start with index 1 as we have already added the first one above.</span></div><div class="line">        <span class="comment">// We will also limit the number of cameras to c_maxCamerasToUse.</span></div><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; allDeviceInfos.size() &amp;&amp; usableDeviceInfos.size() &lt; c_maxCamerasToUse; ++i)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">if</span> (subnet == allDeviceInfos[i].GetSubnetAddress())</div><div class="line">            {</div><div class="line">                <span class="comment">// Add this deviceInfo to the ones we will be using.</span></div><div class="line">                usableDeviceInfos.push_back(allDeviceInfos[i]);</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                cerr &lt;&lt; <span class="stringliteral">&quot;Camera will not be used because it is in a different subnet &quot;</span></div><div class="line">                     &lt;&lt; subnet &lt;&lt; <span class="stringliteral">&quot;!&quot;</span> &lt;&lt; endl;</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// In this sample we&#39;ll use an CBaslerGigEInstantCameraArray to access multiple cameras.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera_array.html">CBaslerUniversalInstantCameraArray</a> cameras(usableDeviceInfos.size());</div><div class="line"></div><div class="line">        <span class="comment">// Seed the random number generator and generate a random device key value.</span></div><div class="line">        srand((<span class="keywordtype">unsigned</span>)time(NULL));</div><div class="line">        <span class="keyword">const</span> uint32_t DeviceKey = rand();</div><div class="line"></div><div class="line">        <span class="comment">// For this sample we configure all cameras to be in the same group.</span></div><div class="line">        <span class="keyword">const</span> uint32_t GroupKey = 0x112233;</div><div class="line"></div><div class="line">        <span class="comment">// For the following sample we use the CActionTriggerConfiguration to configure the camera.</span></div><div class="line">        <span class="comment">// It will set the DeviceKey, GroupKey and GroupMask features. It will also</span></div><div class="line">        <span class="comment">// configure the camera FrameTrigger and set the TriggerSource to the action command.</span></div><div class="line">        <span class="comment">// You can look at the implementation of CActionTriggerConfiguration in &lt;pylon/gige/ActionTriggerConfiguration.h&gt;</span></div><div class="line">        <span class="comment">// to see which features are set.</span></div><div class="line"></div><div class="line">        <span class="comment">// Create all GigE cameras and attach them to the InstantCameras in the array.</span></div><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; cameras.GetSize(); ++i)</div><div class="line">        {</div><div class="line">            cameras[i].Attach(tlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a5bfdb71c0f2ffd0d86839b8f463c3c4d">CreateDevice</a>(usableDeviceInfos[i]));</div><div class="line">            <span class="comment">// We&#39;ll use the CActionTriggerConfiguration, which will set up the cameras to wait for an action command.</span></div><div class="line">            cameras[i].RegisterConfiguration(<span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_action_trigger_configuration.html">CActionTriggerConfiguration</a>(DeviceKey, GroupKey, AllGroupMask), <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line">            <span class="comment">// Set the context. This will help us later to correlate the grab result to a camera in the array.</span></div><div class="line">            cameras[i].SetCameraContext(i);</div><div class="line"></div><div class="line">            <span class="keyword">const</span> CBaslerGigEDeviceInfo&amp; di = cameras[i].GetDeviceInfo();</div><div class="line"></div><div class="line">            <span class="comment">// Print the model name of the camera.</span></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Using camera &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; di.GetModelName() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; di.GetIpAddress() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Open all cameras.</span></div><div class="line">        <span class="comment">// This will apply the CActionTriggerConfiguration specified above.</span></div><div class="line">        cameras.Open();</div><div class="line"></div><div class="line">        <span class="comment">// Use an Action Command to Trigger Multiple Cameras at the Same Time.</span></div><div class="line"><span class="comment"></span></div><div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Issuing an action command.&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Starts grabbing for all cameras.</span></div><div class="line">        <span class="comment">// The cameras won&#39;t transmit any image data, because they are configured to wait for an action command.</span></div><div class="line">        cameras.StartGrabbing();</div><div class="line"></div><div class="line">        <span class="comment">// Now we issue the action command to all devices in the subnet.</span></div><div class="line">        <span class="comment">// The devices with a matching DeviceKey, GroupKey and valid GroupMask will grab an image.</span></div><div class="line">        pTL-&gt;<a class="code" href="struct_pylon_1_1_i_gig_e_transport_layer.html#afe8642580afe61f26401b69df54c1d61">IssueActionCommand</a>(DeviceKey, GroupKey, AllGroupMask, subnet);</div><div class="line"></div><div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_grab_result_ptr.html">CBaslerUniversalGrabResultPtr</a> ptrGrabResult;</div><div class="line"></div><div class="line">        <span class="comment">// Retrieve images from all cameras.</span></div><div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> DefaultTimeout_ms = 5000;</div><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; usableDeviceInfos.size() &amp;&amp; cameras.IsGrabbing(); ++i)</div><div class="line">        {</div><div class="line">            <span class="comment">// CInstantCameraArray::RetrieveResult will return grab results in the order they arrive.</span></div><div class="line">            cameras.RetrieveResult(DefaultTimeout_ms, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div><div class="line"></div><div class="line">            <span class="comment">// When the cameras in the array are created the camera context value</span></div><div class="line">            <span class="comment">// is set to the index of the camera in the array.</span></div><div class="line">            <span class="comment">// The camera context is a user-settable value.</span></div><div class="line">            <span class="comment">// This value is attached to each grab result and can be used</span></div><div class="line">            <span class="comment">// to determine the camera that produced the grab result.</span></div><div class="line">            intptr_t cameraIndex = ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#ac98deba500c1abfc140242bde17b1ed6">GetCameraContext</a>();</div><div class="line"></div><div class="line"></div><div class="line">            <span class="comment">// Image grabbed successfully?</span></div><div class="line">            <span class="keywordflow">if</span> (ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>())</div><div class="line">            {</div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">                <span class="comment">// Show the image acquired by each camera in the window related to the camera.</span></div><div class="line">                <span class="comment">// DisplayImage supports up to 32 image windows.</span></div><div class="line">                <span class="keywordflow">if</span> (cameraIndex &lt;= 31)</div><div class="line">                    Pylon::DisplayImage(cameraIndex, ptrGrabResult);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">                <span class="comment">// Print the index and the model name of the camera.</span></div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Camera &quot;</span> &lt;&lt;  cameraIndex &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cameras[cameraIndex].GetDeviceInfo().GetModelName() &lt;&lt;</div><div class="line">                    <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; cameras[cameraIndex].GetDeviceInfo().GetIpAddress() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl; </div><div class="line"></div><div class="line">                <span class="comment">// You could process the image here by accessing the image buffer.</span></div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;GrabSucceeded: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>() &lt;&lt; endl;</div><div class="line">                <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0ed8d8548b5e4da67167d388fb85e0b5">GetBuffer</a>();</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; endl &lt;&lt; endl;</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                <span class="comment">// If a buffer has been incompletely grabbed, the network bandwidth is possibly insufficient for transferring</span></div><div class="line">                <span class="comment">// multiple images simultaneously. See note above c_maxCamerasToUse.</span></div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a51c4ed590aa402d030b0f3c5adfcc4e2">GetErrorCode</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#afc2854260822812b3ba46bb7efe63cc0">GetErrorDescription</a>() &lt;&lt; endl;</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// In case you want to trigger again you should wait for the camera</span></div><div class="line">        <span class="comment">// to become trigger-ready before issuing the next action command.</span></div><div class="line">        <span class="comment">// To avoid overtriggering you should call cameras[0].WaitForFrameTriggerReady</span></div><div class="line">        <span class="comment">// (see Grab_UsingGrabLoopThread sample for details).</span></div><div class="line"></div><div class="line">        cameras.StopGrabbing();</div><div class="line"></div><div class="line">        <span class="comment">// Close all cameras.</span></div><div class="line">        cameras.Close();</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span> (cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Grab_UsingBufferFactory"></a>
Grab_UsingBufferFactory</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_UsingBufferFactory.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample demonstrates how to use a user-provided buffer factory.</span></div><div class="line"><span class="comment">    Using a buffer factory is optional and intended for advanced use cases only.</span></div><div class="line"><span class="comment">    A buffer factory is only necessary if you want to grab into externally supplied buffers.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line"><span class="preprocessor">#include &lt;pylon/PylonGUI.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="comment">// Number of images to be grabbed.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 5;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// A user-provided buffer factory.</span></div><div class="line"><span class="keyword">class </span>MyBufferFactory : <span class="keyword">public</span> <a class="code" href="struct_pylon_1_1_i_buffer_factory.html">IBufferFactory</a></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    MyBufferFactory()</div><div class="line">        : m_lastBufferContext(1000)</div><div class="line">    {</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">virtual</span> ~MyBufferFactory()</div><div class="line">    {</div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">// Will be called when the Instant Camera object needs to allocate a buffer.</span></div><div class="line">    <span class="comment">// Return the buffer and context data in the output parameters.</span></div><div class="line">    <span class="comment">// In case of an error, new() will throw an exception</span></div><div class="line">    <span class="comment">// which will be forwarded to the caller to indicate an error.</span></div><div class="line">    <span class="comment">// Warning: This method can be called by different threads.</span></div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> AllocateBuffer( <span class="keywordtype">size_t</span> bufferSize, <span class="keywordtype">void</span>** pCreatedBuffer, intptr_t&amp; bufferContext)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">try</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Allocate buffer for pixel data.</span></div><div class="line">            <span class="comment">// If you already have a buffer allocated by your image processing library, you can use this instead.</span></div><div class="line">            <span class="comment">// In this case, you must modify the delete code (see below) accordingly.</span></div><div class="line">            *pCreatedBuffer = <span class="keyword">new</span> uint8_t[bufferSize];</div><div class="line">            <span class="comment">// The context information is never changed by the Instant Camera and can be used</span></div><div class="line">            <span class="comment">// by the buffer factory to manage the buffers.</span></div><div class="line">            <span class="comment">// The context information can be retrieved from a grab result by calling</span></div><div class="line">            <span class="comment">// ptrGrabResult-&gt;GetBufferContext();</span></div><div class="line">            bufferContext = ++m_lastBufferContext;</div><div class="line"></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Created buffer &quot;</span> &lt;&lt; bufferContext &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; *pCreatedBuffer &lt;&lt; endl;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp;)</div><div class="line">        {</div><div class="line">            <span class="comment">// In case of an error you must free the memory you may have already allocated.</span></div><div class="line">            <span class="keywordflow">if</span> (*pCreatedBuffer != NULL)</div><div class="line">            {</div><div class="line">                uint8_t* p = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(pCreatedBuffer);</div><div class="line">                <span class="keyword">delete</span>[] p;</div><div class="line">                *pCreatedBuffer = NULL;</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Rethrow exception.</span></div><div class="line">            <span class="comment">// AllocateBuffer can also just return with *pCreatedBuffer = NULL to indicate</span></div><div class="line">            <span class="comment">// that no buffer is available at the moment.</span></div><div class="line">            <span class="keywordflow">throw</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">// Frees a previously allocated buffer.</span></div><div class="line">    <span class="comment">// Warning: This method can be called by different threads.</span></div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> FreeBuffer( <span class="keywordtype">void</span>* pCreatedBuffer, intptr_t bufferContext)</div><div class="line">    {</div><div class="line">        uint8_t* p = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(pCreatedBuffer);</div><div class="line">        <span class="keyword">delete</span> [] p;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Freed buffer &quot;</span> &lt;&lt; bufferContext &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; pCreatedBuffer &lt;&lt; endl;</div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">// Destroys the buffer factory.</span></div><div class="line">    <span class="comment">// This will be used when you pass the ownership of the buffer factory instance to pylon</span></div><div class="line">    <span class="comment">// by defining Cleanup_Delete. pylon will call this function to destroy the instance</span></div><div class="line">    <span class="comment">// of the buffer factory. If you don&#39;t pass the ownership to pylon (Cleanup_None),</span></div><div class="line">    <span class="comment">// this method will be ignored.</span></div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> DestroyBufferFactory()</div><div class="line">    {</div><div class="line">        <span class="keyword">delete</span> <span class="keyword">this</span>;</div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">protected</span>:</div><div class="line"></div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> m_lastBufferContext;</div><div class="line">};</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// The buffer factory must be created first because objects on the</span></div><div class="line">        <span class="comment">// stack are destroyed in reverse order of creation.</span></div><div class="line">        <span class="comment">// The buffer factory must exist longer than the Instant Camera object</span></div><div class="line">        <span class="comment">// in this sample.</span></div><div class="line">        MyBufferFactory myFactory;</div><div class="line"></div><div class="line">        <span class="comment">// Create an instant camera object with the camera device found first.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <span class="comment">// Print the model name of the camera.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a958720228a24033bac2d536010e493c3">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Use our own implementation of a buffer factory.</span></div><div class="line">        <span class="comment">// Since we control the lifetime of the factory object, we pass Cleanup_None.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a241b201d21860f4f8ba11cda277af957">SetBufferFactory</a>(&amp;myFactory, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div><div class="line"></div><div class="line">        <span class="comment">// The parameter MaxNumBuffer can be used to control the count of buffers</span></div><div class="line">        <span class="comment">// allocated for grabbing. The default value of this parameter is 10.</span></div><div class="line">        camera.<a class="code" href="class_basler___instant_camera_params_1_1_c_instant_camera_params___params__v6__1__0.html#a9205abb1850ef7e5f1a79fe2ccd377f9">MaxNumBuffer</a> = 5;</div><div class="line"></div><div class="line">        <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div><div class="line">        <span class="comment">// The camera device is parameterized with a default configuration which</span></div><div class="line">        <span class="comment">// sets up free-running continuous acquisition.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( c_countOfImagesToGrab);</div><div class="line"></div><div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div><div class="line"></div><div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div><div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div><div class="line">        <span class="keywordflow">while</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a1d2155d0c74753808af267c34291858c">IsGrabbing</a>())</div><div class="line">        {</div><div class="line">            <span class="comment">// Wait for an image and then retrieve it. A timeout of 5000 ms is used.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a78f3b07a3e5c7a64530645ecae49b02e">RetrieveResult</a>( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div><div class="line"></div><div class="line">            <span class="comment">// Image grabbed successfully?</span></div><div class="line">            <span class="keywordflow">if</span> (ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>())</div><div class="line">            {</div><div class="line">                <span class="comment">// Access the image data.</span></div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Context: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a8106ae962e68d1584f571a3945a90757">GetBufferContext</a>() &lt;&lt; endl;</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;SizeX: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a26338b92c78e4217325de426842df600">GetWidth</a>() &lt;&lt; endl;</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;SizeY: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a6ec284bd2d65d6bd899d444639317709">GetHeight</a>() &lt;&lt; endl;</div><div class="line">                <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0ed8d8548b5e4da67167d388fb85e0b5">GetBuffer</a>();</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;First value of pixel data: &quot;</span> &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">                <span class="comment">// Display the grabbed image.</span></div><div class="line">                Pylon::DisplayImage(1, ptrGrabResult);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a51c4ed590aa402d030b0f3c5adfcc4e2">GetErrorCode</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#afc2854260822812b3ba46bb7efe63cc0">GetErrorDescription</a>();</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Grab_UsingExposureEndEvent"></a>
Grab_UsingExposureEndEvent</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_UsingExposureEndEvent.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample shows how to use the Exposure End event to speed up the image acquisition.</span></div><div class="line"><span class="comment">    For example, when a sensor exposure is finished, the camera can send an Exposure End event to the computer.</span></div><div class="line"><span class="comment">    The computer can receive the event before the image data of the finished exposure has been completely transferred.</span></div><div class="line"><span class="comment">    This can be used in order to avoid an unnecessary delay, for example when an imaged</span></div><div class="line"><span class="comment">    object is moved further before the related image data transfer is complete.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Include files used by samples.</span></div><div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iomanip&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef PYLON_UNIX_BUILD</span></div><div class="line"><span class="preprocessor">#    include &lt;sys/time.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// Include file to use pylon universal instant camera parameters.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_universal_instant_camera_8h.html">pylon/BaslerUniversalInstantCamera.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon universal instant camera parameters.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_basler___universal_camera_params.html">Basler_UniversalCameraParams</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="comment">// Enumeration used for distinguishing different events.</span></div><div class="line"><span class="keyword">enum</span> MyEvents</div><div class="line">{</div><div class="line">    eMyExposureEndEvent,      <span class="comment">// Triggered by a camera event.</span></div><div class="line">    eMyFrameStartOvertrigger, <span class="comment">// Triggered by a camera event.</span></div><div class="line">    eMyImageReceivedEvent,    <span class="comment">// Triggered by the receipt of an image.</span></div><div class="line">    eMyMoveEvent,             <span class="comment">// Triggered when the imaged item or the sensor head can be moved.</span></div><div class="line">    eMyNoEvent                <span class="comment">// Used as default setting.</span></div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// Names of possible events for a printed output.</span></div><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* MyEventNames[] =</div><div class="line">{</div><div class="line">    <span class="stringliteral">&quot;ExposureEndEvent     &quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;FrameStartOvertrigger&quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;ImageReceived        &quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;Move                 &quot;</span>,</div><div class="line">    <span class="stringliteral">&quot;NoEvent              &quot;</span></div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// Used for logging received events without outputting the information on the screen</span></div><div class="line"><span class="comment">// because outputting will change the timing.</span></div><div class="line"><span class="comment">// This class is used for demonstration purposes only.</span></div><div class="line"><span class="keyword">struct </span>LogItem</div><div class="line">{</div><div class="line">    LogItem()</div><div class="line">        : eventType( eMyNoEvent)</div><div class="line">        , frameNumber(0)</div><div class="line">    {</div><div class="line">    }</div><div class="line"></div><div class="line">    LogItem( MyEvents event, uint16_t frameNr)</div><div class="line">        : eventType(event)</div><div class="line">        , frameNumber(frameNr)</div><div class="line">    {</div><div class="line">        <span class="comment">//Warning, measured values can be wrong on older computer hardware.</span></div><div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div><div class="line">        QueryPerformanceCounter(&amp;time);</div><div class="line"><span class="preprocessor">#elif defined(PYLON_UNIX_BUILD)</span></div><div class="line">        <span class="keyword">struct </span>timeval tv;</div><div class="line"></div><div class="line">        gettimeofday(&amp;tv, NULL);</div><div class="line">        time = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(tv.tv_sec) * 1000L + static_cast&lt;unsigned long long&gt;(tv.tv_usec) / 1000LL;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div><div class="line">    LARGE_INTEGER time; <span class="comment">// Recorded time stamps.</span></div><div class="line"><span class="preprocessor">#elif defined(PYLON_UNIX_BUILD)</span></div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> time; <span class="comment">// Recorded time stamps.</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">    MyEvents eventType; <span class="comment">// Type of the received event.</span></div><div class="line">    uint16_t frameNumber; <span class="comment">// Frame number of the received event.</span></div><div class="line">};</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Helper function for printing a log.</span></div><div class="line"><span class="comment">// This function is used for demonstration purposes only.</span></div><div class="line"><span class="keywordtype">void</span> PrintLog( <span class="keyword">const</span> std::vector&lt;LogItem&gt;&amp; aLog)</div><div class="line">{</div><div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div><div class="line">    <span class="comment">// Get the computer timer frequency.</span></div><div class="line">    LARGE_INTEGER timerFrequency;</div><div class="line">    QueryPerformanceFrequency(&amp;timerFrequency);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    cout &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;Warning, the printed time values can be wrong on older computer hardware.&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div><div class="line">    <span class="comment">// Print the event information header.</span></div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Time [ms]    &quot;</span> &lt;&lt; <span class="stringliteral">&quot;Event                 &quot;</span> &lt;&lt; <span class="stringliteral">&quot;FrameNumber&quot;</span> &lt;&lt; std::endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;------------ &quot;</span> &lt;&lt; <span class="stringliteral">&quot;--------------------- &quot;</span> &lt;&lt; <span class="stringliteral">&quot;-----------&quot;</span> &lt;&lt; std::endl;</div><div class="line"></div><div class="line">    <span class="comment">// Print the logged information.</span></div><div class="line">    <span class="keywordtype">size_t</span> logSize = aLog.size();</div><div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i = 0; i &lt; logSize; ++i)</div><div class="line">    {</div><div class="line">        <span class="comment">// Calculate the elapsed time between the events.</span></div><div class="line">        <span class="keywordtype">double</span> time_ms = 0;</div><div class="line">        <span class="keywordflow">if</span> ( i)</div><div class="line">        {</div><div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div><div class="line">            __int64 oldTicks = ((__int64)aLog[i-1].time.HighPart &lt;&lt; 32) + (__int64)aLog[i-1].time.LowPart;</div><div class="line">            __int64 newTicks = ((__int64)aLog[i].time.HighPart &lt;&lt; 32) + (__int64)aLog[i].time.LowPart;</div><div class="line">            <span class="keywordtype">long</span> <span class="keywordtype">double</span> timeDifference = (<span class="keywordtype">long</span> double) (newTicks - oldTicks);</div><div class="line">            <span class="keywordtype">long</span> <span class="keywordtype">double</span> ticksPerSecond = (<span class="keywordtype">long</span> double) (((__int64)timerFrequency.HighPart &lt;&lt; 32) + (__int64)timerFrequency.LowPart);</div><div class="line">            time_ms = (timeDifference / ticksPerSecond) * 1000;</div><div class="line"><span class="preprocessor">#elif defined(PYLON_UNIX_BUILD)</span></div><div class="line">            time_ms = aLog[i].time - aLog[i-1].time;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Print the event information.</span></div><div class="line">        cout &lt;&lt; setw(12) &lt;&lt; fixed &lt;&lt; setprecision(4) &lt;&lt; time_ms &lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt; MyEventNames[ aLog[i].eventType ] &lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt; aLog[i].frameNumber &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Number of images to be grabbed.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 50;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Example handler for GigE camera events.</span></div><div class="line"><span class="comment">// Additional handling is required for GigE camera events because the event network packets can be lost, doubled or delayed on the network.</span></div><div class="line"><span class="keyword">class </span>CEventHandler : <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_basler_universal_camera_event_handler.html">CBaslerUniversalCameraEventHandler</a>, <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_basler_universal_image_event_handler.html">CBaslerUniversalImageEventHandler</a></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    CEventHandler()</div><div class="line">    {</div><div class="line">        <span class="comment">// Reserve space to log camera, image and move events.</span></div><div class="line">        m_log.reserve( c_countOfImagesToGrab * 3);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> Initialize(<span class="keywordtype">int</span> value , <span class="keywordtype">bool</span> isGigE) </div><div class="line">    {</div><div class="line">        m_nextExpectedFrameNumberImage = value;</div><div class="line">        m_nextExpectedFrameNumberExposureEnd = value;</div><div class="line">        m_nextFrameNumberForMove = value;</div><div class="line">        m_isGigE = isGigE;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// This method is called when a camera event has been received.</span></div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnCameraEvent( <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera, intptr_t userProvidedId, <a class="code" href="struct_gen_api_1_1_i_node.html">GenApi::INode</a>* <span class="comment">/* pNode */</span>)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> ( userProvidedId == eMyExposureEndEvent)</div><div class="line">        {</div><div class="line">            <span class="comment">// An Exposure End event has been received.</span></div><div class="line">            uint16_t frameNumber;</div><div class="line">            <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &lt; Sfnc_2_0_0)</div><div class="line">            {</div><div class="line">                frameNumber = (uint16_t)camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af51359fa112320639f34e755a052182d">ExposureEndEventFrameID</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>();</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                frameNumber = (uint16_t)camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad7059e2bc23cb478485ba89d2a013904">EventExposureEndFrameID</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>();</div><div class="line">            }</div><div class="line">            m_log.push_back( LogItem( eMyExposureEndEvent, frameNumber));</div><div class="line"></div><div class="line">            <span class="comment">// If Exposure End event is not doubled.</span></div><div class="line">            <span class="keywordflow">if</span> ( GetIncrementedFrameNumber( frameNumber) != m_nextExpectedFrameNumberExposureEnd)</div><div class="line">            {</div><div class="line">                <span class="comment">// Check whether the imaged item or the sensor head can be moved.</span></div><div class="line">                <span class="keywordflow">if</span> ( frameNumber == m_nextFrameNumberForMove)</div><div class="line">                {</div><div class="line">                    MoveImagedItemOrSensorHead();</div><div class="line">                }</div><div class="line"></div><div class="line">                <span class="comment">// Check for missing Exposure End events.</span></div><div class="line">                <span class="keywordflow">if</span> ( frameNumber != m_nextExpectedFrameNumberExposureEnd)</div><div class="line">                {</div><div class="line">                    <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;An Exposure End event has been lost. Expected frame number is %d but got frame number %d.&quot;</span>, m_nextExpectedFrameNumberExposureEnd, frameNumber);</div><div class="line">                }</div><div class="line">                IncrementFrameNumber( m_nextExpectedFrameNumberExposureEnd);</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( userProvidedId == eMyFrameStartOvertrigger)</div><div class="line">        {</div><div class="line">            <span class="comment">// The camera has been overtriggered.</span></div><div class="line">            m_log.push_back( LogItem( eMyFrameStartOvertrigger, 0));</div><div class="line"></div><div class="line">            <span class="comment">// Handle this error...</span></div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            PYLON_ASSERT2(<span class="keyword">false</span>, <span class="stringliteral">&quot;The sample has been modified and a new event has been registered. Add handler code above.&quot;</span>);</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// This method is called when an image has been grabbed.</span></div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImageGrabbed( <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera, <span class="keyword">const</span> <a class="code" href="class_pylon_1_1_c_basler_universal_grab_result_ptr.html">CBaslerUniversalGrabResultPtr</a>&amp; ptrGrabResult)</div><div class="line">    {</div><div class="line">        <span class="comment">// An image has been received.</span></div><div class="line">        uint16_t frameNumber = (uint16_t)ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#ae26269c7f9c2c848dad24eea33fed0fd">GetBlockID</a>();</div><div class="line">        m_log.push_back( LogItem( eMyImageReceivedEvent, frameNumber));</div><div class="line"></div><div class="line">        <span class="comment">// Check whether the imaged item or the sensor head can be moved.</span></div><div class="line">        <span class="comment">// This will be the case if the Exposure End has been lost or if the Exposure End is received later than the image.</span></div><div class="line">        <span class="keywordflow">if</span> ( frameNumber == m_nextFrameNumberForMove)</div><div class="line">        {</div><div class="line">            MoveImagedItemOrSensorHead();</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Check for missing images.</span></div><div class="line">        <span class="keywordflow">if</span> ( frameNumber != m_nextExpectedFrameNumberImage)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;An image has been lost. Expected frame number is %d but got frame number %d.&quot;</span>, m_nextExpectedFrameNumberImage, frameNumber);</div><div class="line">        }</div><div class="line">        IncrementFrameNumber( m_nextExpectedFrameNumberImage);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> MoveImagedItemOrSensorHead()</div><div class="line">    {</div><div class="line">        <span class="comment">// The imaged item or the sensor head can be moved now...</span></div><div class="line">        <span class="comment">// The camera may not be ready for a trigger at this point yet because the sensor is still being read out.</span></div><div class="line">        <span class="comment">// See the documentation of the CInstantCamera::WaitForFrameTriggerReady() method for more information.</span></div><div class="line">        m_log.push_back( LogItem( eMyMoveEvent, m_nextFrameNumberForMove));</div><div class="line">        IncrementFrameNumber( m_nextFrameNumberForMove);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> PrintLog()</div><div class="line">    {</div><div class="line">        ::PrintLog( m_log);</div><div class="line">    }</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keywordtype">void</span> IncrementFrameNumber( uint16_t&amp; frameNumber)</div><div class="line">    {</div><div class="line">        frameNumber = GetIncrementedFrameNumber( frameNumber);</div><div class="line">    }</div><div class="line"></div><div class="line">    uint16_t GetIncrementedFrameNumber( uint16_t frameNumber)</div><div class="line">    {</div><div class="line">        ++frameNumber;</div><div class="line">        </div><div class="line">        <span class="keywordflow">if</span> (m_isGigE) </div><div class="line">        {</div><div class="line">            <span class="keywordflow">if</span> (frameNumber == 0)</div><div class="line">            {</div><div class="line">                <span class="comment">// Zero is not a valid frame number.</span></div><div class="line">                ++frameNumber;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        </div><div class="line"></div><div class="line">        <span class="keywordflow">return</span> frameNumber;</div><div class="line">    }</div><div class="line"></div><div class="line">    uint16_t m_nextExpectedFrameNumberImage;</div><div class="line">    uint16_t m_nextExpectedFrameNumberExposureEnd;</div><div class="line">    uint16_t m_nextFrameNumberForMove;</div><div class="line"></div><div class="line">    <span class="keywordtype">bool</span> m_isGigE;</div><div class="line"></div><div class="line">    std::vector&lt;LogItem&gt; m_log;</div><div class="line">};</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// Exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create the event handler.</span></div><div class="line">        CEventHandler eventHandler;</div><div class="line"></div><div class="line">        <span class="comment">// Create an instant camera object with the first found camera device.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice() );</div><div class="line"></div><div class="line">        <span class="comment">// Camera models behave differently regarding IDs and counters. Set initial values.</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a50d21834ee84f91052302ebc92c44922">IsGigE</a>())</div><div class="line">        {</div><div class="line">            eventHandler.Initialize( 1, <span class="keyword">true</span> );</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            eventHandler.Initialize( 0, <span class="keyword">false</span> );</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// For demonstration purposes only, add sample configuration event handlers to print out information</span></div><div class="line">        <span class="comment">// about camera use and image grabbing.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> CConfigurationEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a> ); <span class="comment">// Camera use.</span></div><div class="line"></div><div class="line">        <span class="comment">// Register the event handler.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#af4985cc7f053717b4d9d9a18a8973cec">RegisterImageEventHandler</a>( &amp;eventHandler, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a> );</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &lt; Sfnc_2_0_0)</div><div class="line">        {</div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a9bccc7d47d3c688764193fafbef370cc">RegisterCameraEventHandler</a>( &amp;eventHandler, <span class="stringliteral">&quot;ExposureEndEventData&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a> );</div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a9bccc7d47d3c688764193fafbef370cc">RegisterCameraEventHandler</a>( &amp;eventHandler, <span class="stringliteral">&quot;FrameStartOvertriggerEventData&quot;</span>, eMyFrameStartOvertrigger, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a> );</div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a9bccc7d47d3c688764193fafbef370cc">RegisterCameraEventHandler</a>( &amp;eventHandler, <span class="stringliteral">&quot;EventOverrunEventData&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a> );</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a9bccc7d47d3c688764193fafbef370cc">RegisterCameraEventHandler</a>( &amp;eventHandler, <span class="stringliteral">&quot;EventExposureEndData&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a> );</div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a9bccc7d47d3c688764193fafbef370cc">RegisterCameraEventHandler</a>( &amp;eventHandler, <span class="stringliteral">&quot;EventFrameStartOvertriggerData&quot;</span>, eMyFrameStartOvertrigger, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a> );</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Camera event processing must be activated first, the default is off.</span></div><div class="line">        camera.<a class="code" href="class_basler___instant_camera_params_1_1_c_instant_camera_params___params__v6__1__0.html#a13e369783a9a6389ea22366e0ff6ce75">GrabCameraEvents</a> = <span class="keyword">true</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera for setting parameters.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Check if the device supports events.</span></div><div class="line">        <span class="keywordflow">if</span> (!camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1a67d768348a06b57e90cb3a23a57ee6">EventSelector</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">        {</div><div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;The device doesn&#39;t support events.&quot;</span> );</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Enable the sending of Exposure End events.</span></div><div class="line">        <span class="comment">// Select the event to be received.</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1a67d768348a06b57e90cb3a23a57ee6">EventSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>( EventSelector_ExposureEnd ))</div><div class="line">        {   <span class="comment">// Enable it.</span></div><div class="line">            <span class="keywordflow">if</span> (!camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>( EventNotification_On ))</div><div class="line">            {</div><div class="line">                <span class="comment">// scout-f, scout-g, and aviator GigE cameras use a different value.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>( EventNotification_GenICamEvent );</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Enable sending of Event Overrun events.</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1a67d768348a06b57e90cb3a23a57ee6">EventSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>( EventSelector_EventOverrun ))</div><div class="line">        {</div><div class="line">            <span class="keywordflow">if</span> (!camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>( EventNotification_On ))</div><div class="line">            {</div><div class="line">                <span class="comment">// scout-f, scout-g, and aviator GigE cameras use a different value.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>( EventNotification_GenICamEvent );</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Enable the sending of Frame Start Overtrigger events.</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1a67d768348a06b57e90cb3a23a57ee6">EventSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>( EventSelector_FrameStartOvertrigger ))</div><div class="line">        {</div><div class="line">            <span class="keywordflow">if</span> (!camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>( EventNotification_On ))</div><div class="line">            {</div><div class="line">                <span class="comment">// scout-f, scout-g, and aviator GigE cameras use a different value.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>( EventNotification_GenICamEvent );</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div><div class="line">        <span class="comment">// The camera device is parameterized with a default configuration which</span></div><div class="line">        <span class="comment">// sets up free-running continuous acquisition.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( c_countOfImagesToGrab );</div><div class="line"></div><div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div><div class="line"></div><div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div><div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div><div class="line">        <span class="keywordflow">while</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a1d2155d0c74753808af267c34291858c">IsGrabbing</a>())</div><div class="line">        {</div><div class="line">            <span class="comment">// Retrieve grab results and notify the camera event and image event handlers.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a78f3b07a3e5c7a64530645ecae49b02e">RetrieveResult</a>( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a> );</div><div class="line">            <span class="comment">// Nothing to do here with the grab result, the grab results are handled by the registered event handlers.</span></div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Disable the sending of Exposure End events.</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1a67d768348a06b57e90cb3a23a57ee6">EventSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>( EventSelector_ExposureEnd ))</div><div class="line">        {</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>( EventNotification_Off );</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Disable the sending of Frame Start Overtrigger events.</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1a67d768348a06b57e90cb3a23a57ee6">EventSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>( EventSelector_FrameStartOvertrigger ))</div><div class="line">        {</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>( EventNotification_Off );</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1a67d768348a06b57e90cb3a23a57ee6">EventSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>( EventSelector_EventOverrun ))</div><div class="line">        {</div><div class="line"></div><div class="line">            <span class="comment">// Disable sending Event Overrun events.</span></div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1a67d768348a06b57e90cb3a23a57ee6">EventSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>( EventSelector_EventOverrun );</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a72ebfdb8e08e39c74db4037de0feee5c">EventNotification</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>( EventNotification_Off );</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Print the recorded log showing the timing of events and images.</span></div><div class="line">        eventHandler.PrintLog();</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">            &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span> (cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Grab_UsingGrabLoopThread"></a>
Grab_UsingGrabLoopThread</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_UsingGrabLoopThread.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample illustrates how to grab and process images using the grab loop thread</span></div><div class="line"><span class="comment">    provided by the Instant Camera class.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line"><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// Include files used by samples.</span></div><div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;../include/ImageEventPrinter.h&quot;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="comment">//Example of an image event handler.</span></div><div class="line"><span class="keyword">class </span>CSampleImageEventHandler : <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_image_event_handler.html">CImageEventHandler</a></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImageGrabbed( <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a>&amp; camera, <span class="keyword">const</span> <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a>&amp; ptrGrabResult)</div><div class="line">    {</div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">        <span class="comment">// Display the image</span></div><div class="line">        Pylon::DisplayImage(1, ptrGrabResult);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;CSampleImageEventHandler::OnImageGrabbed called.&quot;</span> &lt;&lt; std::endl;</div><div class="line">        cout &lt;&lt; std::endl;</div><div class="line">        cout &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create an instant camera object for the camera device found first.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <span class="comment">// Register the standard configuration event handler for enabling software triggering.</span></div><div class="line">        <span class="comment">// The software trigger configuration handler replaces the default configuration</span></div><div class="line">        <span class="comment">// as all currently registered configuration handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_software_trigger_configuration.html">CSoftwareTriggerConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// For demonstration purposes only, add a sample configuration event handler to print out information</span></div><div class="line">        <span class="comment">// about camera use.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> CConfigurationEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// The image event printer serves as sample image processing.</span></div><div class="line">        <span class="comment">// When using the grab loop thread provided by the Instant Camera object, an image event handler processing the grab</span></div><div class="line">        <span class="comment">// results must be created and registered.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#af4985cc7f053717b4d9d9a18a8973cec">RegisterImageEventHandler</a>( <span class="keyword">new</span> CImageEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// For demonstration purposes only, register another image event handler.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#af4985cc7f053717b4d9d9a18a8973cec">RegisterImageEventHandler</a>( <span class="keyword">new</span> CSampleImageEventHandler, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera device.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Can the camera device be queried whether it is ready to accept the next frame trigger?</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a302f77b8a97ab622ca7b6ca0dce2c512">CanWaitForFrameTriggerReady</a>())</div><div class="line">        {</div><div class="line">            <span class="comment">// Start the grabbing using the grab loop thread, by setting the grabLoopType parameter</span></div><div class="line">            <span class="comment">// to GrabLoop_ProvidedByInstantCamera. The grab results are delivered to the image event handlers.</span></div><div class="line">            <span class="comment">// The GrabStrategy_OneByOne default grab strategy is used.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( <a class="code" href="group___pylon___instant_camera_api_generic.html#gga56a922b1bd37848234153b9e12f7fecba62ef2e619a5079431c23af8061665751">GrabStrategy_OneByOne</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggaf582b0a1fa8604d4e18857bd525291e6a3a3229ee04054114d6929a1ee325be9a">GrabLoop_ProvidedByInstantCamera</a>);</div><div class="line">    </div><div class="line">            cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Enter \&quot;t\&quot; to trigger the camera or \&quot;e\&quot; to exit and press enter? (t/e)&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">    </div><div class="line">            <span class="comment">// Wait for user input to trigger the camera or exit the program.</span></div><div class="line">            <span class="comment">// The grabbing is stopped, the device is closed and destroyed automatically when the camera object goes out of scope.</span></div><div class="line">            <span class="keywordtype">char</span> key;</div><div class="line">            <span class="keywordflow">do</span></div><div class="line">            {</div><div class="line">                cin.get(key);</div><div class="line">                <span class="keywordflow">if</span> ( (key == <span class="charliteral">&#39;t&#39;</span> || key == <span class="charliteral">&#39;T&#39;</span>))</div><div class="line">                {</div><div class="line">                    <span class="comment">// Execute the software trigger. Wait up to 1000 ms for the camera to be ready for trigger.</span></div><div class="line">                    <span class="keywordflow">if</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a7506b5b38079ba4583a088a620187b29">WaitForFrameTriggerReady</a>( 1000, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>))</div><div class="line">                    {</div><div class="line">                        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#ae5a4e166d9198dd4706a1c72c0bc2bc6">ExecuteSoftwareTrigger</a>();</div><div class="line">                    }</div><div class="line">                }</div><div class="line">            }</div><div class="line">            <span class="keywordflow">while</span> ( (key != <span class="charliteral">&#39;e&#39;</span>) &amp;&amp; (key != <span class="charliteral">&#39;E&#39;</span>));</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            <span class="comment">// See the documentation of CInstantCamera::CanWaitForFrameTriggerReady() for more information.</span></div><div class="line">            cout &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;This sample can only be used with cameras that can be queried whether they are ready to accept the next frame trigger.&quot;</span>;</div><div class="line">            cout &lt;&lt; endl; </div><div class="line">            cout &lt;&lt; endl;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line"></div><div class="line">        <span class="comment">// Remove left over characters from input buffer.</span></div><div class="line">        cin.ignore(cin.rdbuf()-&gt;in_avail());</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Grab_UsingSequencer"></a>
Grab_UsingSequencer</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_UsingSequencer.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample shows how to grab images using the sequencer feature of a camera.</span></div><div class="line"><span class="comment">    Three sequence sets are used for image acquisition. Each sequence set</span></div><div class="line"><span class="comment">    uses a different image height.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line"><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// Include file to use pylon universal instant camera parameters.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_universal_instant_camera_8h.html">pylon/BaslerUniversalInstantCamera.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon universal instant camera parameters.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_basler___universal_camera_params.html">Basler_UniversalCameraParams</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="comment">// Number of images to be grabbed.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 10;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create an instant camera object with the first found camera device.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a> camera(<a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <span class="comment">// Print the model name of the camera.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a958720228a24033bac2d536010e493c3">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Register the standard configuration event handler for enabling software triggering.</span></div><div class="line">        <span class="comment">// The software trigger configuration handler replaces the default configuration</span></div><div class="line">        <span class="comment">// as all currently registered configuration handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>(<span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_software_trigger_configuration.html">CSoftwareTriggerConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0f0dade27731cb067abac145b95880d3">SequencerMode</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>() || camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#acc1564df0b7c7058702e5dbc47b19a50">SequenceEnable</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">        {</div><div class="line">            <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &gt;= Sfnc_2_0_0) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">            {</div><div class="line">                <span class="comment">// Disable the sequencer before changing parameters.</span></div><div class="line">                <span class="comment">// The parameters under control of the sequencer are locked</span></div><div class="line">                <span class="comment">// when the sequencer is enabled. For a list of parameters</span></div><div class="line">                <span class="comment">// controlled by the sequencer, see the camera User&#39;s Manual.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0f0dade27731cb067abac145b95880d3">SequencerMode</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(SequencerMode_Off);</div><div class="line"></div><div class="line">                <span class="comment">// Maximize the grabbed image area of interest (Image AOI).</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line"></div><div class="line">                <span class="comment">// Set the pixel data format.</span></div><div class="line">                <span class="comment">// This parameter may be locked when the sequencer is enabled.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa897adec2da74c3a6407d96d42eec710">PixelFormat</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(PixelFormat_Mono8);</div><div class="line"></div><div class="line">                <span class="comment">// Set up sequence sets.</span></div><div class="line"></div><div class="line">                <span class="comment">// Set up sequence sets and turn sequencer configuration mode on.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac81725168629e894da66c5ae4fc49528">SequencerConfigurationMode</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(SequencerConfigurationMode_On);</div><div class="line">                </div><div class="line">                <span class="keyword">const</span> int64_t initialSet = camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a22c2cbc385ea9b859ee829d9efdebb72">SequencerSetSelector</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>();</div><div class="line">                <span class="keyword">const</span> int64_t incSet = camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a22c2cbc385ea9b859ee829d9efdebb72">SequencerSetSelector</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#adba1e261d4943c3381c3f9508d37ce91">GetInc</a>();</div><div class="line">                int64_t curSet = initialSet;</div><div class="line"></div><div class="line">                <span class="comment">// Set the parameters for step 0; quarter height image.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a22c2cbc385ea9b859ee829d9efdebb72">SequencerSetSelector</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(initialSet);</div><div class="line">                { <span class="comment">// valid for all sets</span></div><div class="line">                    <span class="comment">// reset on software signal 1;</span></div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a6b39a84c06f1013ccaf7084b17a57b5f">SequencerPathSelector</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(0);</div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a15575b8d6e36f5b0035aadd41d8f213a">SequencerSetNext</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(initialSet);</div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a7a9e67567c0fc5b7cf5fe3cbb0e5bc2a">SequencerTriggerSource</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(SequencerTriggerSource_SoftwareSignal1);</div><div class="line">                    <span class="comment">// advance on Frame Start</span></div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a6b39a84c06f1013ccaf7084b17a57b5f">SequencerPathSelector</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(1);</div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a7a9e67567c0fc5b7cf5fe3cbb0e5bc2a">SequencerTriggerSource</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(SequencerTriggerSource_FrameStart);</div><div class="line">                }</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a15575b8d6e36f5b0035aadd41d8f213a">SequencerSetNext</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(curSet + incSet);</div><div class="line">                <span class="comment">// quarter height</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#aaf6991f49374b86660231ec620b1d83c">SetValuePercentOfRange</a>(25.0);</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ab680324c2d390d71d7c851f0b1d51cf1">SequencerSetSave</a>.<a class="code" href="struct_gen_api_1_1_i_command.html#a4e72b6ccf61c1f92a1334b9e59eb4fc6">Execute</a>();</div><div class="line"></div><div class="line">                <span class="comment">// Set the parameters for step 1; half height image.</span></div><div class="line">                curSet += incSet;</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a22c2cbc385ea9b859ee829d9efdebb72">SequencerSetSelector</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(curSet);</div><div class="line">                <span class="comment">// advance on Frame Start to next set</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a15575b8d6e36f5b0035aadd41d8f213a">SequencerSetNext</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(curSet + incSet);</div><div class="line">                <span class="comment">// half height</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#aaf6991f49374b86660231ec620b1d83c">SetValuePercentOfRange</a>(50.0);</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ab680324c2d390d71d7c851f0b1d51cf1">SequencerSetSave</a>.<a class="code" href="struct_gen_api_1_1_i_command.html#a4e72b6ccf61c1f92a1334b9e59eb4fc6">Execute</a>();</div><div class="line"></div><div class="line">                <span class="comment">// Set the parameters for step 2; full height image.</span></div><div class="line">                curSet += incSet;</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a22c2cbc385ea9b859ee829d9efdebb72">SequencerSetSelector</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(curSet);</div><div class="line">                <span class="comment">// advance on Frame End to initial set,</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a15575b8d6e36f5b0035aadd41d8f213a">SequencerSetNext</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(initialSet); <span class="comment">// terminates sequence definition</span></div><div class="line">                <span class="comment">// full height</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#aaf6991f49374b86660231ec620b1d83c">SetValuePercentOfRange</a>(100.0);</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ab680324c2d390d71d7c851f0b1d51cf1">SequencerSetSave</a>.<a class="code" href="struct_gen_api_1_1_i_command.html#a4e72b6ccf61c1f92a1334b9e59eb4fc6">Execute</a>();</div><div class="line">                <span class="comment">// Enable the sequencer feature.</span></div><div class="line">                <span class="comment">// From here on you can&#39;t change the sequencer settings anymore.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac81725168629e894da66c5ae4fc49528">SequencerConfigurationMode</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(SequencerConfigurationMode_Off);</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0f0dade27731cb067abac145b95880d3">SequencerMode</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(SequencerMode_On);</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                <span class="comment">// Disable the sequencer before changing parameters.</span></div><div class="line">                <span class="comment">// The parameters under control of the sequencer are locked</span></div><div class="line">                <span class="comment">// when the sequencer is enabled. For a list of parameters</span></div><div class="line">                <span class="comment">// controlled by the sequencer, see the camera User&#39;s Manual.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#acc1564df0b7c7058702e5dbc47b19a50">SequenceEnable</a>.<a class="code" href="struct_gen_api_1_1_i_boolean.html#abf22ae207525254e10bb0c6869875ffc">SetValue</a>(<span class="keyword">false</span>);</div><div class="line"></div><div class="line">                <span class="comment">// Turn configuration mode on if available.</span></div><div class="line">                <span class="comment">// Not supported by all cameras.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a4cefdb264aaf0ed4ffb1a76dd36c0704">SequenceConfigurationMode</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>(SequenceConfigurationMode_On);</div><div class="line"></div><div class="line">                <span class="comment">// Maximize the grabbed image area of interest (Image AOI).</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line"></div><div class="line">                <span class="comment">// Set the pixel data format.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa897adec2da74c3a6407d96d42eec710">PixelFormat</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(PixelFormat_Mono8);</div><div class="line"></div><div class="line">                <span class="comment">// Set up sequence sets.</span></div><div class="line"></div><div class="line">                <span class="comment">// Configure how the sequence will advance.</span></div><div class="line">                <span class="comment">// &#39;Auto&#39; refers to the auto sequence advance mode.</span></div><div class="line">                <span class="comment">// The advance from one sequence set to the next will occur automatically with each image acquired.</span></div><div class="line">                <span class="comment">// After the end of the sequence set cycle was reached a new sequence set cycle will start.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#adc53754d248429a732a76f52c7573b7f">SequenceAdvanceMode</a> = <a class="code" href="___basler_universal_camera_params_8h.html#a1a01992bd94c836e3b7cef1e017482d6a131ae96c0d643bb7d4e1c82c351f9800">SequenceAdvanceMode_Auto</a>;</div><div class="line"></div><div class="line">                <span class="comment">// Our sequence sets relate to three steps (0..2).</span></div><div class="line">                <span class="comment">// In each step we will increase the height of the Image AOI by one increment.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1bb48eb4258f6b20ad03f620ee5d2bc0">SequenceSetTotalNumber</a> = 3;</div><div class="line">                </div><div class="line">                <span class="comment">// Set the parameters for step 0; quarter height image.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a9038ac6ea874e7f9435f3248ba3adaa7">SequenceSetIndex</a> = 0;</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#aaf6991f49374b86660231ec620b1d83c">SetValuePercentOfRange</a>(25.0);</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ab5deb2651609dcfbe50d94ef3856fa3a">SequenceSetStore</a>.<a class="code" href="struct_gen_api_1_1_i_command.html#a4e72b6ccf61c1f92a1334b9e59eb4fc6">Execute</a>();</div><div class="line"></div><div class="line">                <span class="comment">// Set the parameters for step 1; half height image.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a9038ac6ea874e7f9435f3248ba3adaa7">SequenceSetIndex</a> = 1;</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#aaf6991f49374b86660231ec620b1d83c">SetValuePercentOfRange</a>(50.0);</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ab5deb2651609dcfbe50d94ef3856fa3a">SequenceSetStore</a>.<a class="code" href="struct_gen_api_1_1_i_command.html#a4e72b6ccf61c1f92a1334b9e59eb4fc6">Execute</a>();</div><div class="line"></div><div class="line">                <span class="comment">// Set the parameters for step 2; full height image.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a9038ac6ea874e7f9435f3248ba3adaa7">SequenceSetIndex</a> = 2;</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#aaf6991f49374b86660231ec620b1d83c">SetValuePercentOfRange</a>(100.0);</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ab5deb2651609dcfbe50d94ef3856fa3a">SequenceSetStore</a>.<a class="code" href="struct_gen_api_1_1_i_command.html#a4e72b6ccf61c1f92a1334b9e59eb4fc6">Execute</a>();</div><div class="line"></div><div class="line">                <span class="comment">// Turn configuration mode off if available.</span></div><div class="line">                <span class="comment">// Not supported by all cameras.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a4cefdb264aaf0ed4ffb1a76dd36c0704">SequenceConfigurationMode</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>(SequenceConfigurationMode_Off);</div><div class="line"></div><div class="line">                <span class="comment">// Enable the sequencer feature.</span></div><div class="line">                <span class="comment">// From here on you can&#39;t change the sequencer settings anymore.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#acc1564df0b7c7058702e5dbc47b19a50">SequenceEnable</a>.<a class="code" href="struct_gen_api_1_1_i_boolean.html#abf22ae207525254e10bb0c6869875ffc">SetValue</a>(<span class="keyword">true</span>);</div><div class="line">            }    </div><div class="line"></div><div class="line"></div><div class="line">            <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>(c_countOfImagesToGrab);</div><div class="line"></div><div class="line">            <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> grabResult;</div><div class="line"></div><div class="line">            <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div><div class="line">            <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div><div class="line">            <span class="keywordflow">while</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a1d2155d0c74753808af267c34291858c">IsGrabbing</a>())</div><div class="line">            {</div><div class="line">                <span class="comment">// Execute the software trigger. Wait up to 1000 ms for the camera to be ready for trigger.</span></div><div class="line">                <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a7506b5b38079ba4583a088a620187b29">WaitForFrameTriggerReady</a>(1000, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>))</div><div class="line">                {</div><div class="line">                    camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#ae5a4e166d9198dd4706a1c72c0bc2bc6">ExecuteSoftwareTrigger</a>();</div><div class="line"></div><div class="line">                    <span class="comment">// Wait for an image and then retrieve it. A timeout of 5000 ms is used.</span></div><div class="line">                    camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a78f3b07a3e5c7a64530645ecae49b02e">RetrieveResult</a>(5000, grabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div><div class="line"></div><div class="line">                    <span class="comment">// Image grabbed successfully?</span></div><div class="line">                    <span class="keywordflow">if</span> (grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>())</div><div class="line">                    {</div><div class="line"><span class="preprocessor">    #ifdef PYLON_WIN_BUILD</span></div><div class="line">                        <span class="comment">// Display the grabbed image.</span></div><div class="line">                        Pylon::DisplayImage(1, grabResult);</div><div class="line"><span class="preprocessor">    #endif</span></div><div class="line"></div><div class="line">                        <span class="comment">// Access the image data.</span></div><div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;SizeX: &quot;</span> &lt;&lt; grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a26338b92c78e4217325de426842df600">GetWidth</a>() &lt;&lt; endl;</div><div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;SizeY: &quot;</span> &lt;&lt; grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a6ec284bd2d65d6bd899d444639317709">GetHeight</a>() &lt;&lt; endl;</div><div class="line">                        <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *)grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0ed8d8548b5e4da67167d388fb85e0b5">GetBuffer</a>();</div><div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t)pImageBuffer[0] &lt;&lt; endl &lt;&lt; endl;</div><div class="line">                    }</div><div class="line">                    <span class="keywordflow">else</span></div><div class="line">                    {</div><div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a51c4ed590aa402d030b0f3c5adfcc4e2">GetErrorCode</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#afc2854260822812b3ba46bb7efe63cc0">GetErrorDescription</a>() &lt;&lt; endl;</div><div class="line">                    }</div><div class="line">                }</div><div class="line"></div><div class="line">                <span class="comment">// Wait for user input.</span></div><div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to continue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">                <span class="keywordflow">while</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a1d2155d0c74753808af267c34291858c">IsGrabbing</a>() &amp;&amp; cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Disable the sequencer.</span></div><div class="line">            <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &gt;= Sfnc_2_0_0) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">            {</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0f0dade27731cb067abac145b95880d3">SequencerMode</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(SequencerMode_Off);</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#acc1564df0b7c7058702e5dbc47b19a50">SequenceEnable</a>.<a class="code" href="struct_gen_api_1_1_i_boolean.html#abf22ae207525254e10bb0c6869875ffc">SetValue</a>(<span class="keyword">false</span>);</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The sequencer feature is not available for this camera.&quot;</span> &lt;&lt; endl;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">            &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span> (cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_AutoFunctions"></a>
ParametrizeCamera_AutoFunctions</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_AutoFunctions.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    Note: Different camera families implement different versions of the Standard Feature Naming Convention (SFNC).</span></div><div class="line"><span class="comment">    That&#39;s why the name and the type of the parameters used can be different.</span></div><div class="line"><span class="comment">    </span></div><div class="line"><span class="comment">    This sample illustrates how to use the Auto Functions feature of Basler cameras.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line"><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// Include file to use pylon universal instant camera parameters.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_universal_instant_camera_8h.html">pylon/BaslerUniversalInstantCamera.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon universal instant camera parameters.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_basler___universal_camera_params.html">Basler_UniversalCameraParams</a>;</div><div class="line"></div><div class="line"><span class="comment">// Forward declarations for helper functions</span></div><div class="line"><span class="keywordtype">bool</span> IsColorCamera(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera);</div><div class="line"><span class="keywordtype">void</span> AutoGainOnce(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera);</div><div class="line"><span class="keywordtype">void</span> AutoGainContinuous(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera);</div><div class="line"><span class="keywordtype">void</span> AutoExposureOnce(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera);</div><div class="line"><span class="keywordtype">void</span> AutoExposureContinuous(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera);</div><div class="line"><span class="keywordtype">void</span> AutoWhiteBalance(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera);</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create an instant camera object with the first found camera device.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <span class="comment">// Print the name of the used camera.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a958720228a24033bac2d536010e493c3">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Register the standard event handler for configuring single frame acquisition.</span></div><div class="line">        <span class="comment">// This overrides the default configuration as all event handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div><div class="line">        <span class="comment">// Please note that the camera device auto functions do not require grabbing by single frame acquisition.</span></div><div class="line">        <span class="comment">// All available acquisition modes can be used.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_acquire_single_frame_configuration.html">CAcquireSingleFrameConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Turn test image off.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a46372c145ef4463c66819c88b143a8cd">TestImageSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>(TestImageSelector_Off);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a755b9d7431a046c343e23342c6275806">TestPattern</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>(TestPattern_Off);</div><div class="line"></div><div class="line">        <span class="comment">// Only area scan cameras support auto functions.</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a3352017989c4b61716f0046d23535973">DeviceScanType</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a87e4652c9560a4f0e0cc4dd2b873c225">GetValue</a>() == <a class="code" href="___basler_universal_camera_params_8h.html#aaf8ad4713d285e3977cbbf6263fa040daf2d0e60a974d1f174aa74960cf61e0f9">DeviceScanType_Areascan</a>)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &gt;= Sfnc_2_0_0) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">            {</div><div class="line">                <span class="comment">// All area scan cameras support luminance control.</span></div><div class="line">                <span class="comment">// Carry out luminance control by using the &quot;once&quot; gain auto function.</span></div><div class="line">                <span class="comment">// For demonstration purposes only, set the gain to an initial value.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a6bb6a0fafdb235b09c23f238a738c206">SetToMaximum</a>();</div><div class="line">                AutoGainOnce(camera);</div><div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div><div class="line">                <span class="keywordflow">while</span> (cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line"></div><div class="line">                <span class="comment">// Carry out luminance control by using the &quot;continuous&quot; gain auto function.</span></div><div class="line">                <span class="comment">// For demonstration purposes only, set the gain to an initial value.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a6bb6a0fafdb235b09c23f238a738c206">SetToMaximum</a>();</div><div class="line">                AutoGainContinuous(camera);</div><div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div><div class="line">                <span class="keywordflow">while</span> (cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">                <span class="comment">// For demonstration purposes only, set the exposure time to an initial value.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a02c77f57069ed5d8bccfe7a3058fac15">ExposureTime</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a3ccb07ec28906b9afb597e856b3868de">SetToMinimum</a>();</div><div class="line"></div><div class="line">                <span class="comment">// Carry out luminance control by using the &quot;once&quot; exposure auto function.</span></div><div class="line">                AutoExposureOnce(camera);</div><div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div><div class="line">                <span class="keywordflow">while</span> (cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">                <span class="comment">// For demonstration purposes only, set the exposure time to an initial value.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a02c77f57069ed5d8bccfe7a3058fac15">ExposureTime</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a3ccb07ec28906b9afb597e856b3868de">SetToMinimum</a>();</div><div class="line"></div><div class="line">                <span class="comment">// Carry out luminance control by using the &quot;continuous&quot; exposure auto function.</span></div><div class="line">                AutoExposureContinuous(camera);</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                <span class="comment">// All area scan cameras support luminance control.</span></div><div class="line">                <span class="comment">// Carry out luminance control by using the &quot;once&quot; gain auto function.</span></div><div class="line">                <span class="comment">// For demonstration purposes only, set the gain to an initial value.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line">                AutoGainOnce(camera);</div><div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div><div class="line">                <span class="keywordflow">while</span> (cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line"></div><div class="line">                <span class="comment">// Carry out luminance control by using the &quot;continuous&quot; gain auto function.</span></div><div class="line">                <span class="comment">// For demonstration purposes only, set the gain to an initial value.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line">                AutoGainContinuous(camera);</div><div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div><div class="line">                <span class="keywordflow">while</span> (cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">                <span class="comment">// For demonstration purposes only, set the exposure time to an initial value.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac1bee09d856a2c3ae3fdf40c4876116e">ExposureTimeRaw</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4f8711b85f5d3afbd85c3d62b1eb6952">SetToMinimum</a>();</div><div class="line"></div><div class="line">                <span class="comment">// Carry out luminance control by using the &quot;once&quot; exposure auto function.</span></div><div class="line">                AutoExposureOnce(camera);</div><div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div><div class="line">                <span class="keywordflow">while</span> (cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">                <span class="comment">// For demonstration purposes only, set the exposure time to an initial value.</span></div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac1bee09d856a2c3ae3fdf40c4876116e">ExposureTimeRaw</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4f8711b85f5d3afbd85c3d62b1eb6952">SetToMinimum</a>();</div><div class="line"></div><div class="line">                <span class="comment">// Carry out luminance control by using the &quot;continuous&quot; exposure auto function.</span></div><div class="line">                AutoExposureContinuous(camera);</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Only color cameras support the balance white auto function.</span></div><div class="line">            <span class="keywordflow">if</span> (IsColorCamera(camera))</div><div class="line">            {</div><div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div><div class="line">                <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">                <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &gt;= Sfnc_2_0_0) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">                {</div><div class="line">                    <span class="comment">// For demonstration purposes only, set the initial balance ratio values:</span></div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Red);</div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a42030e8b32d7f3896397cb21392be0e1">BalanceRatio</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a6bb6a0fafdb235b09c23f238a738c206">SetToMaximum</a>();</div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Green);</div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a42030e8b32d7f3896397cb21392be0e1">BalanceRatio</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#aa21e93931b3ca465bc5d5d67a6be8708">TrySetValuePercentOfRange</a>(50.0);</div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Blue);</div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a42030e8b32d7f3896397cb21392be0e1">BalanceRatio</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a3ccb07ec28906b9afb597e856b3868de">SetToMinimum</a>();</div><div class="line">                }</div><div class="line">                <span class="keywordflow">else</span></div><div class="line">                {</div><div class="line">                    <span class="comment">// For demonstration purposes only, set the initial balance ratio values:</span></div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Red);</div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a51b347eef2200099a8ecacccf02e7b8f">BalanceRatioAbs</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a6bb6a0fafdb235b09c23f238a738c206">SetToMaximum</a>();</div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Green);</div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a51b347eef2200099a8ecacccf02e7b8f">BalanceRatioAbs</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#aa21e93931b3ca465bc5d5d67a6be8708">TrySetValuePercentOfRange</a>(50.0);</div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Blue);</div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a51b347eef2200099a8ecacccf02e7b8f">BalanceRatioAbs</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a3ccb07ec28906b9afb597e856b3868de">SetToMinimum</a>();</div><div class="line">                }</div><div class="line">                </div><div class="line">                <span class="comment">// Carry out white balance using the balance white auto function.</span></div><div class="line">                AutoWhiteBalance(camera);</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            cerr &lt;&lt; <span class="stringliteral">&quot;Only area scan cameras support auto functions.&quot;</span> &lt;&lt; endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Close camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#aa0888df5faf71045686ebcaf65ab4dda">Close</a>();</div><div class="line"></div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_timeout_exception.html">TimeoutException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Auto functions did not finish in time.</span></div><div class="line">        <span class="comment">// Maybe the cap on the lens is still on or there is not enough light.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;A timeout has occurred.&quot;</span> &lt;&lt; endl</div><div class="line">             &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;Please make sure you remove the cap from the camera lens before running this sample.&quot;</span> &lt;&lt; endl;</div><div class="line">        exitCode = 0;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">             &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources.</span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> AutoGainOnce(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera)</div><div class="line">{</div><div class="line">    <span class="comment">// Check whether the gain auto function is available.</span></div><div class="line">    <span class="keywordflow">if</span> (!camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1f883de8d6017eae5bc8d19f871aeba9">GainAuto</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">    {</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Gain Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">        <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Maximize the grabbed image area of interest (Image AOI).</span></div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>()) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Set the Auto Function ROI for luminance statistics.</span></div><div class="line">        <span class="comment">// We want to use ROI1 for gathering the statistics</span></div><div class="line"></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI1);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a3610966036ce54b368191772ca65d59b">AutoFunctionROIUseBrightness</a>.<a class="code" href="struct_pylon_1_1_i_boolean_ex.html#afd3469a4160bdad52c2e67b5ddda0672">TrySetValue</a>(<span class="keyword">true</span>);   <span class="comment">// ROI 1 is used for brightness control</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI2);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a3610966036ce54b368191772ca65d59b">AutoFunctionROIUseBrightness</a>.<a class="code" href="struct_pylon_1_1_i_boolean_ex.html#afd3469a4160bdad52c2e67b5ddda0672">TrySetValue</a>(<span class="keyword">false</span>);   <span class="comment">// ROI 2 is not used for brightness control</span></div><div class="line"></div><div class="line">        <span class="comment">// Set the ROI (in this example the complete sensor is used)</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI1);  <span class="comment">// configure ROI 1</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac650b4b2c78027a7bbb6785a56a7168d">AutoFunctionROIOffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a673e15c7d34e2254fc2667e8261fe343">AutoFunctionROIOffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1e0ffe142a8bdf3113f0e2d77c92e1f2">AutoFunctionROIWidth</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a166f31c6575e0ca4ebde97b9c9635fdb">AutoFunctionROIHeight</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a9dfc4710a770e382552e88d9edd8193b">AutoFunctionAOISelector</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>()) </div><div class="line">    {</div><div class="line">        <span class="comment">// Set the Auto Function AOI for luminance statistics.</span></div><div class="line">        <span class="comment">// Currently, AutoFunctionAOISelector_AOI1 is predefined to gather</span></div><div class="line">        <span class="comment">// luminance statistics.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a9dfc4710a770e382552e88d9edd8193b">AutoFunctionAOISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionAOISelector_AOI1);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0f7295c748b7b296e46c409f4702036d">AutoFunctionAOIOffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad11cf6c60b949d2b639b93ce875a59a6">AutoFunctionAOIOffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac73d1cd4ffecd11896d95471658b12c3">AutoFunctionAOIWidth</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#afa5ae49147108e63653b2e03c02582a3">AutoFunctionAOIHeight</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &gt;= Sfnc_2_0_0) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Set the target value for luminance control.</span></div><div class="line">        <span class="comment">// A value of 0.3 means that the target brightness is 30 % of the maximum brightness of the raw pixel value read out from the sensor.</span></div><div class="line">        <span class="comment">// A value of 0.4 means 40 % and so forth.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#afc70a4e19379385b58373e3ef5f4fc20">AutoTargetBrightness</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a2c7f23a23f4879e64d18faa092056c85">SetValue</a>(0.3);</div><div class="line"></div><div class="line">        <span class="comment">// We are going to try GainAuto = Once.</span></div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;GainAuto = Once&#39;.&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Initial Gain = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Set the gain ranges for luminance control.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a49dae2088dd7275663a6660c4f94758e">AutoGainLowerLimit</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a2c7f23a23f4879e64d18faa092056c85">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a6637c7971441ed5a72ecd6700bf4613c">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8815601b612cfcf78c5b671704e713ae">AutoGainUpperLimit</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a2c7f23a23f4879e64d18faa092056c85">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#aa2b6756f1d569260202d82a92bd63581">GetMax</a>());</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Set the target value for luminance control. The value is always expressed</span></div><div class="line">        <span class="comment">// as an 8 bit value regardless of the current pixel data output format,</span></div><div class="line">        <span class="comment">// i.e., 0 -&gt; black, 255 -&gt; white.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d1d3dbaa219d23f1b6e49c7bd46e89e">AutoTargetValue</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#af0120db24dd245425003375b80b61090">TrySetValue</a>(80);</div><div class="line"></div><div class="line">        <span class="comment">// We are going to try GainAuto = Once.</span></div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;GainAuto = Once&#39;.&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Initial Gain = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Set the gain ranges for luminance control.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac1b1d08943e99ebcc480877a8411be54">AutoGainRawLowerLimit</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1ca875cfbb3e5e9baa38b9adab2dd526">AutoGainRawUpperLimit</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">    }</div><div class="line">    </div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1f883de8d6017eae5bc8d19f871aeba9">GainAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(GainAuto_Once);</div><div class="line"></div><div class="line">    <span class="comment">// When the &quot;once&quot; mode of operation is selected,</span></div><div class="line">    <span class="comment">// the parameter values are automatically adjusted until the related image property</span></div><div class="line">    <span class="comment">// reaches the target value. After the automatic parameter value adjustment is complete, the auto</span></div><div class="line">    <span class="comment">// function will automatically be set to &quot;off&quot; and the new parameter value will be applied to the</span></div><div class="line">    <span class="comment">// subsequently grabbed images.</span></div><div class="line"></div><div class="line">    <span class="keywordtype">int</span> n = 0;</div><div class="line">    <span class="keywordflow">while</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1f883de8d6017eae5bc8d19f871aeba9">GainAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a87e4652c9560a4f0e0cc4dd2b873c225">GetValue</a>() != <a class="code" href="___basler_universal_camera_params_8h.html#ad7229507637ee24b1bdf1d61093dcc57af4f2fa4a42e7d4c9b5c76ca2831f5bfe">GainAuto_Off</a>)</div><div class="line">    {</div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_grab_result_ptr.html">CBaslerUniversalGrabResultPtr</a> ptrGrabResult;</div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a69a09e4670fbe5d1677342a6095da288">GrabOne</a>( 5000, ptrGrabResult);</div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">        Pylon::DisplayImage(1, ptrGrabResult);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        ++n;</div><div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div><div class="line"></div><div class="line">        <span class="comment">//Make sure the loop is exited.</span></div><div class="line">        <span class="keywordflow">if</span> (n &gt; 100)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga3060f73a55158831d6d35a339aa2dd9a">TIMEOUT_EXCEPTION</a>( <span class="stringliteral">&quot;The adjustment of auto gain did not finish.&quot;</span>);</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;GainAuto went back to &#39;Off&#39; after &quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; frames.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">if</span>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#aecafd04d36b4c3a49a79b1368e102db5">IsReadable</a>()) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">    {</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Final Gain = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; endl &lt;&lt; endl;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Final Gain = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl &lt;&lt; endl;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> AutoGainContinuous(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera)</div><div class="line">{</div><div class="line">    <span class="comment">// Check whether the Gain Auto feature is available.</span></div><div class="line">    <span class="keywordflow">if</span> ( !camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1f883de8d6017eae5bc8d19f871aeba9">GainAuto</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">    {</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Gain Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">        <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Maximize the grabbed image area of interest (Image AOI).</span></div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>()) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Set the Auto Function ROI for luminance statistics.</span></div><div class="line">        <span class="comment">// We want to use ROI1 for gathering the statistics</span></div><div class="line"></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI1);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a3610966036ce54b368191772ca65d59b">AutoFunctionROIUseBrightness</a>.<a class="code" href="struct_pylon_1_1_i_boolean_ex.html#afd3469a4160bdad52c2e67b5ddda0672">TrySetValue</a>(<span class="keyword">true</span>);   <span class="comment">// ROI 1 is used for brightness control</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI2);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a3610966036ce54b368191772ca65d59b">AutoFunctionROIUseBrightness</a>.<a class="code" href="struct_pylon_1_1_i_boolean_ex.html#afd3469a4160bdad52c2e67b5ddda0672">TrySetValue</a>(<span class="keyword">false</span>);   <span class="comment">// ROI 2 is not used for brightness control</span></div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Set the ROI (in this example the complete sensor is used)</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI1);  <span class="comment">// configure ROI 1</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac650b4b2c78027a7bbb6785a56a7168d">AutoFunctionROIOffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a673e15c7d34e2254fc2667e8261fe343">AutoFunctionROIOffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1e0ffe142a8bdf3113f0e2d77c92e1f2">AutoFunctionROIWidth</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a166f31c6575e0ca4ebde97b9c9635fdb">AutoFunctionROIHeight</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a9dfc4710a770e382552e88d9edd8193b">AutoFunctionAOISelector</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">    {</div><div class="line">        <span class="comment">// Set the Auto Function AOI for luminance statistics.</span></div><div class="line">        <span class="comment">// Currently, AutoFunctionAOISelector_AOI1 is predefined to gather</span></div><div class="line">        <span class="comment">// luminance statistics.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a9dfc4710a770e382552e88d9edd8193b">AutoFunctionAOISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionAOISelector_AOI1);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0f7295c748b7b296e46c409f4702036d">AutoFunctionAOIOffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad11cf6c60b949d2b639b93ce875a59a6">AutoFunctionAOIOffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac73d1cd4ffecd11896d95471658b12c3">AutoFunctionAOIWidth</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#afa5ae49147108e63653b2e03c02582a3">AutoFunctionAOIHeight</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &gt;= Sfnc_2_0_0) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Set the target value for luminance control.</span></div><div class="line">        <span class="comment">// A value of 0.3 means that the target brightness is 30 % of the maximum brightness of the raw pixel value read out from the sensor.</span></div><div class="line">        <span class="comment">// A value of 0.4 means 40 % and so forth.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#afc70a4e19379385b58373e3ef5f4fc20">AutoTargetBrightness</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a2c7f23a23f4879e64d18faa092056c85">SetValue</a>(0.3);</div><div class="line"></div><div class="line">        <span class="comment">// We are trying GainAuto = Continuous.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;GainAuto = Continuous&#39;.&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Initial Gain = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1f883de8d6017eae5bc8d19f871aeba9">GainAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(GainAuto_Continuous);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Set the target value for luminance control. The value is always expressed</span></div><div class="line">        <span class="comment">// as an 8 bit value regardless of the current pixel data output format,</span></div><div class="line">        <span class="comment">// i.e., 0 -&gt; black, 255 -&gt; white.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d1d3dbaa219d23f1b6e49c7bd46e89e">AutoTargetValue</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#af0120db24dd245425003375b80b61090">TrySetValue</a>(80);</div><div class="line"></div><div class="line">        <span class="comment">// We are trying GainAuto = Continuous.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;GainAuto = Continuous&#39;.&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Initial Gain = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1f883de8d6017eae5bc8d19f871aeba9">GainAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(GainAuto_Continuous);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// When &quot;continuous&quot; mode is selected, the parameter value is adjusted repeatedly while images are acquired.</span></div><div class="line">    <span class="comment">// Depending on the current frame rate, the automatic adjustments will usually be carried out for</span></div><div class="line">    <span class="comment">// every or every other image unless the camera&#39;s micro controller is kept busy by other tasks.</span></div><div class="line">    <span class="comment">// The repeated automatic adjustment will proceed until the &quot;once&quot; mode of operation is used or</span></div><div class="line">    <span class="comment">// until the auto function is set to &quot;off&quot;, in which case the parameter value resulting from the latest</span></div><div class="line">    <span class="comment">// automatic adjustment will operate unless the value is manually adjusted.</span></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; 20; n++)            <span class="comment">// For demonstration purposes, we will grab &quot;only&quot; 20 images.</span></div><div class="line">    {</div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_grab_result_ptr.html">CBaslerUniversalGrabResultPtr</a> ptrGrabResult;</div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a69a09e4670fbe5d1677342a6095da288">GrabOne</a>( 5000, ptrGrabResult);</div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">        Pylon::DisplayImage(1, ptrGrabResult);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div><div class="line">    }</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1f883de8d6017eae5bc8d19f871aeba9">GainAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(GainAuto_Off); <span class="comment">// Switch off GainAuto.</span></div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#aecafd04d36b4c3a49a79b1368e102db5">IsReadable</a>()) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">    {</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Final Gain = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; endl &lt;&lt; endl;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Final Gain = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl &lt;&lt; endl;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> AutoExposureOnce(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera)</div><div class="line">{</div><div class="line">    <span class="comment">// Check whether auto exposure is available</span></div><div class="line">    <span class="keywordflow">if</span> ( !camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af7ab4c8ab5ef58b2cfaef08b339024ab">ExposureAuto</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">    {</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Exposure Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">        <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Maximize the grabbed area of interest (Image AOI).</span></div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">    {</div><div class="line">        <span class="comment">// Set the Auto Function ROI for luminance statistics.</span></div><div class="line">        <span class="comment">// We want to use ROI1 for gathering the statistics</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI1);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a3610966036ce54b368191772ca65d59b">AutoFunctionROIUseBrightness</a>.<a class="code" href="struct_pylon_1_1_i_boolean_ex.html#afd3469a4160bdad52c2e67b5ddda0672">TrySetValue</a>(<span class="keyword">true</span>);   <span class="comment">// ROI 1 is used for brightness control</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI2);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a3610966036ce54b368191772ca65d59b">AutoFunctionROIUseBrightness</a>.<a class="code" href="struct_pylon_1_1_i_boolean_ex.html#afd3469a4160bdad52c2e67b5ddda0672">TrySetValue</a>(<span class="keyword">false</span>);   <span class="comment">// ROI 2 is not used for brightness control</span></div><div class="line"></div><div class="line">        <span class="comment">// Set the ROI (in this example the complete sensor is used)</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI1);  <span class="comment">// configure ROI 1</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac650b4b2c78027a7bbb6785a56a7168d">AutoFunctionROIOffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a673e15c7d34e2254fc2667e8261fe343">AutoFunctionROIOffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1e0ffe142a8bdf3113f0e2d77c92e1f2">AutoFunctionROIWidth</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a166f31c6575e0ca4ebde97b9c9635fdb">AutoFunctionROIHeight</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a9dfc4710a770e382552e88d9edd8193b">AutoFunctionAOISelector</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">    {</div><div class="line">        <span class="comment">// Set the Auto Function AOI for luminance statistics.</span></div><div class="line">        <span class="comment">// Currently, AutoFunctionAOISelector_AOI1 is predefined to gather</span></div><div class="line">        <span class="comment">// luminance statistics.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a9dfc4710a770e382552e88d9edd8193b">AutoFunctionAOISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionAOISelector_AOI1);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0f7295c748b7b296e46c409f4702036d">AutoFunctionAOIOffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad11cf6c60b949d2b639b93ce875a59a6">AutoFunctionAOIOffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac73d1cd4ffecd11896d95471658b12c3">AutoFunctionAOIWidth</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#afa5ae49147108e63653b2e03c02582a3">AutoFunctionAOIHeight</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &gt;= Sfnc_2_0_0) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Set the target value for luminance control.</span></div><div class="line">        <span class="comment">// A value of 0.3 means that the target brightness is 30 % of the maximum brightness of the raw pixel value read out from the sensor.</span></div><div class="line">        <span class="comment">// A value of 0.4 means 40 % and so forth.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#afc70a4e19379385b58373e3ef5f4fc20">AutoTargetBrightness</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a2c7f23a23f4879e64d18faa092056c85">SetValue</a>(0.3);</div><div class="line"></div><div class="line">        <span class="comment">// Try ExposureAuto = Once.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;ExposureAuto = Once&#39;.&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Initial exposure time = &quot;</span>;</div><div class="line">        cout &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a02c77f57069ed5d8bccfe7a3058fac15">ExposureTime</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Set the exposure time ranges for luminance control.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ab1450a4d98a41550655e597f20ba44af">AutoExposureTimeLowerLimit</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a2c7f23a23f4879e64d18faa092056c85">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ab1450a4d98a41550655e597f20ba44af">AutoExposureTimeLowerLimit</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a6637c7971441ed5a72ecd6700bf4613c">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a6293141d1b70dd49fdd2eaa80b83d65b">AutoExposureTimeUpperLimit</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a2c7f23a23f4879e64d18faa092056c85">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ab1450a4d98a41550655e597f20ba44af">AutoExposureTimeLowerLimit</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#aa2b6756f1d569260202d82a92bd63581">GetMax</a>());</div><div class="line"></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af7ab4c8ab5ef58b2cfaef08b339024ab">ExposureAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(ExposureAuto_Once);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Set the target value for luminance control. The value is always expressed</span></div><div class="line">        <span class="comment">// as an 8 bit value regardless of the current pixel data output format,</span></div><div class="line">        <span class="comment">// i.e., 0 -&gt; black, 255 -&gt; white.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d1d3dbaa219d23f1b6e49c7bd46e89e">AutoTargetValue</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(80);</div><div class="line"></div><div class="line">        <span class="comment">// Try ExposureAuto = Once.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;ExposureAuto = Once&#39;.&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Initial exposure time = &quot;</span>;</div><div class="line">        cout &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af3e21c0211cb64bbaf32d2e6639bca76">ExposureTimeAbs</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Set the exposure time ranges for luminance control.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af7957430f36ed6a20516bfc2ceee3526">AutoExposureTimeAbsLowerLimit</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a2c7f23a23f4879e64d18faa092056c85">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af7957430f36ed6a20516bfc2ceee3526">AutoExposureTimeAbsLowerLimit</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a6637c7971441ed5a72ecd6700bf4613c">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a751fac9cc2599640b1aea42fea458500">AutoExposureTimeAbsUpperLimit</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a2c7f23a23f4879e64d18faa092056c85">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af7957430f36ed6a20516bfc2ceee3526">AutoExposureTimeAbsLowerLimit</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#aa2b6756f1d569260202d82a92bd63581">GetMax</a>());</div><div class="line"></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af7ab4c8ab5ef58b2cfaef08b339024ab">ExposureAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(ExposureAuto_Once);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// When the &quot;once&quot; mode of operation is selected,</span></div><div class="line">    <span class="comment">// the parameter values are automatically adjusted until the related image property</span></div><div class="line">    <span class="comment">// reaches the target value. After the automatic parameter value adjustment is complete, the auto</span></div><div class="line">    <span class="comment">// function will automatically be set to &quot;off&quot;, and the new parameter value will be applied to the</span></div><div class="line">    <span class="comment">// subsequently grabbed images.</span></div><div class="line">    <span class="keywordtype">int</span> n = 0;</div><div class="line">    <span class="keywordflow">while</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af7ab4c8ab5ef58b2cfaef08b339024ab">ExposureAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a87e4652c9560a4f0e0cc4dd2b873c225">GetValue</a>() != <a class="code" href="___basler_universal_camera_params_8h.html#a0db30e352cca046ed879a6598b70986ca8b132f0a3cad30f50d6ed0b36f0b2cd0">ExposureAuto_Off</a>)</div><div class="line">    {</div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_grab_result_ptr.html">CBaslerUniversalGrabResultPtr</a> ptrGrabResult;</div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a69a09e4670fbe5d1677342a6095da288">GrabOne</a>( 5000, ptrGrabResult);</div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">        Pylon::DisplayImage(1, ptrGrabResult);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        ++n;</div><div class="line"></div><div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div><div class="line"></div><div class="line">        <span class="comment">//Make sure the loop is exited.</span></div><div class="line">        <span class="keywordflow">if</span> (n &gt; 100)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga3060f73a55158831d6d35a339aa2dd9a">TIMEOUT_EXCEPTION</a>( <span class="stringliteral">&quot;The adjustment of auto exposure did not finish.&quot;</span>);</div><div class="line">        }</div><div class="line">    }</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;ExposureAuto went back to &#39;Off&#39; after &quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; frames.&quot;</span> &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Final exposure time = &quot;</span>;</div><div class="line">    <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a02c77f57069ed5d8bccfe7a3058fac15">ExposureTime</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#aecafd04d36b4c3a49a79b1368e102db5">IsReadable</a>()) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">    {</div><div class="line">        cout &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a02c77f57069ed5d8bccfe7a3058fac15">ExposureTime</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        cout &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af3e21c0211cb64bbaf32d2e6639bca76">ExposureTimeAbs</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> AutoExposureContinuous(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera)</div><div class="line">{</div><div class="line">    <span class="comment">// Check whether the Exposure Auto feature is available.</span></div><div class="line">    <span class="keywordflow">if</span> ( !camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af7ab4c8ab5ef58b2cfaef08b339024ab">ExposureAuto</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">    {</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Exposure Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">        <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Maximize the grabbed area of interest (Image AOI).</span></div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>()) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Set the Auto Function ROI for luminance statistics.</span></div><div class="line">        <span class="comment">// We want to use ROI1 for gathering the statistics</span></div><div class="line"></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI1);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a3610966036ce54b368191772ca65d59b">AutoFunctionROIUseBrightness</a>.<a class="code" href="struct_pylon_1_1_i_boolean_ex.html#afd3469a4160bdad52c2e67b5ddda0672">TrySetValue</a>(<span class="keyword">true</span>);   <span class="comment">// ROI 1 is used for brightness control</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI2);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a3610966036ce54b368191772ca65d59b">AutoFunctionROIUseBrightness</a>.<a class="code" href="struct_pylon_1_1_i_boolean_ex.html#afd3469a4160bdad52c2e67b5ddda0672">TrySetValue</a>(<span class="keyword">false</span>);   <span class="comment">// ROI 2 is not used for brightness control</span></div><div class="line"></div><div class="line">        <span class="comment">// Set the ROI (in this example the complete sensor is used)</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI1);  <span class="comment">// configure ROI 1</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac650b4b2c78027a7bbb6785a56a7168d">AutoFunctionROIOffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a673e15c7d34e2254fc2667e8261fe343">AutoFunctionROIOffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1e0ffe142a8bdf3113f0e2d77c92e1f2">AutoFunctionROIWidth</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a166f31c6575e0ca4ebde97b9c9635fdb">AutoFunctionROIHeight</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a9dfc4710a770e382552e88d9edd8193b">AutoFunctionAOISelector</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">    {</div><div class="line">        <span class="comment">// Set the Auto Function AOI for luminance statistics.</span></div><div class="line">        <span class="comment">// Currently, AutoFunctionAOISelector_AOI1 is predefined to gather</span></div><div class="line">        <span class="comment">// luminance statistics.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a9dfc4710a770e382552e88d9edd8193b">AutoFunctionAOISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionAOISelector_AOI1);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0f7295c748b7b296e46c409f4702036d">AutoFunctionAOIOffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad11cf6c60b949d2b639b93ce875a59a6">AutoFunctionAOIOffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac73d1cd4ffecd11896d95471658b12c3">AutoFunctionAOIWidth</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#afa5ae49147108e63653b2e03c02582a3">AutoFunctionAOIHeight</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &gt;= Sfnc_2_0_0) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Set the target value for luminance control.</span></div><div class="line">        <span class="comment">// A value of 0.3 means that the target brightness is 30 % of the maximum brightness of the raw pixel value read out from the sensor.</span></div><div class="line">        <span class="comment">// A value of 0.4 means 40 % and so forth.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#afc70a4e19379385b58373e3ef5f4fc20">AutoTargetBrightness</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a2c7f23a23f4879e64d18faa092056c85">SetValue</a>(0.3);</div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;ExposureAuto &#39;GainAuto = Continuous&#39;.&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Initial exposure time = &quot;</span>;</div><div class="line">        cout &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a02c77f57069ed5d8bccfe7a3058fac15">ExposureTime</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af7ab4c8ab5ef58b2cfaef08b339024ab">ExposureAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(ExposureAuto_Continuous);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Set the target value for luminance control. The value is always expressed</span></div><div class="line">        <span class="comment">// as an 8 bit value regardless of the current pixel data output format,</span></div><div class="line">        <span class="comment">// i.e., 0 -&gt; black, 255 -&gt; white.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d1d3dbaa219d23f1b6e49c7bd46e89e">AutoTargetValue</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(80);</div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;ExposureAuto &#39;GainAuto = Continuous&#39;.&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Initial exposure time = &quot;</span>;</div><div class="line">        cout &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af3e21c0211cb64bbaf32d2e6639bca76">ExposureTimeAbs</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af7ab4c8ab5ef58b2cfaef08b339024ab">ExposureAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(ExposureAuto_Continuous);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// When &quot;continuous&quot; mode is selected, the parameter value is adjusted repeatedly while images are acquired.</span></div><div class="line">    <span class="comment">// Depending on the current frame rate, the automatic adjustments will usually be carried out for</span></div><div class="line">    <span class="comment">// every or every other image, unless the camera&#39;s microcontroller is kept busy by other tasks.</span></div><div class="line">    <span class="comment">// The repeated automatic adjustment will proceed until the &quot;once&quot; mode of operation is used or</span></div><div class="line">    <span class="comment">// until the auto function is set to &quot;off&quot;, in which case the parameter value resulting from the latest</span></div><div class="line">    <span class="comment">// automatic adjustment will operate unless the value is manually adjusted.</span></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; 20; n++)    <span class="comment">// For demonstration purposes, we will use only 20 images.</span></div><div class="line">    {</div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_grab_result_ptr.html">CBaslerUniversalGrabResultPtr</a> ptrGrabResult;</div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a69a09e4670fbe5d1677342a6095da288">GrabOne</a>( 5000, ptrGrabResult);</div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">        Pylon::DisplayImage(1, ptrGrabResult);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div><div class="line">    }</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af7ab4c8ab5ef58b2cfaef08b339024ab">ExposureAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(ExposureAuto_Off); <span class="comment">// Switch off Exposure Auto.</span></div><div class="line"></div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Final exposure time = &quot;</span>;</div><div class="line">    <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a02c77f57069ed5d8bccfe7a3058fac15">ExposureTime</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#aecafd04d36b4c3a49a79b1368e102db5">IsReadable</a>()) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">    {</div><div class="line">        cout &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a02c77f57069ed5d8bccfe7a3058fac15">ExposureTime</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        cout &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af3e21c0211cb64bbaf32d2e6639bca76">ExposureTimeAbs</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> AutoWhiteBalance(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera)</div><div class="line">{</div><div class="line">    <span class="comment">// Check whether the Balance White Auto feature is available.</span></div><div class="line">    <span class="keywordflow">if</span> (!camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aed51d09bf364cca0796ad301c3db6aeb">BalanceWhiteAuto</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">    {</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Balance White Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">        <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Maximize the grabbed area of interest (Image AOI).</span></div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a727b115ae54ed9f4c89c114defb32482">SetToMaximum</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>()) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Set the Auto Function ROI for white balance.</span></div><div class="line">        <span class="comment">// We want to use ROI2</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI1);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a250c7104df81b996d1bb2f48e5b9aabe">AutoFunctionROIUseWhiteBalance</a>.<a class="code" href="struct_gen_api_1_1_i_boolean.html#abf22ae207525254e10bb0c6869875ffc">SetValue</a>(<span class="keyword">false</span>);   <span class="comment">// ROI 1 is not used for white balance</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI2);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a250c7104df81b996d1bb2f48e5b9aabe">AutoFunctionROIUseWhiteBalance</a>.<a class="code" href="struct_gen_api_1_1_i_boolean.html#abf22ae207525254e10bb0c6869875ffc">SetValue</a>(<span class="keyword">true</span>);   <span class="comment">// ROI 2 is used for white balance</span></div><div class="line"></div><div class="line">        <span class="comment">// Set the Auto Function AOI for white balance statistics.</span></div><div class="line">        <span class="comment">// Currently, AutoFunctionROISelector_ROI2 is predefined to gather</span></div><div class="line">        <span class="comment">// white balance statistics.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0d883e69ae5bd0d78b28c1ab1ddc37a1">AutoFunctionROISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionROISelector_ROI2);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac650b4b2c78027a7bbb6785a56a7168d">AutoFunctionROIOffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a673e15c7d34e2254fc2667e8261fe343">AutoFunctionROIOffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1e0ffe142a8bdf3113f0e2d77c92e1f2">AutoFunctionROIWidth</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a166f31c6575e0ca4ebde97b9c9635fdb">AutoFunctionROIHeight</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a9dfc4710a770e382552e88d9edd8193b">AutoFunctionAOISelector</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">    {</div><div class="line">        <span class="comment">// Set the Auto Function AOI for luminance statistics.</span></div><div class="line">        <span class="comment">// Currently, AutoFunctionAOISelector_AOI1 is predefined to gather</span></div><div class="line">        <span class="comment">// luminance statistics.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a9dfc4710a770e382552e88d9edd8193b">AutoFunctionAOISelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(AutoFunctionAOISelector_AOI1);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a0f7295c748b7b296e46c409f4702036d">AutoFunctionAOIOffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad11cf6c60b949d2b639b93ce875a59a6">AutoFunctionAOIOffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac73d1cd4ffecd11896d95471658b12c3">AutoFunctionAOIWidth</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#afa5ae49147108e63653b2e03c02582a3">AutoFunctionAOIHeight</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>());</div><div class="line">    }</div><div class="line"></div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;BalanceWhiteAuto = Once&#39;.&quot;</span> &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Initial balance ratio: &quot;</span>;</div><div class="line">    </div><div class="line">    <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &gt;= Sfnc_2_0_0) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">    {</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Red);</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;R = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a42030e8b32d7f3896397cb21392be0e1">BalanceRatio</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Green);</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;G = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a42030e8b32d7f3896397cb21392be0e1">BalanceRatio</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Blue);</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;B = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a42030e8b32d7f3896397cb21392be0e1">BalanceRatio</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; endl;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Red);</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;R = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a51b347eef2200099a8ecacccf02e7b8f">BalanceRatioAbs</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Green);</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;G = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a51b347eef2200099a8ecacccf02e7b8f">BalanceRatioAbs</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Blue);</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;B = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a51b347eef2200099a8ecacccf02e7b8f">BalanceRatioAbs</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aed51d09bf364cca0796ad301c3db6aeb">BalanceWhiteAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceWhiteAuto_Once);</div><div class="line"></div><div class="line">    <span class="comment">// When the &quot;once&quot; mode of operation is selected,</span></div><div class="line">    <span class="comment">// the parameter values are automatically adjusted until the related image property</span></div><div class="line">    <span class="comment">// reaches the target value. After the automatic parameter value adjustment is complete, the auto</span></div><div class="line">    <span class="comment">// function will automatically be set to &quot;off&quot; and the new parameter value will be applied to the</span></div><div class="line">    <span class="comment">// subsequently grabbed images.</span></div><div class="line">    <span class="keywordtype">int</span> n = 0;</div><div class="line">    <span class="keywordflow">while</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aed51d09bf364cca0796ad301c3db6aeb">BalanceWhiteAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a87e4652c9560a4f0e0cc4dd2b873c225">GetValue</a>() != <a class="code" href="___basler_universal_camera_params_8h.html#a04df8c257875bbb0c77c7ab03a60bf00aa12564f23ae084c9b19bfb3b6766fb6a">BalanceWhiteAuto_Off</a>)</div><div class="line">    {</div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_grab_result_ptr.html">CBaslerUniversalGrabResultPtr</a> ptrGrabResult;</div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a69a09e4670fbe5d1677342a6095da288">GrabOne</a>( 5000, ptrGrabResult);</div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">        Pylon::DisplayImage(1, ptrGrabResult);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        ++n;</div><div class="line"></div><div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div><div class="line"></div><div class="line">        <span class="comment">//Make sure the loop is exited.</span></div><div class="line">        <span class="keywordflow">if</span> (n &gt; 100)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga3060f73a55158831d6d35a339aa2dd9a">TIMEOUT_EXCEPTION</a>( <span class="stringliteral">&quot;The adjustment of auto white balance did not finish.&quot;</span>);</div><div class="line">        }</div><div class="line">    }</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;BalanceWhiteAuto went back to &#39;Off&#39; after &quot;</span>;</div><div class="line">    cout &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; frames.&quot;</span> &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Final balance ratio: &quot;</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &gt;= Sfnc_2_0_0) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">    {</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Red);</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;R = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a42030e8b32d7f3896397cb21392be0e1">BalanceRatio</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Green);</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;G = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a42030e8b32d7f3896397cb21392be0e1">BalanceRatio</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Blue);</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;B = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a42030e8b32d7f3896397cb21392be0e1">BalanceRatio</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; endl;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Red);</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;R = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a51b347eef2200099a8ecacccf02e7b8f">BalanceRatioAbs</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Green);</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;G = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a51b347eef2200099a8ecacccf02e7b8f">BalanceRatioAbs</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac956e6aa256f795c1ef1e2b623f9d7be">BalanceRatioSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(BalanceRatioSelector_Blue);</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;B = &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a51b347eef2200099a8ecacccf02e7b8f">BalanceRatioAbs</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; endl;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">bool</span> IsColorCamera(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera)</div><div class="line">{</div><div class="line">    <a class="code" href="namespace_pylon.html#a457b23a13c6f749d03c32b4d42beaa7c">StringList_t</a> settableValues;</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa897adec2da74c3a6407d96d42eec710">PixelFormat</a>.<a class="code" href="struct_pylon_1_1_i_enumeration_ex.html#aa45c250f6bf2a61fa7f02eddc7953d4d">GetSettableValues</a>(settableValues);</div><div class="line">    <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; settableValues.size(); i++)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> (settableValues[i].find(<a class="code" href="class_gen_i_cam_1_1gcstring.html">GenICam::gcstring</a>(<span class="stringliteral">&quot;Bayer&quot;</span>)) != GenICam::gcstring::_npos())</div><div class="line">        {</div><div class="line">            result = <span class="keyword">true</span>;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> result;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_Configurations"></a>
ParametrizeCamera_Configurations</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_Configurations.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    The instant camera allows to install event handlers for configuration purposes</span></div><div class="line"><span class="comment">    and for handling the grab results. This is very useful for handling standard</span></div><div class="line"><span class="comment">    camera setups and image processing tasks.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample shows how to use configuration event handlers by applying the standard</span></div><div class="line"><span class="comment">    configurations and registering sample configuration event handlers.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    Configuration event handlers are derived from the CConfigurationEventHandler base class.</span></div><div class="line"><span class="comment">    CConfigurationEventHandler provides virtual methods that can be overridden. If the</span></div><div class="line"><span class="comment">    configuration event handler is registered these methods are called when the state of the</span></div><div class="line"><span class="comment">    instant camera objects changes, e.g. when the camera object is opened or closed.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    The standard configuration event handlers override the OnOpened method. The overridden method</span></div><div class="line"><span class="comment">    parametrizes the camera.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    Device specific camera classes, e.g. for GigE cameras, provide specialized</span></div><div class="line"><span class="comment">    event handler base classes, e.g. CBaslerGigEConfigurationEventHandler.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Include files used by samples.</span></div><div class="line"><span class="preprocessor">#include &quot;../include/ImageEventPrinter.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;../include/PixelFormatAndAoiConfiguration.h&quot;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="comment">// Number of images to be grabbed.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 3;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create an instant camera object with the first camera device found.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <span class="comment">// Print the model name of the camera.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a958720228a24033bac2d536010e493c3">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// For demonstration purposes only, register an image event handler.</span></div><div class="line">        <span class="comment">// printing out information about the grabbed images.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#af4985cc7f053717b4d9d9a18a8973cec">RegisterImageEventHandler</a>( <span class="keyword">new</span> CImageEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Grab using continuous acquisition:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Register the standard configuration event handler for setting up the camera for continuous acquisition.</span></div><div class="line">        <span class="comment">// By setting the registration mode to RegistrationMode_ReplaceAll, the new configuration handler replaces the</span></div><div class="line">        <span class="comment">// default configuration handler that has been automatically registered when creating the</span></div><div class="line">        <span class="comment">// instant camera object.</span></div><div class="line">        <span class="comment">// The handler is automatically deleted when deregistered or when the registry is cleared if Cleanup_Delete is specified.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_acquire_continuous_configuration.html">CAcquireContinuousConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// The camera&#39;s Open() method calls the configuration handler&#39;s OnOpened() method that</span></div><div class="line">        <span class="comment">// applies the required parameter modifications.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        <span class="comment">// The registered configuration event handler has done its parametrization now.</span></div><div class="line">        <span class="comment">// Additional parameters could be set here.</span></div><div class="line"></div><div class="line">        <span class="comment">// Grab some images for demonstration.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( c_countOfImagesToGrab);</div><div class="line">        <span class="keywordflow">while</span>( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a1d2155d0c74753808af267c34291858c">IsGrabbing</a>())</div><div class="line">        {</div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a78f3b07a3e5c7a64530645ecae49b02e">RetrieveResult</a>( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Close the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#aa0888df5faf71045686ebcaf65ab4dda">Close</a>();</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Grab using software trigger mode:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Register the standard configuration event handler for setting up the camera for software</span></div><div class="line">        <span class="comment">// triggering.</span></div><div class="line">        <span class="comment">// The current configuration is replaced by the software trigger configuration by setting the</span></div><div class="line">        <span class="comment">// registration mode to RegistrationMode_ReplaceAll.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_software_trigger_configuration.html">CSoftwareTriggerConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// StartGrabbing() calls the camera&#39;s Open() automatically if the camera is not open yet.</span></div><div class="line">        <span class="comment">// The Open method calls the configuration handler&#39;s OnOpened() method that</span></div><div class="line">        <span class="comment">// sets the required parameters for enabling software triggering.</span></div><div class="line"></div><div class="line">        <span class="comment">// Grab some images for demonstration.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( c_countOfImagesToGrab);</div><div class="line">        <span class="keywordflow">while</span>( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a1d2155d0c74753808af267c34291858c">IsGrabbing</a>())</div><div class="line">        {</div><div class="line">            <span class="comment">// Execute the software trigger. The call waits up to 1000 ms for the camera</span></div><div class="line">            <span class="comment">// to be ready to be triggered.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a7506b5b38079ba4583a088a620187b29">WaitForFrameTriggerReady</a>( 1000, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#ae5a4e166d9198dd4706a1c72c0bc2bc6">ExecuteSoftwareTrigger</a>();</div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a78f3b07a3e5c7a64530645ecae49b02e">RetrieveResult</a>( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div><div class="line">        }</div><div class="line">        <span class="comment">// StopGrabbing() is called from RetrieveResult if the number of images</span></div><div class="line">        <span class="comment">// to grab has been reached. Since the camera was opened by StartGrabbing()</span></div><div class="line">        <span class="comment">// it is closed by StopGrabbing().</span></div><div class="line"></div><div class="line">        <span class="comment">// The CSoftwareTriggerConfiguration, like all standard configurations, is provided as a header file.</span></div><div class="line">        <span class="comment">// The source code can be copied and modified to meet application specific needs, e.g.</span></div><div class="line">        <span class="comment">// the CSoftwareTriggerConfiguration class could easily be changed into a hardware trigger configuration.</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Grab using single frame acquisition:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Register the standard configuration event handler for configuring single frame acquisition.</span></div><div class="line">        <span class="comment">// The previous configuration is removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_acquire_single_frame_configuration.html">CAcquireSingleFrameConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// GrabOne calls StartGrabbing and StopGrabbing internally.</span></div><div class="line">        <span class="comment">// As seen above Open() is called by StartGrabbing and</span></div><div class="line">        <span class="comment">// the OnOpened() method of the CAcquireSingleFrameConfiguration handler is called.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a69a09e4670fbe5d1677342a6095da288">GrabOne</a>( 5000, ptrGrabResult);</div><div class="line"></div><div class="line">        <span class="comment">// To continuously grab single images it is much more efficient to open the camera before grabbing.</span></div><div class="line">        <span class="comment">// Note: The software trigger mode (see above) should be used for grabbing single images if you want to maximize frame rate.</span></div><div class="line"></div><div class="line">        <span class="comment">// Now, the camera parameters are applied in the OnOpened method of the configuration object.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Additional parameters could be set here.</span></div><div class="line"></div><div class="line">        <span class="comment">// Grab some images for demonstration.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a69a09e4670fbe5d1677342a6095da288">GrabOne</a>( 5000, ptrGrabResult);</div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a69a09e4670fbe5d1677342a6095da288">GrabOne</a>( 5000, ptrGrabResult);</div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a69a09e4670fbe5d1677342a6095da288">GrabOne</a>( 5000, ptrGrabResult);</div><div class="line"></div><div class="line">        <span class="comment">// Close the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#aa0888df5faf71045686ebcaf65ab4dda">Close</a>();</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Grab using multiple configuration objects:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Register the standard event handler for configuring single frame acquisition.</span></div><div class="line">        <span class="comment">// The current configuration is replaced by setting the registration mode to RegistrationMode_ReplaceAll.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_acquire_single_frame_configuration.html">CAcquireSingleFrameConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// Register an additional configuration handler to set the image format and adjust the AOI.</span></div><div class="line">        <span class="comment">// By setting the registration mode to RegistrationMode_Append, the configuration handler is added instead of replacing</span></div><div class="line">        <span class="comment">// the already registered configuration handler.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> CPixelFormatAndAoiConfiguration, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// Create an event printer on the heap.</span></div><div class="line">        CConfigurationEventPrinter* pEventPrinterObject = <span class="keyword">new</span> CConfigurationEventPrinter;</div><div class="line">        <span class="comment">// Register the handler object and define Cleanup_None so that it is not deleted by the camera object.</span></div><div class="line">        <span class="comment">// It must be ensured, that the configuration handler &quot;lives&quot; at least until the handler is deregistered!</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( pEventPrinterObject, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div><div class="line"></div><div class="line">        <span class="comment">// Grab an image for demonstration. Configuration events are printed.</span></div><div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Grab, configuration events are printed:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a69a09e4670fbe5d1677342a6095da288">GrabOne</a>( 5000, ptrGrabResult);</div><div class="line"></div><div class="line">        <span class="comment">// Deregister the event handler.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#af37f2d5e6cbc1f9e02624d9de7d9269a">DeregisterConfiguration</a>( pEventPrinterObject);</div><div class="line">        <span class="comment">// The event handler can now be deleted.</span></div><div class="line">        <span class="keyword">delete</span> pEventPrinterObject;</div><div class="line">        pEventPrinterObject = NULL;</div><div class="line"></div><div class="line">        <span class="comment">// Grab an image for demonstration. Configuration events are not printed.</span></div><div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Grab, configuration events are not printed:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a69a09e4670fbe5d1677342a6095da288">GrabOne</a>( 5000, ptrGrabResult);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_GenericParameterAccess"></a>
ParametrizeCamera_GenericParameterAccess</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_GenericParameterAccess.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    For camera configuration and for accessing other parameters, the pylon API</span></div><div class="line"><span class="comment">    uses the technologies defined by the GenICam standard hosted by the</span></div><div class="line"><span class="comment">    European Machine Vision Association (EMVA). The GenICam specification</span></div><div class="line"><span class="comment">    (http://www.GenICam.org) defines a format for camera description files.</span></div><div class="line"><span class="comment">    These files describe the configuration interface of GenICam compliant cameras.</span></div><div class="line"><span class="comment">    The description files are written in XML (eXtensible Markup Language) and</span></div><div class="line"><span class="comment">    describe camera registers, their interdependencies, and all other</span></div><div class="line"><span class="comment">    information needed to access high-level features such as Gain,</span></div><div class="line"><span class="comment">    Exposure Time, or Image Format by means of low-level register read and</span></div><div class="line"><span class="comment">    write operations.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    The elements of a camera description file are represented as software</span></div><div class="line"><span class="comment">    objects called Nodes. For example, a node can represent a single camera</span></div><div class="line"><span class="comment">    register, a camera parameter such as Gain, a set of available parameter</span></div><div class="line"><span class="comment">    values, etc. Each node implements the GenApi::INode interface.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    The nodes are linked together by different relationships as explained in the</span></div><div class="line"><span class="comment">    GenICam standard document available at www.GenICam.org. The complete set of</span></div><div class="line"><span class="comment">    nodes is stored in a data structure called Node Map.</span></div><div class="line"><span class="comment">    At runtime, a Node Map is instantiated from an XML description.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample shows the &#39;generic&#39; approach for configuring a camera</span></div><div class="line"><span class="comment">    using the GenApi nodemaps represented by the GenApi::INodeMap interface.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    The names and types of the parameter nodes can be found in the Basler pylon Programmer&#39;s Guide</span></div><div class="line"><span class="comment">    and API Reference, in the camera User&#39;s Manual, in the camera&#39;s document about</span></div><div class="line"><span class="comment">    Register Structure and Access Methodes (if applicable), and by using the pylon Viewer tool.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    See also the ParametrizeCamera_NativeParameterAccess sample for the &#39;native&#39;</span></div><div class="line"><span class="comment">    approach for configuring a camera.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using GenApi objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_gen_api.html">GenApi</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line"></div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line"></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create an instant camera object with the camera found first.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <a class="code" href="struct_gen_api_1_1_i_node_map.html">INodeMap</a>&amp; nodemap = camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3227195969200a52200364bf31e9c586">GetNodeMap</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera for accessing the parameters.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Get camera device information.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Camera Device Information&quot;</span> &lt;&lt; endl</div><div class="line">             &lt;&lt; <span class="stringliteral">&quot;=========================&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Vendor           : &quot;</span></div><div class="line">             &lt;&lt; <a class="code" href="class_pylon_1_1_c_string_parameter.html">CStringParameter</a>(nodemap, <span class="stringliteral">&quot;DeviceVendorName&quot;</span>).<a class="code" href="class_pylon_1_1_c_string_parameter.html#a92a58e91d7bb19706842223b685f12c3">GetValue</a>() &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Model            : &quot;</span></div><div class="line">             &lt;&lt; <a class="code" href="class_pylon_1_1_c_string_parameter.html">CStringParameter</a>(nodemap, <span class="stringliteral">&quot;DeviceModelName&quot;</span>).<a class="code" href="class_pylon_1_1_c_string_parameter.html#a92a58e91d7bb19706842223b685f12c3">GetValue</a>() &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Firmware version : &quot;</span></div><div class="line">             &lt;&lt; <a class="code" href="class_pylon_1_1_c_string_parameter.html">CStringParameter</a>(nodemap, <span class="stringliteral">&quot;DeviceFirmwareVersion&quot;</span>).<a class="code" href="class_pylon_1_1_c_string_parameter.html#a92a58e91d7bb19706842223b685f12c3">GetValue</a>() &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Camera settings.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Camera Device Settings&quot;</span> &lt;&lt; endl</div><div class="line">             &lt;&lt; <span class="stringliteral">&quot;======================&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Set the AOI:</span></div><div class="line"></div><div class="line">        <span class="comment">// Get the integer nodes describing the AOI.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_integer_parameter.html">CIntegerParameter</a> offsetX(nodemap, <span class="stringliteral">&quot;OffsetX&quot;</span>);</div><div class="line">        <a class="code" href="class_pylon_1_1_c_integer_parameter.html">CIntegerParameter</a> offsetY(nodemap, <span class="stringliteral">&quot;OffsetY&quot;</span>);</div><div class="line">        <a class="code" href="class_pylon_1_1_c_integer_parameter.html">CIntegerParameter</a> width(nodemap, <span class="stringliteral">&quot;Width&quot;</span>);</div><div class="line">        <a class="code" href="class_pylon_1_1_c_integer_parameter.html">CIntegerParameter</a> height(nodemap, <span class="stringliteral">&quot;Height&quot;</span>);</div><div class="line"></div><div class="line">        <span class="comment">// On some cameras, the offsets are read-only.</span></div><div class="line">        <span class="comment">// Therefore, we must use &quot;Try&quot; functions that only perform the action </span></div><div class="line">        <span class="comment">// when parameters are writable. Otherwise, we would get an exception.</span></div><div class="line">        offsetX.TrySetToMinimum();</div><div class="line">        offsetY.TrySetToMinimum();</div><div class="line"></div><div class="line">        <span class="comment">// Some properties have restrictions.</span></div><div class="line">        <span class="comment">// We use API functions that automatically perform value corrections.</span></div><div class="line">        <span class="comment">// Alternatively, you can use GetInc() / GetMin() / GetMax() to make sure you set a valid value.</span></div><div class="line">        width.SetValue(202, <a class="code" href="namespace_pylon.html#a5e8cf9011e40ab21159d079b6e02f670a8619a2f0237658eed88d9a9d0322e589">IntegerValueCorrection_Nearest</a>);</div><div class="line">        height.SetValue(101, <a class="code" href="namespace_pylon.html#a5e8cf9011e40ab21159d079b6e02f670a8619a2f0237658eed88d9a9d0322e589">IntegerValueCorrection_Nearest</a>);</div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;OffsetX          : &quot;</span> &lt;&lt; offsetX.GetValue() &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;OffsetY          : &quot;</span> &lt;&lt; offsetY.GetValue() &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Width            : &quot;</span> &lt;&lt; width.GetValue() &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Height           : &quot;</span> &lt;&lt; height.GetValue() &lt;&lt; endl;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Access the PixelFormat enumeration type node.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_enum_parameter.html">CEnumParameter</a> pixelFormat(nodemap, <span class="stringliteral">&quot;PixelFormat&quot;</span>);</div><div class="line"></div><div class="line">        <span class="comment">// Remember the current pixel format.</span></div><div class="line">        <a class="code" href="class_gen_i_cam_1_1gcstring.html">String_t</a> oldPixelFormat = pixelFormat.GetValue();</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Old PixelFormat  : &quot;</span> &lt;&lt; oldPixelFormat &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Set the pixel format to Mono8 if available.</span></div><div class="line">        <span class="keywordflow">if</span> (pixelFormat.CanSetValue(<span class="stringliteral">&quot;Mono8&quot;</span>))</div><div class="line">        {</div><div class="line">            pixelFormat.SetValue( <span class="stringliteral">&quot;Mono8&quot;</span>);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;New PixelFormat  : &quot;</span> &lt;&lt; pixelFormat.GetValue() &lt;&lt; endl;</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Set the new gain to 50% -&gt;  Min + ((Max-Min) / 2).</span></div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="comment">// Note: Some newer camera models may have auto functions enabled.</span></div><div class="line">        <span class="comment">//       To be able to set the gain value to a specific value</span></div><div class="line">        <span class="comment">//       the Gain Auto function must be disabled first.</span></div><div class="line">        <span class="comment">// Access the enumeration type node GainAuto.</span></div><div class="line">        <span class="comment">// We use a &quot;Try&quot; function that only performs the action if the parameter is writable.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_enum_parameter.html">CEnumParameter</a> gainAuto(nodemap, <span class="stringliteral">&quot;GainAuto&quot;</span>);</div><div class="line">        gainAuto.TrySetValue(<span class="stringliteral">&quot;Off&quot;</span>);</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Check to see which Standard Feature Naming Convention (SFNC) is used by the camera device.</span></div><div class="line">        <span class="keywordflow">if</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &gt;= Sfnc_2_0_0)</div><div class="line">        {</div><div class="line">            <span class="comment">// Access the Gain float type node. This node is available for USB camera devices.</span></div><div class="line">            <span class="comment">// USB camera devices are compliant to SFNC version 2.0.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_float_parameter.html">CFloatParameter</a> gain(nodemap, <span class="stringliteral">&quot;Gain&quot;</span>);</div><div class="line">            gain.SetValuePercentOfRange(50.0);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gain (50%)       : &quot;</span> &lt;&lt; gain.GetValue() &lt;&lt; <span class="stringliteral">&quot; (Min: &quot;</span> &lt;&lt; gain.GetMin() &lt;&lt; <span class="stringliteral">&quot;; Max: &quot;</span> &lt;&lt; gain.GetMax() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Access the GainRaw integer type node. This node is available for IIDC 1394 and GigE camera devices.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_integer_parameter.html">CIntegerParameter</a> gainRaw(nodemap, <span class="stringliteral">&quot;GainRaw&quot;</span>);</div><div class="line">            gainRaw.SetValuePercentOfRange(50.0);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gain (50%)       : &quot;</span> &lt;&lt; gainRaw.GetValue() &lt;&lt; <span class="stringliteral">&quot; (Min: &quot;</span> &lt;&lt; gainRaw.GetMin() &lt;&lt; <span class="stringliteral">&quot;; Max: &quot;</span> &lt;&lt; gainRaw.GetMax() &lt;&lt; <span class="stringliteral">&quot;; Inc: &quot;</span> &lt;&lt; gainRaw.GetInc() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Restore the old pixel format.</span></div><div class="line">        pixelFormat.SetValue(oldPixelFormat);</div><div class="line"></div><div class="line">        <span class="comment">// Close the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#aa0888df5faf71045686ebcaf65ab4dda">Close</a>();</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_LoadAndSave"></a>
ParametrizeCamera_LoadAndSave</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_LoadAndSave.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample application demonstrates how to save or load the features of a camera</span></div><div class="line"><span class="comment">    to or from a file.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="comment">// The name of the pylon feature stream file.</span></div><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> Filename[] = <span class="stringliteral">&quot;NodeMap.pfs&quot;</span>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create an instant camera object with the camera device found first.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <span class="comment">// Print the model name of the camera.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a958720228a24033bac2d536010e493c3">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Saving camera&#39;s node map to file...&quot;</span>&lt;&lt; endl;</div><div class="line">        <span class="comment">// Save the content of the camera&#39;s node map into the file.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_feature_persistence.html#aafc8caa4484e6a744954c5e9c633051c">CFeaturePersistence::Save</a>( Filename, &amp;camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3227195969200a52200364bf31e9c586">GetNodeMap</a>() );</div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Reading file back to camera&#39;s node map...&quot;</span>&lt;&lt; endl;</div><div class="line">        <span class="comment">// Just for demonstration, read the content of the file back to the camera&#39;s node map with enabled validation.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_feature_persistence.html#ab0113f519bdd95b672daaf249bf21974">CFeaturePersistence::Load</a>( Filename, &amp;camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3227195969200a52200364bf31e9c586">GetNodeMap</a>(), true );</div><div class="line"></div><div class="line">        <span class="comment">// Close the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#aa0888df5faf71045686ebcaf65ab4dda">Close</a>();</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_LookupTable"></a>
ParametrizeCamera_LookupTable</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_LookupTable.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample program demonstrates the use of the Luminance Lookup Table feature.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Include file to use pylon universal instant camera parameters.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_universal_instant_camera_8h.html">pylon/BaslerUniversalInstantCamera.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon universal instant camera parameters.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_basler___universal_camera_params.html">Basler_UniversalCameraParams</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create an instant camera object with the first found camera device.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <span class="comment">// Print the model name of the camera.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a958720228a24033bac2d536010e493c3">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Opening camera...&quot;</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;done&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Writing LUT....&quot;</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Select the lookup table using the LUTSelector.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a60f868d5a27d9636f49bfb68e40fc2db">LUTSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>( LUTSelector_Luminance );</div><div class="line"></div><div class="line">        <span class="comment">// Some cameras have 10 bit and others have 12 bit lookup tables, so determine</span></div><div class="line">        <span class="comment">// the type of the lookup table for the current device.</span></div><div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> nValues = (int) camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a276accf6c03eb8dc992d0c002dc1be8e">LUTIndex</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>() + 1;</div><div class="line">        <span class="keywordtype">int</span> inc;</div><div class="line">        <span class="keywordflow">if</span> ( nValues == 4096 ) <span class="comment">// 12 bit LUT.</span></div><div class="line">            inc = 8;</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( nValues == 1024 ) <span class="comment">// 10 bit LUT.</span></div><div class="line">            inc = 2;</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;Type of LUT is not supported by this sample.&quot;</span>);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Use LUTIndex and LUTValue parameter to access the lookup table values.</span></div><div class="line">        <span class="comment">// The following lookup table causes an inversion of the sensor values.</span></div><div class="line"></div><div class="line">        <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; nValues; i += inc )</div><div class="line">        {</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a276accf6c03eb8dc992d0c002dc1be8e">LUTIndex</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>( i );</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a7399fda5993c78f2b82f0da97b35525e">LUTValue</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>( nValues - 1 - i );</div><div class="line">        }</div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;done&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Enable the lookup table.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad134aae2b3e7282e25f08c16d8ca47f2">LUTEnable</a>.<a class="code" href="struct_gen_api_1_1_i_boolean.html#abf22ae207525254e10bb0c6869875ffc">SetValue</a>( <span class="keyword">true</span> );</div><div class="line"></div><div class="line">        <span class="comment">// Grab and process images here.</span></div><div class="line">        <span class="comment">// ...</span></div><div class="line"></div><div class="line">        <span class="comment">// Disable the lookup table.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad134aae2b3e7282e25f08c16d8ca47f2">LUTEnable</a>.<a class="code" href="struct_gen_api_1_1_i_boolean.html#abf22ae207525254e10bb0c6869875ffc">SetValue</a>( <span class="keyword">false</span> );</div><div class="line"></div><div class="line">        <span class="comment">// Close the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#aa0888df5faf71045686ebcaf65ab4dda">Close</a>();</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_NativeParameterAccess"></a>
ParametrizeCamera_NativeParameterAccess</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_NativeParameterAccess.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    For camera configuration and for accessing other parameters, the pylon API</span></div><div class="line"><span class="comment">    uses the technologies defined by the GenICam standard hosted by the</span></div><div class="line"><span class="comment">    European Machine Vision Association (EMVA). The GenICam specification</span></div><div class="line"><span class="comment">    (http://www.GenICam.org) defines a format for camera description files.</span></div><div class="line"><span class="comment">    These files describe the configuration interface of GenICam compliant cameras.</span></div><div class="line"><span class="comment">    The description files are written in XML (eXtensible Markup Language) and</span></div><div class="line"><span class="comment">    describe camera registers, their interdependencies, and all other</span></div><div class="line"><span class="comment">    information needed to access high-level features such as Gain,</span></div><div class="line"><span class="comment">    Exposure Time, or Image Format by means of low-level register read and</span></div><div class="line"><span class="comment">    write operations.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    The elements of a camera description file are represented as software</span></div><div class="line"><span class="comment">    objects called Nodes. For example, a node can represent a single camera</span></div><div class="line"><span class="comment">    register, a camera parameter such as Gain, a set of available parameter</span></div><div class="line"><span class="comment">    values, etc. Each node implements the GenApi::INode interface.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    Using the code generators provided by GenICam&#39;s GenApi module,</span></div><div class="line"><span class="comment">    a programming interface is created from a camera description file.</span></div><div class="line"><span class="comment">    Thereby, a member is provided for each parameter that is available for the camera device.</span></div><div class="line"><span class="comment">    The programming interface is exported by the device-specific Instant Camera classes.</span></div><div class="line"><span class="comment">    This is the easiest way to access parameters.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample shows the &#39;native&#39; approach for configuring a camera</span></div><div class="line"><span class="comment">    using device-specific instant camera classes.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    See also the ParametrizeCamera_GenericParameterAccess sample for the &#39;generic&#39;</span></div><div class="line"><span class="comment">    approach for configuring a camera.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Include file to use pylon universal instant camera parameters.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_universal_instant_camera_8h.html">pylon/BaslerUniversalInstantCamera.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon universal instant camera parameters.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_basler___universal_camera_params.html">Basler_UniversalCameraParams</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create an instant camera object with the first found camera device.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera for accessing the parameters.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Get camera device information.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Camera Device Information&quot;</span> &lt;&lt; endl</div><div class="line">             &lt;&lt; <span class="stringliteral">&quot;=========================&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Vendor           : &quot;</span></div><div class="line">             &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a5e8362e02795b530fc76bd0ca7ceb3de">DeviceVendorName</a>.<a class="code" href="struct_gen_api_1_1_i_string.html#a8864e0a46fadcaecfea0aef1dc007757">GetValue</a>() &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Model            : &quot;</span></div><div class="line">             &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ab8bb90e9f081e4875be6c4e5eef45ae0">DeviceModelName</a>.<a class="code" href="struct_gen_api_1_1_i_string.html#a8864e0a46fadcaecfea0aef1dc007757">GetValue</a>() &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Firmware version : &quot;</span></div><div class="line">             &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a5ab3ba0900c572a7176c4f334c196e81">DeviceFirmwareVersion</a>.<a class="code" href="struct_gen_api_1_1_i_string.html#a8864e0a46fadcaecfea0aef1dc007757">GetValue</a>() &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Camera settings.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Camera Device Settings&quot;</span> &lt;&lt; endl</div><div class="line">             &lt;&lt; <span class="stringliteral">&quot;======================&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Set the AOI:</span></div><div class="line"></div><div class="line">        <span class="comment">// On some cameras, the offsets are read-only.</span></div><div class="line">        <span class="comment">// Therefore, we must use &quot;Try&quot; functions that only perform the action </span></div><div class="line">        <span class="comment">// when parameters are writable. Otherwise, we would get an exception.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a4cd30c667819a54952a611879d8174fa">TrySetToMinimum</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Some properties have restrictions.</span></div><div class="line">        <span class="comment">// We use API functions that automatically perform value corrections.</span></div><div class="line">        <span class="comment">// Alternatively, you can use GetInc() / GetMin() / GetMax() to make sure you set a valid value.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(202, <a class="code" href="namespace_pylon.html#a5e8cf9011e40ab21159d079b6e02f670a8619a2f0237658eed88d9a9d0322e589">IntegerValueCorrection_Nearest</a>);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(101, <a class="code" href="namespace_pylon.html#a5e8cf9011e40ab21159d079b6e02f670a8619a2f0237658eed88d9a9d0322e589">IntegerValueCorrection_Nearest</a>);</div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;OffsetX          : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af4252ccb5e40bfe7e83b25457315c52b">OffsetX</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;OffsetY          : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a8a915a24402caf1ad8311cc08c96b376">OffsetY</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Width            : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Height           : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Remember the current pixel format.</span></div><div class="line">        <a class="code" href="___basler_universal_camera_params_8h.html#aff8b47fcd6c4e52b6fc8ae20a0071602">PixelFormatEnums</a> oldPixelFormat = camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa897adec2da74c3a6407d96d42eec710">PixelFormat</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a87e4652c9560a4f0e0cc4dd2b873c225">GetValue</a>();</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Old PixelFormat  : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa897adec2da74c3a6407d96d42eec710">PixelFormat</a>.<a class="code" href="struct_gen_api_1_1_i_value.html#aa4a55b401c2fefdac0a1d2971e772060">ToString</a>() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; oldPixelFormat &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Set pixel format to Mono8 if available.</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa897adec2da74c3a6407d96d42eec710">PixelFormat</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a4e3fe1ae986ad2fa04e5938949395829">CanSetValue</a>(PixelFormat_Mono8))</div><div class="line">        {</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa897adec2da74c3a6407d96d42eec710">PixelFormat</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(PixelFormat_Mono8);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;New PixelFormat  : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa897adec2da74c3a6407d96d42eec710">PixelFormat</a>.<a class="code" href="struct_gen_api_1_1_i_value.html#aa4a55b401c2fefdac0a1d2971e772060">ToString</a>() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa897adec2da74c3a6407d96d42eec710">PixelFormat</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a87e4652c9560a4f0e0cc4dd2b873c225">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Set the new gain to 50% -&gt;  Min + ((Max-Min) / 2).</span></div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="comment">// Note: Some newer camera models may have auto functions enabled.</span></div><div class="line">        <span class="comment">//       To be able to set the gain value to a specific value</span></div><div class="line">        <span class="comment">//       the Gain Auto function must be disabled first.</span></div><div class="line">        <span class="comment">// Access the enumeration type node GainAuto.</span></div><div class="line">        <span class="comment">// We use a &quot;Try&quot; function that only performs the action if the parameter is writable.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1f883de8d6017eae5bc8d19f871aeba9">GainAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>(GainAuto_Off);</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a90d2817d90e2a6b0a2fa120666bc702a">GetSfncVersion</a>() &gt;= Sfnc_2_0_0) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">        {</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a0bf5f7b1b6c6483324267fbbaf293c76">SetValuePercentOfRange</a>(50.0);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gain (50%)       : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot; (Min: &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a6637c7971441ed5a72ecd6700bf4613c">GetMin</a>() &lt;&lt; <span class="stringliteral">&quot;; Max: &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#aa2b6756f1d569260202d82a92bd63581">GetMax</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> </div><div class="line">        {</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#aaf6991f49374b86660231ec620b1d83c">SetValuePercentOfRange</a>(50.0);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gain (50%)       : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; <span class="stringliteral">&quot; (Min: &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>() &lt;&lt; <span class="stringliteral">&quot;; Max: &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad03d879ad246e9455870cabb9429dede">GetMax</a>() &lt;&lt; <span class="stringliteral">&quot;; Inc: &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#adba1e261d4943c3381c3f9508d37ce91">GetInc</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div><div class="line">        }</div><div class="line">        </div><div class="line"></div><div class="line">        <span class="comment">// Restore the old pixel format.</span></div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa897adec2da74c3a6407d96d42eec710">PixelFormat</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(oldPixelFormat);</div><div class="line"></div><div class="line">        <span class="comment">// Close the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#aa0888df5faf71045686ebcaf65ab4dda">Close</a>();</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_Shading"></a>
ParametrizeCamera_Shading</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_Shading.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample demonstrates how to calculate and upload a gain shading</span></div><div class="line"><span class="comment">    set to a Basler runner line scan camera.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample only applies to Basler runner cameras.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// For use with Visual Studio &gt;= 2005, disable deprecate warnings caused by the fopen function.</span></div><div class="line"><span class="preprocessor">#define _CRT_SECURE_NO_WARNINGS</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Include file to use pylon universal instant camera parameters.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_universal_instant_camera_8h.html">pylon/BaslerUniversalInstantCamera.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// For DBL_MAX.</span></div><div class="line"><span class="preprocessor">#include &lt;float.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;errno.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef _MSC_VER</span></div><div class="line"><span class="preprocessor">#pragma warning(push)</span></div><div class="line"><span class="preprocessor">#pragma warning(disable: 4244)</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// For file upload.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_filestream_8h.html">GenApi/Filestream.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef _MSC_VER</span></div><div class="line"><span class="preprocessor">#pragma warning(pop)</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespaces for using pylon universal instant camera parameters.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_basler___universal_camera_params.html">Basler_UniversalCameraParams</a>;</div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_basler___universal_stream_params.html">Basler_UniversalStreamParams</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Prototypes for functions used in &#39;main&#39;.</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> CreateShadingData(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera,</div><div class="line">                       <span class="keyword">const</span> <span class="keywordtype">char</span> *pLocalFilename);</div><div class="line"><span class="keywordtype">void</span> UploadFile(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera,</div><div class="line">                <span class="keyword">const</span> <span class="keywordtype">char</span> *pCameraFilename,</div><div class="line">                <span class="keyword">const</span> <span class="keywordtype">char</span> *pLocalFilename);</div><div class="line"><span class="keywordtype">void</span> CheckShadingData(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera);</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Name of the file where we will store the shading data on the local disk.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> LocalFilename[] = <span class="stringliteral">&quot;ShadingData.bin&quot;</span>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="preprocessor">#define USE_SHADING_SET_1   // Define which shading set we are going to use.</span></div><div class="line"></div><div class="line"><span class="preprocessor">#if defined (USE_SHADING_SET_1)</span></div><div class="line"></div><div class="line"><span class="comment">// Name of the file in the camera where the shading data will be stored.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> CameraFilename[] = <span class="stringliteral">&quot;UserGainShading1&quot;</span>;</div><div class="line"></div><div class="line"><span class="comment">// Name of the shading set that corresponds to &#39;CameraFilename&#39;.</span></div><div class="line"><span class="keyword">static</span> <a class="code" href="___basler_universal_camera_params_8h.html#aa33342884a16a129f34147f1a51a8d99">ShadingSetSelectorEnums</a> ShadingSet = <a class="code" href="___basler_universal_camera_params_8h.html#aa33342884a16a129f34147f1a51a8d99a8daba0fc7d5930786c0de6da3a5b05af">ShadingSetSelector_UserShadingSet1</a>;</div><div class="line"></div><div class="line"><span class="preprocessor">#elif defined (USE_SHADING_SET_2)</span></div><div class="line"></div><div class="line"><span class="comment">// Name of the file in the camera where shading data will be stored.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> CameraFilename[] = <span class="stringliteral">&quot;UserGainShading2&quot;</span>;</div><div class="line"></div><div class="line"><span class="comment">// Name of the shading set that corresponds to &#39;CameraFilename&#39;.</span></div><div class="line"><span class="keyword">static</span> <a class="code" href="___basler_universal_camera_params_8h.html#aa33342884a16a129f34147f1a51a8d99">ShadingSetSelectorEnums</a> ShadingSet = <a class="code" href="___basler_universal_camera_params_8h.html#aa33342884a16a129f34147f1a51a8d99a335b227fb758443d688a6fe59b4be0d0">ShadingSetSelector_UserShadingSet2</a>;</div><div class="line"></div><div class="line"><span class="preprocessor">#else</span></div><div class="line"><span class="preprocessor">#error No shading set defined!</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Only look for GigE cameras.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div><div class="line">        info.<a class="code" href="class_pylon_1_1_c_info_base.html#ac0a1e40b375b188e495237aeddababca">SetTLType</a>( <a class="code" href="namespace_pylon_1_1_t_l_type.html#a5e0eb2dd14a06c2886b9cab374aca0a3">Pylon::TLType::TLTypeGigE</a> );</div><div class="line"></div><div class="line">        <span class="comment">// Create an instant camera object for the GigE camera found first.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice(info));</div><div class="line"></div><div class="line">        <span class="comment">// Print the model name of the camera.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a958720228a24033bac2d536010e493c3">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Register the standard configuration event handler for configuring single frame acquisition.</span></div><div class="line">        <span class="comment">// This replaces the default configuration as all event handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a310ffcece4c5924b12de2d7082c5bf00">RegisterConfiguration</a>( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_acquire_single_frame_configuration.html">CAcquireSingleFrameConfiguration</a>(), <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Only line scan cameras support gain shading.</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a3352017989c4b61716f0046d23535973">DeviceScanType</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a87e4652c9560a4f0e0cc4dd2b873c225">GetValue</a>() == <a class="code" href="___basler_universal_camera_params_8h.html#aaf8ad4713d285e3977cbbf6263fa040da667947fa6b808c89f25d94659bf2ae56">DeviceScanType_Linescan</a>)</div><div class="line">        {</div><div class="line">            <span class="comment">// Here, we assume that the conditions for exposure (illumination,</span></div><div class="line">            <span class="comment">// exposure time, etc.) have been set up to deliver images of</span></div><div class="line">            <span class="comment">// uniform intensity (gray value), but that the acquired images are not uniform.</span></div><div class="line">            <span class="comment">// We calculate the gain shading data so that the observed non-uniformity</span></div><div class="line">            <span class="comment">// will be compensated when the data are applied.</span></div><div class="line">            <span class="comment">// These data are saved to a local file.</span></div><div class="line">            CreateShadingData( camera, LocalFilename);</div><div class="line"></div><div class="line">            <span class="comment">// Transfer calculated gain shading data from the local file to the camera.</span></div><div class="line">            UploadFile( camera, CameraFilename, LocalFilename);</div><div class="line"></div><div class="line">            <span class="comment">// Test to what extent the non-uniformity has been compensated.</span></div><div class="line">            CheckShadingData( camera);</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            cerr &lt;&lt; <span class="stringliteral">&quot;Only line scan cameras support gain shading.&quot;</span> &lt;&lt; endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Close the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#aa0888df5faf71045686ebcaf65ab4dda">Close</a>();</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// In the following code, the format of the arrays containing intensities</span></div><div class="line"><span class="comment">// or coefficients is as follows:</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//      If the pixel format is PixelFormat_Mono8:</span></div><div class="line"><span class="comment">//      ArraySize == Width</span></div><div class="line"><span class="comment">//      [Value_x0, Value_x1, Value_x2, ... , Value_x(Width - 1)]</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//      If the pixel format is PixelFormat_RGB8Packed:</span></div><div class="line"><span class="comment">//      ArraySize ==  3 * Width</span></div><div class="line"><span class="comment">//      [ValueRed_x0,   ValueRed_x1,   ... , ValueRed_x(Width - 1),</span></div><div class="line"><span class="comment">//       ValueGreen_x0, ValueGreen_x1, ... , ValueGreen_x(Width - 1),</span></div><div class="line"><span class="comment">//       ValueBlue_x0,  ValueBlue_x1,  ... , ValueBlue_x(Width - 1)]</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment"></span></div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Grab a frame and store the intensitiy for the pixels in each column</span></div><div class="line"><span class="comment">// in &#39;Intensities&#39;.</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keywordtype">void</span> AverageLines(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera,</div><div class="line">                   uint32_t Width,         <span class="comment">// Width of frame (number of pixels in each line).</span></div><div class="line">                   uint32_t Height,        <span class="comment">// Height of frame (number of lines in each frame).</span></div><div class="line">                   uint32_t NumCoeffs,     <span class="comment">// Number of coefficients.</span></div><div class="line">                   <span class="keywordtype">double</span> *Intensities)    <span class="comment">// Destination array.</span></div><div class="line">{</div><div class="line">    <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; NumCoeffs; x++)</div><div class="line">    {</div><div class="line">        Intensities[x] = 0.0;</div><div class="line">    }</div><div class="line"></div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Grab frame for averaging.&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">    <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a69a09e4670fbe5d1677342a6095da288">GrabOne</a>( 5000, ptrGrabResult);</div><div class="line">    uint8_t *Buffer = <span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>( ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0ed8d8548b5e4da67167d388fb85e0b5">GetBuffer</a>());</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (NumCoeffs == 3 * Width)</div><div class="line">    {</div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="comment">// RGB mode.</span></div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; Width; x++)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">for</span> (uint32_t y = 0; y &lt; Height; y++)</div><div class="line">            {</div><div class="line">                <span class="comment">// Add intensities.</span></div><div class="line">                uint32_t idx = 3 * (y * Width + x);</div><div class="line">                Intensities[x] += Buffer[idx];</div><div class="line">                Intensities[x + Width] += Buffer[idx + 1];</div><div class="line">                Intensities[x + 2 * Width] += Buffer[idx + 2];</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="comment">// Mono mode.</span></div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; Width; x++)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">for</span> (uint32_t y = 0; y &lt; Height; y++)</div><div class="line">            {</div><div class="line">                <span class="comment">// Add intensities.</span></div><div class="line">                Intensities[x] += Buffer[y * Width + x];</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordtype">double</span> scale = 1.0 / double(Height);</div><div class="line">    <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; NumCoeffs; x++)</div><div class="line">    {</div><div class="line">        <span class="comment">// Calculate average intensities.</span></div><div class="line">        Intensities[x] *= scale;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Take the average intensities from &#39;pDblCoeff&#39;. Identify the minimum and maximum</span></div><div class="line"><span class="comment">// average intensity. For each intensity, calculate a multiplier so that</span></div><div class="line"><span class="comment">// the product of the multiplier and  the intensity equals the maximimum intensity (the</span></div><div class="line"><span class="comment">// multiplier for the maximum intensity is 1). Store the multipliers in &#39;pDblCoeff&#39;.</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="keywordtype">void</span> CalculateCoeffs( uint32_t  Width,         <span class="comment">// Width of image (number of pixels in each line).</span></div><div class="line">                      uint32_t  Height,        <span class="comment">// Height of image (number of lines in each frame).</span></div><div class="line">                      uint32_t  NumCoeffs,     <span class="comment">// Number of shading coefficients.</span></div><div class="line">                      <span class="keywordtype">double</span>  * pDblCoeff )    <span class="comment">// In: averaged intensities.</span></div><div class="line">                                               <span class="comment">// Out: multiplier values.</span></div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (NumCoeffs == 3 * Width)</div><div class="line">    {</div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="comment">// RGB mode.</span></div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="keywordtype">double</span> MinR = DBL_MAX;</div><div class="line">        <span class="keywordtype">double</span> MinG = DBL_MAX;</div><div class="line">        <span class="keywordtype">double</span> MinB = DBL_MAX;</div><div class="line">        <span class="keywordtype">double</span> MaxR = -DBL_MAX;</div><div class="line">        <span class="keywordtype">double</span> MaxG = -DBL_MAX;</div><div class="line">        <span class="keywordtype">double</span> MaxB = -DBL_MAX;</div><div class="line"></div><div class="line">        <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; Width; x++)</div><div class="line">        {</div><div class="line">            <span class="comment">// Determine min and max intensity.</span></div><div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x] &lt; MinR)</div><div class="line">            {</div><div class="line">                MinR = pDblCoeff[x];</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x] &gt; MaxR)</div><div class="line">            {</div><div class="line">                MaxR = pDblCoeff[x];</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x + Width] &lt; MinG)</div><div class="line">            {</div><div class="line">                MinG = pDblCoeff[x + Width];</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x + Width] &gt; MaxG)</div><div class="line">            {</div><div class="line">                MaxG = pDblCoeff[x + Width];</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x + 2 * Width] &lt; MinB)</div><div class="line">            {</div><div class="line">                MinB = pDblCoeff[x + 2 * Width];</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x + 2 * Width] &gt; MaxB)</div><div class="line">            {</div><div class="line">                MaxB = pDblCoeff[x + 2 * Width];</div><div class="line">            }</div><div class="line">        }</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;MaxR = &quot;</span> &lt;&lt; (MaxR / MinR) &lt;&lt; <span class="stringliteral">&quot; * MinR&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;MaxG = &quot;</span> &lt;&lt; (MaxG / MinG) &lt;&lt; <span class="stringliteral">&quot; * MinG&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;MaxB = &quot;</span> &lt;&lt; (MaxB / MinB) &lt;&lt; <span class="stringliteral">&quot; * MinB&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Scale to maximum intensity.</span></div><div class="line">        <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; Width; x++)</div><div class="line">        {</div><div class="line">            pDblCoeff[x] = MaxR / pDblCoeff[x];</div><div class="line">            pDblCoeff[x + Width] = MaxG / pDblCoeff[x + Width];</div><div class="line">            pDblCoeff[x + 2 * Width] = MaxB / pDblCoeff[x + 2 * Width];</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="comment">// Mono mode.</span></div><div class="line">        <span class="comment">//</span></div><div class="line"></div><div class="line">        <span class="keywordtype">double</span> Min = DBL_MAX;</div><div class="line">        <span class="keywordtype">double</span> Max = -DBL_MAX;</div><div class="line">        <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; Width; x++)</div><div class="line">        {</div><div class="line">            <span class="comment">// Determine min and max intensity.</span></div><div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x] &lt; Min)</div><div class="line">            {</div><div class="line">                Min = pDblCoeff[x];</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x] &gt; Max)</div><div class="line">            {</div><div class="line">                Max = pDblCoeff[x];</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Max = &quot;</span> &lt;&lt; (Max / Min) &lt;&lt; <span class="stringliteral">&quot; * Min&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Scale to maximum intensity.</span></div><div class="line">        <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; Width; x++)</div><div class="line">        {</div><div class="line">            pDblCoeff[x] = Max / pDblCoeff[x];</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">bool</span> SupportsRGB(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera);</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// &#39;CreateShadingData&#39; assumes that the conditions for exposure (illumination,</span></div><div class="line"><span class="comment">// exposure time, etc.) have been set up to deliver images of</span></div><div class="line"><span class="comment">// uniform intensity (gray value), but that the acquired images are not uniform.</span></div><div class="line"><span class="comment">// We calculate the gain shading data so that the observed non-uniformity</span></div><div class="line"><span class="comment">// will be compensated when the data are applied.</span></div><div class="line"><span class="comment">// These data are saved to a local file.</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> CreateShadingData(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera, <span class="keyword">const</span> <span class="keywordtype">char</span> *pLocalFilename)</div><div class="line">{</div><div class="line">    <span class="comment">//</span></div><div class="line">    <span class="comment">// Prepare camera for grab.</span></div><div class="line">    <span class="comment">//</span></div><div class="line"></div><div class="line">    uint32_t Width = (uint32_t)camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>();</div><div class="line">    uint32_t Height = (uint32_t)camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>();</div><div class="line">    int32_t BytesPerPixel = 1;</div><div class="line">    <span class="keywordflow">if</span> (SupportsRGB(camera))</div><div class="line">    {</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa897adec2da74c3a6407d96d42eec710">PixelFormat</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(PixelFormat_RGB8Packed);</div><div class="line">        BytesPerPixel = 3;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa897adec2da74c3a6407d96d42eec710">PixelFormat</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(PixelFormat_Mono8);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Disable gain shading for calculation.</span></div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ab95cac30451281f67c522b473c47b31a">ShadingSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(ShadingSelector_GainShading);</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#add790e47d40817dff5c74b1f4a52a267">ShadingEnable</a>.<a class="code" href="struct_gen_api_1_1_i_boolean.html#abf22ae207525254e10bb0c6869875ffc">SetValue</a>(<span class="keyword">false</span>);</div><div class="line"></div><div class="line">    <span class="comment">//</span></div><div class="line">    <span class="comment">// Grab and average images into &#39;pDblCoeff&#39;.</span></div><div class="line">    <span class="comment">//</span></div><div class="line"></div><div class="line">    uint32_t NumCoeffs = BytesPerPixel * Width;</div><div class="line">    <span class="keywordtype">double</span> *pDblCoeff = <span class="keyword">new</span> <span class="keywordtype">double</span>[NumCoeffs];</div><div class="line">    AverageLines(camera, Width, Height, NumCoeffs, pDblCoeff);</div><div class="line"></div><div class="line">    <span class="comment">//</span></div><div class="line">    <span class="comment">// Calculate gain shading data.</span></div><div class="line">    <span class="comment">//</span></div><div class="line"></div><div class="line">    <span class="comment">// Convert averaged intensities to multipliers.</span></div><div class="line">    CalculateCoeffs(Width, Height, NumCoeffs, pDblCoeff);</div><div class="line"></div><div class="line">    <span class="comment">// Convert multipliers to camera format.</span></div><div class="line">    uint32_t *pCoeffs = <span class="keyword">new</span> uint32_t[NumCoeffs];</div><div class="line">    <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; NumCoeffs; x++)</div><div class="line">    {</div><div class="line">        <span class="comment">// The multipliers are expressed as 32 bit fixed point</span></div><div class="line">        <span class="comment">// numbers with 16 bits before and 16 bits after</span></div><div class="line">        <span class="comment">// the decimal point.</span></div><div class="line">        uint32_t coeff = uint32_t(pDblCoeff[x] * (1 &lt;&lt; 16));</div><div class="line"></div><div class="line">        <span class="comment">// Currently, the maximum multiplier is limited to 3.99998</span></div><div class="line">        <span class="comment">// (max register value == 0x0003FFFF).</span></div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (coeff &gt; 0x0003FFFF)</div><div class="line">        {</div><div class="line">            <span class="keyword">static</span> <span class="keywordtype">bool</span> PrintMessage = <span class="keyword">true</span>;</div><div class="line">            <span class="keywordflow">if</span> (PrintMessage)</div><div class="line">            {</div><div class="line">                PrintMessage = <span class="keyword">false</span>;</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Gain shading had to be clipped.&quot;</span> &lt;&lt; endl;</div><div class="line">            }</div><div class="line">            coeff = 0x0003FFFF;</div><div class="line">        }</div><div class="line"></div><div class="line">        pCoeffs[x] = coeff;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">delete</span>[] pDblCoeff;</div><div class="line"></div><div class="line">    <span class="comment">//</span></div><div class="line">    <span class="comment">// Write data to file.</span></div><div class="line">    <span class="comment">//</span></div><div class="line">    FILE *fp = fopen(pLocalFilename, <span class="stringliteral">&quot;wb&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (fp == NULL )</div><div class="line">    {</div><div class="line">        <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>(<span class="stringliteral">&quot;Can not open file &#39;%s&#39;\n&quot;</span>, pLocalFilename);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Header for gain shading file.</span></div><div class="line">    <span class="keyword">struct </span>ShadingHeader_t</div><div class="line">    {</div><div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>  version;</div><div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>  type;</div><div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>  sensorType;</div><div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>  lineType;</div><div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> width;</div><div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> reserved;</div><div class="line">    };</div><div class="line"></div><div class="line">    <span class="comment">// Constants used in header.</span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ShadingVersion_1       = 0x5a;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ShadingType_Gain       = 0xc3;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ShadingSensorType_Line = 0x02;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ShadingLineType_Single = 0x01;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ShadingLineType_Tri    = 0x03;</div><div class="line"></div><div class="line">        <span class="comment">// Construct header.</span></div><div class="line">    ShadingHeader_t h;</div><div class="line">    h.version = ShadingVersion_1;</div><div class="line">    h.type = ShadingType_Gain;</div><div class="line">    h.sensorType = ShadingSensorType_Line;</div><div class="line">    h.lineType = BytesPerPixel == 3 ? ShadingLineType_Tri : ShadingLineType_Single;</div><div class="line">    h.width = uint16_t(Width);</div><div class="line">    h.reserved = 0;</div><div class="line"></div><div class="line">        <span class="comment">// Write shading data to local file.</span></div><div class="line">    fwrite(&amp;h, <span class="keyword">sizeof</span>(h), 1, fp);</div><div class="line">    fwrite(pCoeffs, <span class="keyword">sizeof</span>(uint32_t), NumCoeffs, fp);</div><div class="line">    fclose(fp);</div><div class="line">    <span class="keyword">delete</span>[] pCoeffs;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Copy data from a local file to a file in the camera.</span></div><div class="line"><span class="keywordtype">void</span> UploadFile(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera,</div><div class="line">                <span class="keyword">const</span> <span class="keywordtype">char</span> *pCameraFilename,</div><div class="line">                <span class="keyword">const</span> <span class="keywordtype">char</span> *pLocalFilename)</div><div class="line">{</div><div class="line"></div><div class="line">    <span class="comment">// Open local file.</span></div><div class="line">    FILE *fp = fopen(pLocalFilename, <span class="stringliteral">&quot;rb&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> ( fp == NULL )</div><div class="line">    {</div><div class="line">        <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>(<span class="stringliteral">&quot;Can not open file &#39;%s&#39;\n&quot;</span>, pLocalFilename);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Determine file size.</span></div><div class="line">    fseek(fp, 0, SEEK_END);</div><div class="line">    <span class="keywordtype">size_t</span> Size = ftell(fp);</div><div class="line">    rewind(fp);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (Size == 0)</div><div class="line">    {</div><div class="line">        fclose(fp);</div><div class="line">        <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Read data from local file into pBuf.</span></div><div class="line">    <span class="keywordtype">char</span> *pBuf = <span class="keyword">new</span> <span class="keywordtype">char</span>[Size];</div><div class="line">    <span class="keywordtype">size_t</span> read = fread(pBuf, 1, Size, fp);</div><div class="line">    fclose(fp);</div><div class="line">    <span class="keywordflow">if</span> (read != Size)</div><div class="line">    {</div><div class="line">        <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>(<span class="stringliteral">&quot;Failed to read from file &#39;%s&#39;\n&quot;</span>, pLocalFilename);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Transfer data to camera.</span></div><div class="line">    GenApi::ODevFileStream stream( &amp;camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3227195969200a52200364bf31e9c586">GetNodeMap</a>(), pCameraFilename);</div><div class="line">    stream.write(pBuf, streamsize(Size));</div><div class="line">    stream.close();</div><div class="line"></div><div class="line">    <span class="keyword">delete</span>[] pBuf;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Check the success of &#39;CreateShadingData&#39; and &#39;UploadFile&#39; by</span></div><div class="line"><span class="comment">//     - activating and enabling the uploaded shading data file</span></div><div class="line"><span class="comment">//     - grabbing one image</span></div><div class="line"><span class="comment">//     - calculating the multipliers again, expecting them to be close to 1.0</span></div><div class="line"><span class="keywordtype">void</span> CheckShadingData(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera)</div><div class="line">{</div><div class="line">    uint32_t Width = (uint32_t)camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#abb661eeea9598a273e24f3fd1c91e9a8">Width</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>();</div><div class="line">    uint32_t Height = (uint32_t)camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aec75f68881bc3ee91f6799e104fd0de9">Height</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>();</div><div class="line">    int32_t BytesPerPixel = 1;</div><div class="line">    <span class="keywordflow">if</span> (SupportsRGB(camera))</div><div class="line">    {</div><div class="line">        BytesPerPixel = 3;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">//</span></div><div class="line">    <span class="comment">// Activate and enable the gain shading set that was just uploaded.</span></div><div class="line">    <span class="comment">//</span></div><div class="line"></div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ab95cac30451281f67c522b473c47b31a">ShadingSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(ShadingSelector_GainShading);</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a879ecf1772d076d607b4b666c88136a5">ShadingSetSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(ShadingSet);</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a30bf7ad221f7ad70fcdf315fbf92ce9b">ShadingSetActivate</a>.<a class="code" href="struct_gen_api_1_1_i_command.html#a4e72b6ccf61c1f92a1334b9e59eb4fc6">Execute</a>();</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#add790e47d40817dff5c74b1f4a52a267">ShadingEnable</a>.<a class="code" href="struct_gen_api_1_1_i_boolean.html#abf22ae207525254e10bb0c6869875ffc">SetValue</a>(<span class="keyword">true</span>);</div><div class="line"></div><div class="line">    <span class="comment">//</span></div><div class="line">    <span class="comment">// Grab image and calculate multipliers just to print the new Max/Min ratio.</span></div><div class="line">    <span class="comment">//</span></div><div class="line"></div><div class="line">    uint32_t NumCoeffs = BytesPerPixel * Width;</div><div class="line">    <span class="keywordtype">double</span> *pDblCoeff = <span class="keyword">new</span> <span class="keywordtype">double</span>[NumCoeffs];</div><div class="line">    AverageLines( camera,</div><div class="line">                  Width,</div><div class="line">                  Height,</div><div class="line">                  NumCoeffs,</div><div class="line">                  pDblCoeff);</div><div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;After applying shading correction:&quot;</span> &lt;&lt; endl;</div><div class="line">    CalculateCoeffs(Width, Height, NumCoeffs, pDblCoeff);</div><div class="line">    <span class="keyword">delete</span>[] pDblCoeff;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// Check whether camera supports RGB pixel formats.</span></div><div class="line"><span class="keywordtype">bool</span> SupportsRGB(<a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a>&amp; camera)</div><div class="line">{</div><div class="line">    <a class="code" href="class_gen_api_1_1node__vector.html">GenApi::NodeList_t</a> Entries;</div><div class="line">    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa897adec2da74c3a6407d96d42eec710">PixelFormat</a>.<a class="code" href="struct_gen_api_1_1_i_enumeration.html#a67ba6f3eaa4b894a4d47dba3bdb9a00f">GetEntries</a>(Entries);</div><div class="line">    <span class="keywordtype">bool</span> Result = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; Entries.size(); i++)</div><div class="line">    {</div><div class="line">        <a class="code" href="struct_gen_api_1_1_i_node.html">GenApi::INode</a> *pNode = Entries[i];</div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>(pNode-&gt;<a class="code" href="struct_gen_api_1_1_i_base.html#ac4951e51b8d7bfeb7420964a41251676">GetAccessMode</a>()))</div><div class="line">        {</div><div class="line">            <a class="code" href="struct_gen_api_1_1_i_enum_entry.html">GenApi::IEnumEntry</a> *pEnum = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="struct_gen_api_1_1_i_enum_entry.html">GenApi::IEnumEntry</a> *<span class="keyword">&gt;</span>(pNode);</div><div class="line">            <span class="keyword">const</span> <a class="code" href="class_gen_i_cam_1_1gcstring.html">GenICam::gcstring</a> sym(pEnum-&gt;<a class="code" href="struct_gen_api_1_1_i_enum_entry.html#adae36fdbd484da52f6632c94759fb257">GetSymbolic</a>());</div><div class="line">            <span class="keywordflow">if</span> (sym.find(<a class="code" href="class_gen_i_cam_1_1gcstring.html">GenICam::gcstring</a>(<span class="stringliteral">&quot;RGB&quot;</span>)) != string::npos)</div><div class="line">            {</div><div class="line">                Result = <span class="keyword">true</span>;</div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> Result;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_UserSets"></a>
ParametrizeCamera_UserSets</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_UserSets.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    Demonstrates how to use user configuration sets (user sets) and how to configure the camera</span></div><div class="line"><span class="comment">    to start up with the user defined settings of user set 1.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    You can also configure your camera using the pylon Viewer and</span></div><div class="line"><span class="comment">    store your custom settings in a user set of your choice.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    Note: Different camera families implement different versions of the Standard Feature Naming Convention (SFNC).</span></div><div class="line"><span class="comment">    That&#39;s why the name and the type of the parameters used can be different.</span></div><div class="line"><span class="comment">    </span></div><div class="line"><span class="comment">    ATTENTION:</span></div><div class="line"><span class="comment">    Executing this sample will overwrite all current settings in user set 1.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Include file to use pylon universal instant camera parameters.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_universal_instant_camera_8h.html">pylon/BaslerUniversalInstantCamera.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon universal instant camera parameters.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_basler___universal_camera_params.html">Basler_UniversalCameraParams</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create an instant camera object with the first found camera device.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <span class="comment">// Print the model name of the camera.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a958720228a24033bac2d536010e493c3">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Used for USB cameras</span></div><div class="line">        <a class="code" href="___basler_universal_camera_params_8h.html#a8eaea13ba4f3176f61701a73dadc2481">UserSetDefaultEnums</a> oldDefaultUserSet;</div><div class="line">        <span class="comment">// Used for GigE cameras</span></div><div class="line">        <a class="code" href="___basler_universal_camera_params_8h.html#ad2472d255921c5485f3318092f77a5f8">UserSetDefaultSelectorEnums</a> oldDefaultUserSetSelector; </div><div class="line">        </div><div class="line">        <span class="comment">// Remember the current default user set selector so we can restore it later when cleaning up.</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a698a31367bd43c9f91badb1eb93d9dc4">UserSetDefault</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#aecafd04d36b4c3a49a79b1368e102db5">IsReadable</a>()) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">        {</div><div class="line">            oldDefaultUserSet = camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a698a31367bd43c9f91badb1eb93d9dc4">UserSetDefault</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a87e4652c9560a4f0e0cc4dd2b873c225">GetValue</a>();</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            oldDefaultUserSetSelector = camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af32a2c9034e32d47eb7e2f76019e5fcc">UserSetDefaultSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a87e4652c9560a4f0e0cc4dd2b873c225">GetValue</a>();</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Load default settings.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Loading default settings&quot;</span> &lt;&lt; endl;</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a598879d00d1032a2dd44937685e2e9ea">UserSetSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(UserSetSelector_Default);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af2c8f3022d331a717bf2c86e38d22f05">UserSetLoad</a>.<a class="code" href="struct_gen_api_1_1_i_command.html#a4e72b6ccf61c1f92a1334b9e59eb4fc6">Execute</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Set gain and exposure time values.</span></div><div class="line">        <span class="comment">// The camera won&#39;t let you set specific values when related auto functions are active.</span></div><div class="line">        <span class="comment">// So we need to disable the related auto functions before setting the values.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Turning off Gain Auto and Exposure Auto.&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>()) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">        {</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1f883de8d6017eae5bc8d19f871aeba9">GainAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>(GainAuto_Off);</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a2c7f23a23f4879e64d18faa092056c85">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a6637c7971441ed5a72ecd6700bf4613c">GetMin</a>());</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af7ab4c8ab5ef58b2cfaef08b339024ab">ExposureAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>(ExposureAuto_Off);</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a02c77f57069ed5d8bccfe7a3058fac15">ExposureTime</a>.<a class="code" href="struct_pylon_1_1_i_float_ex.html#a2c7f23a23f4879e64d18faa092056c85">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a02c77f57069ed5d8bccfe7a3058fac15">ExposureTime</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a6637c7971441ed5a72ecd6700bf4613c">GetMin</a>());</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a1f883de8d6017eae5bc8d19f871aeba9">GainAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>(GainAuto_Off);</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af7ab4c8ab5ef58b2cfaef08b339024ab">ExposureAuto</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#af11240528c4cd174f9b1e5e1964efc66">TrySetValue</a>(ExposureAuto_Off);</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac1bee09d856a2c3ae3fdf40c4876116e">ExposureTimeRaw</a>.<a class="code" href="struct_pylon_1_1_i_integer_ex.html#a0c5f895101665b61876aafadce10886c">SetValue</a>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac1bee09d856a2c3ae3fdf40c4876116e">ExposureTimeRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#ad8f655202a4323d1a9308d576d22cd57">GetMin</a>());</div><div class="line">        }</div><div class="line">        </div><div class="line">        <span class="comment">// Save to user set 1.</span></div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="comment">// ATTENTION:</span></div><div class="line">        <span class="comment">// This will overwrite all settings previously saved in user set 1.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Saving currently active settings to user set 1.&quot;</span> &lt;&lt; endl;</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a598879d00d1032a2dd44937685e2e9ea">UserSetSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(UserSetSelector_UserSet1);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa4d7806da9b413f8e53404e8834aaa66">UserSetSave</a>.<a class="code" href="struct_gen_api_1_1_i_command.html#a4e72b6ccf61c1f92a1334b9e59eb4fc6">Execute</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Show default settings.</span></div><div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Loading default settings.&quot;</span> &lt;&lt; endl;</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a598879d00d1032a2dd44937685e2e9ea">UserSetSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(UserSetSelector_Default);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af2c8f3022d331a717bf2c86e38d22f05">UserSetLoad</a>.<a class="code" href="struct_gen_api_1_1_i_command.html#a4e72b6ccf61c1f92a1334b9e59eb4fc6">Execute</a>();</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Default settings&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;================&quot;</span> &lt;&lt; endl;</div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#aecafd04d36b4c3a49a79b1368e102db5">IsReadable</a>()) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">        {</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gain          : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Exposure time : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a02c77f57069ed5d8bccfe7a3058fac15">ExposureTime</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; endl;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gain          : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Exposure time : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac1bee09d856a2c3ae3fdf40c4876116e">ExposureTimeRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Show user set 1 settings.</span></div><div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Loading user set 1 settings.&quot;</span> &lt;&lt; endl;</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a598879d00d1032a2dd44937685e2e9ea">UserSetSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(UserSetSelector_UserSet1);</div><div class="line">        camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af2c8f3022d331a717bf2c86e38d22f05">UserSetLoad</a>.<a class="code" href="struct_gen_api_1_1_i_command.html#a4e72b6ccf61c1f92a1334b9e59eb4fc6">Execute</a>();</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;User set 1 settings&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;===================&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span>(camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#aecafd04d36b4c3a49a79b1368e102db5">IsReadable</a>()) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">        {</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gain          : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ad3cab166a343b4928d5b01497e79ccc3">Gain</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Exposure time : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a02c77f57069ed5d8bccfe7a3058fac15">ExposureTime</a>.<a class="code" href="struct_gen_api_1_1_i_float.html#a7534b9de503bbbdcbea111f9acef08d2">GetValue</a>() &lt;&lt; endl;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> </div><div class="line">        {</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gain          : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac20a286fc82b883cf97fd0f5580c9363">GainRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Exposure time : &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#ac1bee09d856a2c3ae3fdf40c4876116e">ExposureTimeRaw</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>() &lt;&lt; endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Set user set 1 as default user set:</span></div><div class="line">        <span class="comment">// When the camera wakes up it will be configured</span></div><div class="line">        <span class="comment">// with the settings from user set 1.</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a698a31367bd43c9f91badb1eb93d9dc4">UserSetDefault</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>()) <span class="comment">// Cameras based on SFNC 2.0 or later, e.g., USB cameras</span></div><div class="line">        {</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a698a31367bd43c9f91badb1eb93d9dc4">UserSetDefault</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(UserSetDefault_UserSet1);</div><div class="line"></div><div class="line">            <span class="comment">// Restore the default user set selector.</span></div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#a698a31367bd43c9f91badb1eb93d9dc4">UserSetDefault</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(oldDefaultUserSet);</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Set user set 1 as default user set:</span></div><div class="line">            <span class="comment">// When the camera wakes up it will be configured</span></div><div class="line">            <span class="comment">// with the settings from user set 1.</span></div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af32a2c9034e32d47eb7e2f76019e5fcc">UserSetDefaultSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(UserSetDefaultSelector_UserSet1);</div><div class="line"></div><div class="line">            <span class="comment">// Restore the default user set selector.</span></div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af32a2c9034e32d47eb7e2f76019e5fcc">UserSetDefaultSelector</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>(oldDefaultUserSetSelector);</div><div class="line">        }</div><div class="line">        <span class="comment">// Close the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#aa0888df5faf71045686ebcaf65ab4dda">Close</a>();</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Utility_GrabVideo"></a>
Utility_GrabVideo</h1>
<p>This sample is part of the pylon sample solution that can be found under &lt;SDK ROOT&gt;\Development\Samples\C++.</p>
<div class="fragment"><div class="line"><span class="comment">// Utility_GrabVideo.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample illustrates how to create a video file in MP4 format.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line"><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using GenApi objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_gen_api.html">GenApi</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="comment">// The maximum number of images to be grabbed.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 100;</div><div class="line"><span class="comment">// When this amount of image data has been written, the grabbing is stopped.</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> int64_t c_maxImageDataBytesThreshold = 50 * 1024 * 1024;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Check if CVideoWriter is supported and all DLLs are available.</span></div><div class="line">        <span class="keywordflow">if</span>(! <a class="code" href="class_pylon_1_1_c_video_writer.html#ab91adc49950625e5b358907dcadf225c">CVideoWriter::IsSupported</a>())</div><div class="line">        {</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;VideoWriter is not supported at the moment. Please install the pylon Supplementary Package for MPEG-4 which is available on the Basler website.&quot;</span> &lt;&lt; endl;</div><div class="line">            <span class="comment">// Releases all pylon resources. </span></div><div class="line">            <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();</div><div class="line">            <span class="comment">// Return with error code 1.</span></div><div class="line">            <span class="keywordflow">return</span> 1;</div><div class="line">        }</div><div class="line">        </div><div class="line">        <span class="comment">// Create a video writer object.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_video_writer.html">CVideoWriter</a> videoWriter;</div><div class="line"></div><div class="line">        <span class="comment">// The frame rate used for playing the video (playback frame rate).</span></div><div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> cFramesPerSecond = 20;</div><div class="line">        <span class="comment">// The quality used for compressing the video.</span></div><div class="line">        <span class="keyword">const</span> uint32_t cQuality = 90;</div><div class="line"></div><div class="line">        <span class="comment">// Create an instant camera object with the first camera device found.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">        <span class="comment">// Print the model name of the camera.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a958720228a24033bac2d536010e493c3">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Get the required camera settings.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_integer_parameter.html">CIntegerParameter</a> width( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3227195969200a52200364bf31e9c586">GetNodeMap</a>(), <span class="stringliteral">&quot;Width&quot;</span>);</div><div class="line">        <a class="code" href="class_pylon_1_1_c_integer_parameter.html">CIntegerParameter</a> height( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3227195969200a52200364bf31e9c586">GetNodeMap</a>(), <span class="stringliteral">&quot;Height&quot;</span>);</div><div class="line">        <a class="code" href="class_pylon_1_1_c_enum_parameter.html">CEnumParameter</a> pixelFormat( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3227195969200a52200364bf31e9c586">GetNodeMap</a>(), <span class="stringliteral">&quot;PixelFormat&quot;</span>);</div><div class="line"></div><div class="line">        <span class="comment">// Optional: Depending on your camera or computer, you may not be able to save</span></div><div class="line">        <span class="comment">// a video without losing frames. Therefore, we limit the resolution:</span></div><div class="line">        width.<a class="code" href="class_pylon_1_1_c_enum_parameter.html#a91551053a695b38b1b729833a5ac4855">SetValue</a>( 640, <a class="code" href="namespace_pylon.html#a5e8cf9011e40ab21159d079b6e02f670a8619a2f0237658eed88d9a9d0322e589">IntegerValueCorrection_Nearest</a> );</div><div class="line">        height.SetValue( 480, <a class="code" href="namespace_pylon.html#a5e8cf9011e40ab21159d079b6e02f670a8619a2f0237658eed88d9a9d0322e589">IntegerValueCorrection_Nearest</a> );</div><div class="line"></div><div class="line">        <span class="comment">// Map the pixelType</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_pixel_type_mapper.html">CPixelTypeMapper</a> pixelTypeMapper(&amp;pixelFormat);</div><div class="line">        <a class="code" href="group___pylon___image_handling_support.html#ga159b4bb49b4973a30bc8b39a4fcf3067">EPixelType</a> pixelType = pixelTypeMapper.GetPylonPixelTypeFromNodeValue(pixelFormat.GetIntValue());</div><div class="line"></div><div class="line">        <span class="comment">// Set parameters before opening the video writer.</span></div><div class="line">        videoWriter.<a class="code" href="class_pylon_1_1_c_video_writer.html#a55373e5c090d9582ee3aace64f1ae791">SetParameter</a>(</div><div class="line">            (uint32_t) width.GetValue(),</div><div class="line">            (uint32_t) height.GetValue(),</div><div class="line">            pixelType, </div><div class="line">            cFramesPerSecond,</div><div class="line">            cQuality );</div><div class="line"></div><div class="line">        <span class="comment">// Open the video writer.</span></div><div class="line">        videoWriter.<a class="code" href="class_pylon_1_1_c_video_writer.html#a4d4dfdfa3235d03d7ba3d574047009ed">Open</a>( <span class="stringliteral">&quot;_TestVideo.mp4&quot;</span> );</div><div class="line"></div><div class="line">        <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div><div class="line">        <span class="comment">// The camera device is parameterized with a default configuration which</span></div><div class="line">        <span class="comment">// sets up free running continuous acquisition.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( c_countOfImagesToGrab, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga56a922b1bd37848234153b9e12f7fecbaa3813ff38f030a6a115b2b847958e07e">GrabStrategy_LatestImages</a>);</div><div class="line"></div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Please wait. Images are being grabbed.&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div><div class="line"></div><div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div><div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div><div class="line">        <span class="keywordflow">while</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a1d2155d0c74753808af267c34291858c">IsGrabbing</a>())</div><div class="line">        {</div><div class="line">            <span class="comment">// Wait for an image and then retrieve it. A timeout of 5000 ms is used.</span></div><div class="line">            camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a78f3b07a3e5c7a64530645ecae49b02e">RetrieveResult</a>( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div><div class="line"></div><div class="line">            <span class="comment">// Access the image data.</span></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;SizeX: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a26338b92c78e4217325de426842df600">GetWidth</a>() &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;SizeY: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a6ec284bd2d65d6bd899d444639317709">GetHeight</a>() &lt;&lt; endl;</div><div class="line">            <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0ed8d8548b5e4da67167d388fb85e0b5">GetBuffer</a>();</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">            <span class="comment">// Display the grabbed image.</span></div><div class="line">            Pylon::DisplayImage(1, ptrGrabResult);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">            <span class="comment">// If required, the grabbed image is converted to the correct format and is then added to the video file.</span></div><div class="line">            <span class="comment">// If the orientation of the image does not mach the orientation required for video compression, the</span></div><div class="line">            <span class="comment">// image will be flipped automatically to ImageOrientation_TopDown, unless the input pixel type is Yuv420p.</span></div><div class="line">            videoWriter.<a class="code" href="class_pylon_1_1_c_video_writer.html#ad4a08fa80bd6431452a2e0c18d5a268f">Add</a>( ptrGrabResult);</div><div class="line"></div><div class="line">            <span class="comment">// If images are skipped, writing video frames takes too much processing time.</span></div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Images Skipped = &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#af1f3245395d808e6f17664ceba0973bb">GetNumberOfSkippedImages</a>() &lt;&lt; boolalpha</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;; Image has been converted = &quot;</span> &lt;&lt; !videoWriter.<a class="code" href="class_pylon_1_1_c_video_writer.html#a50383c9178f9ecfc99dba309285a7c74">CanAddWithoutConversion</a>( ptrGrabResult)</div><div class="line">                &lt;&lt; std::endl;</div><div class="line"></div><div class="line">            <span class="comment">// Check whether the image data size limit has been reached to avoid the video file becoming too large.</span></div><div class="line">            <span class="keywordflow">if</span> (c_maxImageDataBytesThreshold &lt; videoWriter.<a class="code" href="class_basler___video_writer_params_1_1_c_video_writer_params___params__v6__1__0.html#a169e5e596042d159a1cf56717afdfd88">BytesWritten</a>.<a class="code" href="struct_gen_api_1_1_i_integer.html#abf3a753f0d439f01786704c59b628b6f">GetValue</a>())</div><div class="line">            {</div><div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;The image data size limit has been reached.&quot;</span> &lt;&lt; endl;</div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Utility_Image"></a>
Utility_Image</h1>
<div class="fragment"><div class="line"><span class="comment">// Utility_Image.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample illustrates how to use the pylon image classes CPylonImage and CPylonBitmapImage.</span></div><div class="line"><span class="comment">    CPylonImage supports handling image buffers of the various existing pixel types.</span></div><div class="line"><span class="comment">    CPylonBitmapImage can be used to easily create Windows bitmaps for displaying images.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    Additionally, there are two image class related interfaces in pylon IImage and IReusableImage.</span></div><div class="line"><span class="comment">    IImage can be used to access image properties and image buffer.</span></div><div class="line"><span class="comment">    The IReusableImage interface extends the IImage interface to be able to reuse the</span></div><div class="line"><span class="comment">    resources of the image to represent a different image.</span></div><div class="line"><span class="comment">    Both CPylonImage and CPylonBitmapImage implement the IReusableImage interface.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    The pylon grab result class CGrabResultPtr provides a cast operator to the IImage</span></div><div class="line"><span class="comment">    interface. This eases the use of the grab result together with the image classes.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iomanip&gt;</span></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line"><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;../include/SampleImageCreator.h&quot;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using GenApi objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_gen_api.html">GenApi</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// This is a helper function for printing image properties.</span></div><div class="line"><span class="keywordtype">void</span> PrintImageProperties( <a class="code" href="struct_pylon_1_1_i_image.html">IImage</a>&amp; image)</div><div class="line">{</div><div class="line">    cout</div><div class="line">        &lt;&lt; <span class="stringliteral">&quot;Buffer: &quot;</span> &lt;&lt; image.<a class="code" href="struct_pylon_1_1_i_image.html#acaa38a434f7af02fa66152b1896a70e1">GetBuffer</a>()</div><div class="line">        &lt;&lt; <span class="stringliteral">&quot; Image Size: &quot;</span> &lt;&lt; image.<a class="code" href="struct_pylon_1_1_i_image.html#adc15c54596375660034b4c1343964ee1">GetImageSize</a>()</div><div class="line">        &lt;&lt; <span class="stringliteral">&quot; Width: &quot;</span> &lt;&lt; image.<a class="code" href="struct_pylon_1_1_i_image.html#a22fbbcca00d1a61937c993c08f39fe2f">GetWidth</a>()</div><div class="line">        &lt;&lt; <span class="stringliteral">&quot; Height: &quot;</span> &lt;&lt; image.<a class="code" href="struct_pylon_1_1_i_image.html#ac9be055f4fc62ab9f77d5c7e46ddcfa5">GetHeight</a>()</div><div class="line">        &lt;&lt; <span class="stringliteral">&quot; Unique: &quot;</span> &lt;&lt; image.<a class="code" href="struct_pylon_1_1_i_image.html#a62ecccd30065657a1ae1f1eb237d4122">IsUnique</a>()</div><div class="line">        &lt;&lt; endl;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// This is a helper function for showing an image on the screen if Windows is used,  </span></div><div class="line"><span class="comment">// and for printing the first bytes of the image.</span></div><div class="line"><span class="keywordtype">void</span> ShowImage( <a class="code" href="struct_pylon_1_1_i_image.html">IImage</a>&amp; image, <span class="keyword">const</span> <span class="keywordtype">char</span>* message = NULL)</div><div class="line">{</div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">    <span class="comment">// Display the image.</span></div><div class="line">    Pylon::DisplayImage(1, image);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> ( message)</div><div class="line">    {</div><div class="line">        cout &lt;&lt; endl &lt;&lt; message &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// store state of cout </span></div><div class="line">    std::ios state(NULL);</div><div class="line">    state.copyfmt(cout);</div><div class="line"></div><div class="line">    <span class="keyword">const</span> uint8_t* pBytes = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(image.<a class="code" href="struct_pylon_1_1_i_image.html#acaa38a434f7af02fa66152b1896a70e1">GetBuffer</a>());</div><div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;First six bytes of the image: &quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; 6; ++i)</div><div class="line">    {</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;0x&quot;</span> &lt;&lt; hex &lt;&lt; setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; setw(2) &lt;&lt; unsigned(pBytes[i]) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line">    }</div><div class="line">    cout &lt;&lt; endl;</div><div class="line"></div><div class="line">    <span class="comment">// restore state of cout </span></div><div class="line">    cout.copyfmt(state);</div><div class="line"></div><div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;Press enter to continue.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Define some constants.</span></div><div class="line">        <span class="keyword">const</span> uint32_t cWidth = 640;</div><div class="line">        <span class="keyword">const</span> uint32_t cHeight = 480;</div><div class="line">        <span class="keyword">const</span> uint32_t cPadding = 10;</div><div class="line">        <span class="keyword">const</span> uint8_t cSampleGrayValue = 160;</div><div class="line"></div><div class="line">        <span class="comment">// The CPylonImage basics.</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Create a pylon image with the given properties.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageMono8( <a class="code" href="class_pylon_1_1_c_pylon_image.html#aa7c78d9b78895cc86291fd8c7e4d0e6e">CPylonImage::Create</a>( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight));</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The properties of the newly created image.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( imageMono8);</div><div class="line"></div><div class="line">            <span class="comment">// The image class allocates a buffer large enough to hold the image.</span></div><div class="line">            <span class="comment">// We can use it for example to fill it with a test pattern.</span></div><div class="line">            uint32_t width = imageMono8.GetWidth();</div><div class="line">            uint32_t height = imageMono8.GetHeight();</div><div class="line">            uint8_t* buffer = <span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>( imageMono8.GetBuffer());</div><div class="line">            uint8_t* p = buffer;</div><div class="line">            <span class="keywordflow">for</span> (uint32_t y = 0; y &lt; height; ++y)</div><div class="line">            {</div><div class="line">                <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; width; ++x, ++p)</div><div class="line">                {</div><div class="line">                    *p = (uint8_t)((x + y) % 256);</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Show the image on the screen in a separate window.</span></div><div class="line">            ShowImage( imageMono8, <span class="stringliteral">&quot;Created image.&quot;</span>);</div><div class="line"></div><div class="line">            <span class="comment">// If the pylon image object is copied or assigned then no image data copy is made.</span></div><div class="line">            <span class="comment">// All objects reference the same buffer now. The image properties have been copied though.</span></div><div class="line">            <span class="comment">// The IsUnique() method can be used to check whether a buffer is</span></div><div class="line">            <span class="comment">// referenced by multiple pylon image objects.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> sameImageMono8A( imageMono8);</div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> sameImageMono8B = imageMono8;</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;After assignment multiple images reference the same data.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( imageMono8);</div><div class="line">            PrintImageProperties( sameImageMono8A);</div><div class="line">            PrintImageProperties( sameImageMono8B);</div><div class="line"></div><div class="line">            <span class="comment">// The CopyImage method can be used to create a full copy of an image.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> copiedImage;</div><div class="line">            copiedImage.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a00a4cf91476cc2ea8046e7cd1166b916">CopyImage</a>( imageMono8);</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of a full copy of the test image.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( copiedImage);</div><div class="line"></div><div class="line">            <span class="comment">// The Release() method can be used to release any data.</span></div><div class="line">            <span class="comment">// The object sameImageMono8B is now empty.</span></div><div class="line">            <span class="comment">// No buffer is allocated.</span></div><div class="line">            sameImageMono8B.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7e80bb3083a3a62aa6e522b7e1cda4d9">Release</a>();</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Assigned to image object after releasing the image data.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( sameImageMono8B);</div><div class="line"></div><div class="line">            <span class="comment">// A newly created image object is empty.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> reusedImage;</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;A newly created image object.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( reusedImage);</div><div class="line"></div><div class="line">            <span class="comment">// The Reset() method can be used to reset the image properties</span></div><div class="line">            <span class="comment">// and allocate a new buffer if required.</span></div><div class="line">            reusedImage.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7ebc34f672632902d160250baad044c9">Reset</a>( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;After resetting the image properties. A new Buffer is allocated.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( reusedImage);</div><div class="line"></div><div class="line">            <span class="comment">// Reset() never decreases the allocated buffer size if the</span></div><div class="line">            <span class="comment">// new image fits into the current buffer.</span></div><div class="line">            <span class="comment">// The new image is smaller and therefore the buffer is reused.</span></div><div class="line">            reusedImage.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7ebc34f672632902d160250baad044c9">Reset</a>( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth / 2, cHeight);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;After resetting the image properties to a smaller image. The buffer is reused.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( reusedImage);</div><div class="line"></div><div class="line">            <span class="comment">// A new buffer is allocated because the old buffer is</span></div><div class="line">            <span class="comment">// too small for the new image.</span></div><div class="line">            reusedImage.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7ebc34f672632902d160250baad044c9">Reset</a>( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth * 2, cHeight);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;After resetting the image properties to a larger image.&quot;</span> &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;A new Buffer is allocated.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( reusedImage);</div><div class="line"></div><div class="line">            <span class="comment">// The imageMono8 and sameImageMono8A objects still reference the</span></div><div class="line">            <span class="comment">// same image. Because of this the buffer referenced by sameImageMono8A</span></div><div class="line">            <span class="comment">// can&#39;t be reused. A new buffer is allocated.</span></div><div class="line">            sameImageMono8A.Reset( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight);</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;After resetting the image properties while the image data is referenced by another image. A new Buffer is allocated.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( sameImageMono8A);</div><div class="line"></div><div class="line">            <span class="comment">// For advanced use cases additional line padding and the image orientation can be defined, too.</span></div><div class="line">            sameImageMono8A.Reset( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight, cPadding, <a class="code" href="group___pylon___image_handling_support.html#gga710fdd7cf7f7516c56b90cbdf0085f70aa3a5473ebd7fe7ec97418120bdac6e95">ImageOrientation_TopDown</a>);</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;After resetting the image properties with additional padding.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( sameImageMono8A);</div><div class="line"></div><div class="line">            <span class="comment">// The image objects are destroyed here and the buffers are deleted.</span></div><div class="line">            <span class="comment">// An allocated image buffer is deleted if it is not referenced</span></div><div class="line">            <span class="comment">// anymore by a pylon image object.</span></div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// The CPylonImage and user buffers.</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Create pylon images.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageA;</div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageB;</div><div class="line"></div><div class="line">            <span class="comment">// Create a buffer for demonstration purposes. This could be a buffer of a 3rd party</span></div><div class="line">            <span class="comment">// image library.</span></div><div class="line">            <span class="comment">// This example uses a C++ library vector class for buffer allocation for automatic</span></div><div class="line">            <span class="comment">// deletion of the buffer.</span></div><div class="line">            vector&lt;uint8_t&gt; buffer( (cWidth + cPadding) * cHeight, cSampleGrayValue);</div><div class="line">            <span class="keywordtype">size_t</span> bufferSize = buffer.size() * <span class="keyword">sizeof</span>( buffer[ 0 ]);</div><div class="line"></div><div class="line">            <span class="comment">// Initializes the image object with the user buffer. Now the image object could be used to</span></div><div class="line">            <span class="comment">// interface with other pylon objects more easily, e.g. the image format converter.</span></div><div class="line">            <span class="comment">// The user buffer must not be deleted while it is attached to the pylon image object.</span></div><div class="line">            imageA.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a67baf1ca3232cbfb75e20a4238fca49a">AttachUserBuffer</a>( &amp;buffer[ 0 ], bufferSize, <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight, cPadding);</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of an image with an attached user buffer.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( imageA);</div><div class="line"></div><div class="line">            <span class="comment">// The image can be assigned new properties as long as the image fits into the user buffer.</span></div><div class="line">            imageA.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7ebc34f672632902d160250baad044c9">Reset</a>( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth / 2, cHeight);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;After resetting the image properties to a smaller image. The buffer is reused.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( imageA);</div><div class="line"></div><div class="line">            <span class="comment">// This causes an exception because the attached user buffer is too small for the image.</span></div><div class="line">            <span class="keywordflow">try</span></div><div class="line">            {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Try calling the Reset method when the user buffer is too small for the new image.&quot;</span> &lt;&lt; endl;</div><div class="line">                imageA.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7ebc34f672632902d160250baad044c9">Reset</a>( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth * 2, cHeight);</div><div class="line">            }</div><div class="line">            <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">            {</div><div class="line">                cerr &lt;&lt; <span class="stringliteral">&quot;Expected exception: &quot;</span> &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// The CopyImage method can be used to create a full copy of the provided image.</span></div><div class="line">            imageB.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a00a4cf91476cc2ea8046e7cd1166b916">CopyImage</a>( &amp;buffer[ 0 ], bufferSize, <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight, cPadding);</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of an image after a full copy of a user buffer.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( imageB);</div><div class="line"></div><div class="line">            <span class="comment">// The image objects are destroyed. The user must take care of the deletion of the user buffer.</span></div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// The CPylonImage and grab results.</span></div><div class="line">        {</div><div class="line">            <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div><div class="line"></div><div class="line">            <span class="comment">// Try to get a grab result.</span></div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Waiting for an image to be grabbed.&quot;</span> &lt;&lt; endl;</div><div class="line">            <span class="keywordflow">try</span></div><div class="line">            {</div><div class="line">                <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> Camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line">                Camera.GrabOne( 1000, ptrGrabResult);</div><div class="line">            }</div><div class="line">            <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">            {</div><div class="line"></div><div class="line">                cerr &lt;&lt; <span class="stringliteral">&quot;Could not grab an image: &quot;</span> &lt;&lt; endl</div><div class="line">                     &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="keywordflow">if</span> ( ptrGrabResult &amp;&amp; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>())</div><div class="line">            {</div><div class="line">                <span class="comment">// Create a pylon image.</span></div><div class="line">                <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> image;</div><div class="line"></div><div class="line">                <span class="comment">// A pylon grab result class CGrabResultPtr provides a cast operator to IImage.</span></div><div class="line">                <span class="comment">// That&#39;s why it can be used like an image, e.g. to print its properties or</span></div><div class="line">                <span class="comment">// to show it on the screen.</span></div><div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of the grabbed image.&quot;</span> &lt;&lt; endl;</div><div class="line">                PrintImageProperties( ptrGrabResult);</div><div class="line">                ShowImage( ptrGrabResult, <span class="stringliteral">&quot;Grabbed image.&quot;</span>);</div><div class="line"></div><div class="line">                <span class="comment">// Initializes the image object with the buffer from the grab result.</span></div><div class="line">                <span class="comment">// This prevents the reuse of the buffer for grabbing as long as it is</span></div><div class="line">                <span class="comment">// not released.</span></div><div class="line">                <span class="comment">// Please note that this is not relevant for this example because the</span></div><div class="line">                <span class="comment">// camera object has been destroyed already.</span></div><div class="line">                image.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a9ddc2a45eeaa8b2e7b3b9837f1a30c5b">AttachGrabResultBuffer</a>( ptrGrabResult);</div><div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of an image with an attached grab result.&quot;</span> &lt;&lt; endl;</div><div class="line">                PrintImageProperties( image);</div><div class="line"></div><div class="line">                <span class="comment">// Get the grab result image properties for later use.</span></div><div class="line">                <a class="code" href="group___pylon___image_handling_support.html#ga159b4bb49b4973a30bc8b39a4fcf3067">EPixelType</a> pixelType = ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#abe43d67716927206836833a16490688f">GetPixelType</a>();</div><div class="line">                uint32_t width = ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a26338b92c78e4217325de426842df600">GetWidth</a>();</div><div class="line">                uint32_t height = ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a6ec284bd2d65d6bd899d444639317709">GetHeight</a>();</div><div class="line"></div><div class="line">                <span class="comment">// Now the grab result can be released. The grab result buffer is now</span></div><div class="line">                <span class="comment">// only held by the pylon image.</span></div><div class="line">                ptrGrabResult.<a class="code" href="class_pylon_1_1_c_grab_result_ptr.html#a05a3e58e7b5370ce9ffa6500094124aa">Release</a>();</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;After the grab result has been released.&quot;</span> &lt;&lt; endl;</div><div class="line">                PrintImageProperties( image);</div><div class="line"></div><div class="line">                <span class="comment">// If a grab result is referenced then always a new buffer is allocated on reset.</span></div><div class="line">                image.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7ebc34f672632902d160250baad044c9">Reset</a>( pixelType, width / 2, height);</div><div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;After resetting the image properties while a grab result is referenced. A new Buffer is allocated.&quot;</span> &lt;&lt; endl;</div><div class="line">                PrintImageProperties( image);</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Loading and saving.</span></div><div class="line">        <span class="comment">// Please note that this is only a brief overview. Please look at the</span></div><div class="line">        <span class="comment">// Utility_ImageLoadAndSave sample for more information.</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Create pylon images.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageSaved;</div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageLoaded;</div><div class="line"></div><div class="line">            <span class="comment">// Create a sample image.</span></div><div class="line">            imageSaved = SampleImageCreator::CreateJuliaFractal( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aed40cb79221f2ecf6af9170d10cb17bc">PixelType_RGB8packed</a>, cWidth, cHeight);</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">            <span class="comment">// Save the image. The image is automatically converted to</span></div><div class="line">            <span class="comment">// a format that can be saved if needed.</span></div><div class="line">            imageSaved.<a class="code" href="class_pylon_1_1_c_pylon_image_base.html#ae1ea36e435611e22913d822dd31adf26">Save</a>( ImageFileFormat_Bmp, <span class="stringliteral">&quot;JuliaFractal.bmp&quot;</span>);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">            <span class="comment">// Load the image.</span></div><div class="line">            imageLoaded.<a class="code" href="class_pylon_1_1_c_pylon_image_base.html#a4c95aae72ac9ff4bf54dc8d5be8e7daf">Load</a>( <span class="stringliteral">&quot;JuliaFractal.bmp&quot;</span>);</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of the loaded sample image.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( imageLoaded);</div><div class="line">            ShowImage( imageLoaded, <span class="stringliteral">&quot;The loaded sample image is shown.&quot;</span>);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// The GetAOI method.</span></div><div class="line">        <span class="comment">// This method can be used to create partial images derived from an image, e.g. thumbnail images for displaying</span></div><div class="line">        <span class="comment">// defects.</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Create pylon images.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> sampleImage;</div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> aoi;</div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> aoiFromAoi;</div><div class="line"></div><div class="line">            <span class="comment">// Create a sample image.</span></div><div class="line">            sampleImage = SampleImageCreator::CreateJuliaFractal( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aed40cb79221f2ecf6af9170d10cb17bc">PixelType_RGB8packed</a>, cWidth, cHeight);</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of the sample image.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( sampleImage);</div><div class="line"></div><div class="line">            <span class="comment">// Compute the coordinates of the area of interest.</span></div><div class="line">            uint32_t topLeftX = cWidth / 4;</div><div class="line">            uint32_t topLeftY = cHeight /2;</div><div class="line">            uint32_t width = cWidth / 4;</div><div class="line">            uint32_t height = cHeight / 4;</div><div class="line"></div><div class="line">            <span class="comment">// Create a new pylon image containing the AOI.</span></div><div class="line">            <span class="comment">// No image data is copied. The same image buffer is referenced.</span></div><div class="line">            <span class="comment">// The buffer start is now the first pixel of the and the</span></div><div class="line">            <span class="comment">// padding property of the pylon image object is used to skip over the</span></div><div class="line">            <span class="comment">// part of a line outside of the AOI.</span></div><div class="line">            aoi = sampleImage.<a class="code" href="class_pylon_1_1_c_pylon_image.html#ad2feef6107750688a12f3c396c21ca7d">GetAoi</a>( topLeftX, topLeftY, width, height);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;After creating an AOI.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( aoi);</div><div class="line">            ShowImage( aoi, <span class="stringliteral">&quot;AOI of the sample image.&quot;</span>);</div><div class="line"></div><div class="line">            <span class="comment">// CopyImage( const IImage&amp; image, size_t newPaddingX) can be used to create a</span></div><div class="line">            <span class="comment">// full copy and to remove the additional padding.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> copiedAoi;</div><div class="line">            copiedAoi.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a00a4cf91476cc2ea8046e7cd1166b916">CopyImage</a>( aoi, 0);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The properties of a full copy of the AOI image.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( copiedAoi);</div><div class="line"></div><div class="line">            <span class="comment">// GetAOI can be applied again for the AOI image.</span></div><div class="line">            topLeftX = width / 4;</div><div class="line">            topLeftY = height / 4;</div><div class="line">            width = width / 2;</div><div class="line">            height = height / 2;</div><div class="line">            aoiFromAoi = aoi.<a class="code" href="class_pylon_1_1_c_pylon_image.html#ad2feef6107750688a12f3c396c21ca7d">GetAoi</a>( topLeftX, topLeftY, width, height);</div><div class="line"></div><div class="line">            <span class="comment">// An AOI image is still valid if the source image object has been destroyed</span></div><div class="line">            <span class="comment">// or the image data has been released.</span></div><div class="line">            aoi.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7e80bb3083a3a62aa6e522b7e1cda4d9">Release</a>();</div><div class="line">            sampleImage.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7e80bb3083a3a62aa6e522b7e1cda4d9">Release</a>();</div><div class="line"></div><div class="line">            <span class="comment">// Show the image.</span></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;After creating an AOI of an AOI.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( aoiFromAoi);</div><div class="line">            ShowImage( aoiFromAoi, <span class="stringliteral">&quot;AOI of the AOI of the sample image.&quot;</span>);</div><div class="line"></div><div class="line">            <span class="comment">// The AOI image still references the buffer of the source image.</span></div><div class="line">            <span class="comment">// It is the only object that references this buffer.</span></div><div class="line">            <span class="comment">// That&#39;s why the full buffer can be reused if needed.</span></div><div class="line">            aoiFromAoi.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7ebc34f672632902d160250baad044c9">Reset</a>( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;After reusing the buffer of the sample image.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( aoiFromAoi);</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// The GetPlane method.</span></div><div class="line">        <span class="comment">// This method can be used to work with the planes of</span></div><div class="line">        <span class="comment">// an planar image.</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Create an image object.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageRGB8planar;</div><div class="line"></div><div class="line">            <span class="comment">// Create a sample image.</span></div><div class="line">            imageRGB8planar = SampleImageCreator::CreateMandelbrotFractal( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ad6977d3d0a9dda6cd8dad71fd736ed5f">PixelType_RGB8planar</a>, cWidth, cHeight);</div><div class="line">            ShowImage( imageRGB8planar, <span class="stringliteral">&quot;Sample image.&quot;</span>);</div><div class="line"></div><div class="line">            <span class="comment">// Create images to access the planes of the planar image.</span></div><div class="line">            <span class="comment">// No image data is copied. The same image buffer is referenced.</span></div><div class="line">            <span class="comment">// The buffer start is the start of the plane and the pixel type</span></div><div class="line">            <span class="comment">// set to the corresponding pixel type of a plane.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> redPlane = imageRGB8planar.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a750744d96585230d5bcab162a71404c1">GetPlane</a>(0);</div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> greenPlane = imageRGB8planar.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a750744d96585230d5bcab162a71404c1">GetPlane</a>(1);</div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> bluePlane = imageRGB8planar.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a750744d96585230d5bcab162a71404c1">GetPlane</a>(2);</div><div class="line"></div><div class="line">            <span class="comment">// Show the planes.</span></div><div class="line">            ShowImage( redPlane, <span class="stringliteral">&quot;Red plane of the sample image.&quot;</span>);</div><div class="line">            ShowImage( greenPlane, <span class="stringliteral">&quot;Green plane of the sample image.&quot;</span>);</div><div class="line">            ShowImage( bluePlane, <span class="stringliteral">&quot;Blue plane of the sample image.&quot;</span>);</div><div class="line"></div><div class="line">            <span class="comment">// Now a plane can be modified. Here the red plane is set to zero.</span></div><div class="line">            memset( redPlane.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a5414d746b31c5b9b79d6fb61849f77ea">GetBuffer</a>(), 0, greenPlane.<a class="code" href="class_pylon_1_1_c_pylon_image.html#af7288552affcf345c35be5cf5a507d50">GetImageSize</a>());</div><div class="line"></div><div class="line">            <span class="comment">// Show the image.</span></div><div class="line">            ShowImage( imageRGB8planar, <span class="stringliteral">&quot;Sample image with red set to zero.&quot;</span>);</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// The CPylonBitmapImage class.</span></div><div class="line">        <span class="comment">// This class can be used to easily create Windows bitmaps, e.g. for displaying.</span></div><div class="line">        {</div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">            <span class="comment">// Create a bitmap image</span></div><div class="line">            CPylonBitmapImage bitmapImage;</div><div class="line"></div><div class="line">            <span class="comment">// Create a sample image.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> sampleImage;</div><div class="line">            sampleImage = SampleImageCreator::CreateJuliaFractal( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aed40cb79221f2ecf6af9170d10cb17bc">PixelType_RGB8packed</a>, cWidth, cHeight);</div><div class="line"></div><div class="line">            <span class="comment">// The bitmap image class automatically converts input images to the</span></div><div class="line">            <span class="comment">// corresponding bitmap format.</span></div><div class="line">            bitmapImage.CopyImage( sampleImage);</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of the bitmap image.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( bitmapImage);</div><div class="line">            ShowImage( bitmapImage, <span class="stringliteral">&quot;The sample image is shown.&quot;</span>);</div><div class="line"></div><div class="line">            <span class="comment">// If the pylon bitmap image object is copied or assigned then no image data copy is made.</span></div><div class="line">            <span class="comment">// All objects reference the same Windows bitmap now.</span></div><div class="line">            <span class="comment">// The IsUnique() method can be used to check whether the Windows bitmap is</span></div><div class="line">            <span class="comment">// referenced by multiple pylon image objects.</span></div><div class="line">            CPylonBitmapImage sameBitmapImageA( bitmapImage);</div><div class="line">            CPylonBitmapImage sameBitmapImageB = bitmapImage;</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;After assignment multiple images reference the same data.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( bitmapImage);</div><div class="line">            PrintImageProperties( sameBitmapImageA);</div><div class="line">            PrintImageProperties( sameBitmapImageB);</div><div class="line"></div><div class="line">            <span class="comment">// The Release() method can be used to release any data.</span></div><div class="line">            <span class="comment">// The object sameBitmapImageB is now empty.</span></div><div class="line">            <span class="comment">// No bitmap is allocated.</span></div><div class="line">            sameBitmapImageB.Release();</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Assigned to image object after releasing the image data.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( sameBitmapImageB);</div><div class="line"></div><div class="line">            <span class="comment">// The image format converter can be used to have more control over the conversion.</span></div><div class="line">            <span class="comment">// In this example a monochrome version of a sample image is created.</span></div><div class="line">            <span class="comment">// See the Utility_ImageFormatConverter sample for more details.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_image_format_converter.html">CImageFormatConverter</a> converter;</div><div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a3e2947f7f3b7d20c5fb351e2a3953f5a">OutputPixelFormat</a> = <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>;</div><div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a1d4690d0b5b50581d229bd00794430b7">Convert</a>( bitmapImage, sampleImage);</div><div class="line"></div><div class="line">            <span class="comment">// Show the image.</span></div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of the converted bitmap image.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( bitmapImage);</div><div class="line">            ShowImage( bitmapImage, <span class="stringliteral">&quot;The to monochrome converted sample image is shown.&quot;</span>);</div><div class="line"></div><div class="line">            <span class="comment">// Reset can be used to reuse the underlying windows bitmap if</span></div><div class="line">            <span class="comment">// the new image properties are equal to the old ones.</span></div><div class="line">            <span class="comment">// No additional program logic is needed for reusing a bitmap</span></div><div class="line">            <span class="comment">// until new image properties are required.</span></div><div class="line">            bitmapImage.Reset( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight);</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of the reused bitmap image with equal properties.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( bitmapImage);</div><div class="line"></div><div class="line">            <span class="comment">// Now the new image properties are different. A new Windows</span></div><div class="line">            <span class="comment">// bitmap is created.</span></div><div class="line">            bitmapImage.Reset( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth / 2, cHeight);</div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of the newly allocated bitmap image with different properties.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( bitmapImage);</div><div class="line"></div><div class="line">            <span class="comment">// The bitmap image class provides a cast operator for HBitmap.</span></div><div class="line">            <span class="comment">// The cast operator can be used for instance to provide the handle to Windows API functions.</span></div><div class="line">            HBITMAP bitmap = bitmapImage;</div><div class="line"></div><div class="line">            <span class="comment">// The bitmap can also be detached to use it without the pylon image object.</span></div><div class="line">            bitmap = bitmapImage.Detach();</div><div class="line"></div><div class="line">            <span class="comment">// The pylon bitmap image is now empty.</span></div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The image object after detaching the image data.&quot;</span> &lt;&lt; endl;</div><div class="line">            PrintImageProperties( bitmapImage);</div><div class="line"></div><div class="line">            <span class="comment">// After detaching the bitmap must be deleted by the user.</span></div><div class="line">            ::DeleteObject( bitmap);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        }</div><div class="line"></div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Utility_ImageDecompressor"></a>
Utility_ImageDecompressor</h1>
<div class="fragment"><div class="line"><span class="comment">// Utility_ImageDecompressor.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample illustrates how to enable the Compression Beyond feature in Basler cameras and</span></div><div class="line"><span class="comment">    how to decompress images using the CImageDecompressor class.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iomanip&gt;</span></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line"><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="comment">// Include file to use pylon universal instant camera parameters.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_universal_instant_camera_8h.html">pylon/BaslerUniversalInstantCamera.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using GenApi objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_gen_api.html">GenApi</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon universal instant camera parameters.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_basler___universal_camera_params.html">Basler_UniversalCameraParams</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// This is a helper function for showing an image on the screen if Windows is used,  </span></div><div class="line"><span class="comment">// and for printing the first bytes of the image.</span></div><div class="line"><span class="keywordtype">void</span> ShowImage( <a class="code" href="struct_pylon_1_1_i_image.html">IImage</a>&amp; image, <span class="keyword">const</span> <span class="keywordtype">char</span>* message = NULL)</div><div class="line">{</div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">    <span class="comment">// Display the image.</span></div><div class="line">    Pylon::DisplayImage(1, image);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> ( message)</div><div class="line">    {</div><div class="line">        cout &lt;&lt; endl &lt;&lt; message &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Store state of cout.</span></div><div class="line">    std::ios state(NULL);</div><div class="line">    state.copyfmt(cout);</div><div class="line"></div><div class="line">    <span class="keyword">const</span> uint8_t* pBytes = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(image.<a class="code" href="struct_pylon_1_1_i_image.html#acaa38a434f7af02fa66152b1896a70e1">GetBuffer</a>());</div><div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;First six bytes of the image: &quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; 6; ++i)</div><div class="line">    {</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;0x&quot;</span> &lt;&lt; hex &lt;&lt; setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; setw(2) &lt;&lt; unsigned(pBytes[i]) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line">    }</div><div class="line">    cout &lt;&lt; endl;</div><div class="line"></div><div class="line">    <span class="comment">// Restore state of cout. </span></div><div class="line">    cout.copyfmt(state);</div><div class="line"></div><div class="line">    <span class="comment">// Wait for key.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to continue.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span> (cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Helper function for printing the data stored in the CompressionInfo_t structure.</span></div><div class="line"><span class="keywordtype">void</span> printCompressionInfo( <span class="keyword">const</span> <a class="code" href="struct_pylon_1_1_compression_info__t.html">CompressionInfo_t</a> &amp;info )</div><div class="line">{</div><div class="line">    <span class="keywordtype">string</span> status;</div><div class="line"></div><div class="line">    <span class="keywordflow">switch</span> (info.<a class="code" href="struct_pylon_1_1_compression_info__t.html#a501903833eb6f9c345d2c3348e058e9d">compressionStatus</a>)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="namespace_pylon.html#a387447e9e1a48407b27aa78b1b8b506ba39672260d5808ecd69987b6e64508b52">CompressionStatus_Ok</a>:</div><div class="line">            status = <span class="stringliteral">&quot;Ok&quot;</span>;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="namespace_pylon.html#a387447e9e1a48407b27aa78b1b8b506ba25cf353483aa6ae77e5cb2ef2f71a8e2">CompressionStatus_BufferOverflow</a>:</div><div class="line">            status = <span class="stringliteral">&quot;Buffer overflow&quot;</span>;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="namespace_pylon.html#a387447e9e1a48407b27aa78b1b8b506ba170a25ac2617e5f87710cdbedca7e84f">CompressionStatus_Error</a>:</div><div class="line">            status = <span class="stringliteral">&quot;Error&quot;</span>;</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Compression info:&quot;</span> &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;hasCompressedImage      :&quot;</span> &lt;&lt; (info.<a class="code" href="struct_pylon_1_1_compression_info__t.html#ad53642b11b321e1abdf9b7e52cf4f11f">hasCompressedImage</a> == <span class="keyword">true</span> ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>) &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;compressionStatus       :&quot;</span> &lt;&lt; status &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;lossy                   :&quot;</span> &lt;&lt; (info.<a class="code" href="struct_pylon_1_1_compression_info__t.html#af5ba22f443c71dd99c371c05b7379a48">lossy</a> == <span class="keyword">true</span> ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>) &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;width                   :&quot;</span> &lt;&lt; info.<a class="code" href="struct_pylon_1_1_compression_info__t.html#aceb181b967f0964a81fa41573fb1eb36">width</a> &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;height                  :&quot;</span> &lt;&lt; info.<a class="code" href="struct_pylon_1_1_compression_info__t.html#a35ebeb5c7671250ee6be406181cfdf1a">height</a> &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;pixelType               :&quot;</span> &lt;&lt; <a class="code" href="class_pylon_1_1_c_pixel_type_mapper.html#ae75ba561378e590a34c4d21ad886c1a0">CPixelTypeMapper::GetNameByPixelType</a>(info.<a class="code" href="struct_pylon_1_1_compression_info__t.html#a83077ff02ebaa134d3e68f06f8acd65b">pixelType</a>) &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;decompressedImageSize   :&quot;</span> &lt;&lt; info.<a class="code" href="struct_pylon_1_1_compression_info__t.html#abb5b1cb73e36f12d6afd0301c704505c">decompressedImageSize</a> &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;decompressedPayloadSize :&quot;</span> &lt;&lt; info.<a class="code" href="struct_pylon_1_1_compression_info__t.html#a439e594ab1e33ddda904a28e27c4cc0f">decompressedPayloadSize</a> &lt;&lt; endl;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create a target image.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> targetImage;</div><div class="line"></div><div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div><div class="line"></div><div class="line">        <span class="comment">// Create an instant camera object with the camera device found first.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_basler_universal_instant_camera.html">CBaslerUniversalInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice() );</div><div class="line"></div><div class="line">        <span class="comment">// Open the camera.</span></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a2259eb38eb56652d48cca092ecd95877">Open</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Print the model name of the camera.</span></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a958720228a24033bac2d536010e493c3">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        <span class="comment">// Fetch the nodemap.</span></div><div class="line">        <a class="code" href="struct_gen_api_1_1_i_node_map.html">INodeMap</a>&amp; nodemap = camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3227195969200a52200364bf31e9c586">GetNodeMap</a>();</div><div class="line"></div><div class="line">        <span class="comment">// Check if the camera supports compression.</span></div><div class="line">        <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af8f37b950680a2571d50ed0a05d695bc">ImageCompressionMode</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">        {</div><div class="line">            <span class="comment">// Remember the original compression mode.</span></div><div class="line">            <a class="code" href="class_gen_i_cam_1_1gcstring.html">String_t</a> oldCompressionMode = camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af8f37b950680a2571d50ed0a05d695bc">ImageCompressionMode</a>.<a class="code" href="struct_gen_api_1_1_i_value.html#aa4a55b401c2fefdac0a1d2971e772060">ToString</a>();</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Old compression mode: &quot;</span> &lt;&lt; oldCompressionMode &lt;&lt; endl;</div><div class="line"></div><div class="line">            <span class="comment">// Set the compression mode to BaslerCompressionBeyond if available.</span></div><div class="line">            <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af8f37b950680a2571d50ed0a05d695bc">ImageCompressionMode</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a4e3fe1ae986ad2fa04e5938949395829">CanSetValue</a>( ImageCompressionMode_BaslerCompressionBeyond ))</div><div class="line">            {</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af8f37b950680a2571d50ed0a05d695bc">ImageCompressionMode</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>( ImageCompressionMode_BaslerCompressionBeyond );</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;New compression mode: &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af8f37b950680a2571d50ed0a05d695bc">ImageCompressionMode</a>.<a class="code" href="struct_gen_api_1_1_i_value.html#aa4a55b401c2fefdac0a1d2971e772060">ToString</a>() &lt;&lt; endl;</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// After enabling the compression, we can read the compression rate option.</span></div><div class="line">            <a class="code" href="class_gen_i_cam_1_1gcstring.html">String_t</a> oldCompressionRateOption = camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa7d856192745e26133bbb108ddf50701">ImageCompressionRateOption</a>.<a class="code" href="struct_gen_api_1_1_i_value.html#aa4a55b401c2fefdac0a1d2971e772060">ToString</a>();</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Old compression rate option: &quot;</span> &lt;&lt; oldCompressionRateOption &lt;&lt; endl;</div><div class="line"></div><div class="line">            <span class="comment">// Configure lossless compression.</span></div><div class="line">            <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa7d856192745e26133bbb108ddf50701">ImageCompressionRateOption</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a4e3fe1ae986ad2fa04e5938949395829">CanSetValue</a>( ImageCompressionRateOption_Lossless ))</div><div class="line">            {</div><div class="line">                camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa7d856192745e26133bbb108ddf50701">ImageCompressionRateOption</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>( ImageCompressionRateOption_Lossless );</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;New compression rate option: &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa7d856192745e26133bbb108ddf50701">ImageCompressionRateOption</a>.<a class="code" href="struct_gen_api_1_1_i_value.html#aa4a55b401c2fefdac0a1d2971e772060">ToString</a>() &lt;&lt; endl;</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Create the decompressor and initialize it with the nodemap of the camera.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_image_decompressor.html">CImageDecompressor</a> decompressor( nodemap );</div><div class="line"></div><div class="line">            <span class="comment">// Wait for a new image.</span></div><div class="line">            <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a69a09e4670fbe5d1677342a6095da288">GrabOne</a>( 1000, ptrGrabResult ))</div><div class="line">            {</div><div class="line">                <span class="keywordflow">if</span> (ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>())</div><div class="line">                {</div><div class="line">                    <span class="comment">// Fetch compression info and check whether the image was compressed by the camera.</span></div><div class="line">                    <a class="code" href="struct_pylon_1_1_compression_info__t.html">CompressionInfo_t</a> info;</div><div class="line">                    <span class="keywordflow">if</span> (decompressor.GetCompressionInfo( info, ptrGrabResult ))</div><div class="line">                    {</div><div class="line">                        <span class="comment">// Print content of CompressionInfo_t.</span></div><div class="line">                        printCompressionInfo( info );</div><div class="line"></div><div class="line">                        <span class="comment">// Check if image is still compressed (could have been decompressed by a transport layer).</span></div><div class="line">                        <span class="keywordflow">if</span> (info.<a class="code" href="struct_pylon_1_1_compression_info__t.html#ad53642b11b321e1abdf9b7e52cf4f11f">hasCompressedImage</a>)</div><div class="line">                        {</div><div class="line">                            <span class="keywordflow">if</span> (info.<a class="code" href="struct_pylon_1_1_compression_info__t.html#a501903833eb6f9c345d2c3348e058e9d">compressionStatus</a> == <a class="code" href="namespace_pylon.html#a387447e9e1a48407b27aa78b1b8b506ba39672260d5808ecd69987b6e64508b52">CompressionStatus_Ok</a>)</div><div class="line">                            {</div><div class="line">                                <span class="comment">// Show compression ratio.</span></div><div class="line">                                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Transferred payload \t:&quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#ac48ce2df63643d8aee73ad63a2134df7">GetPayloadSize</a>() &lt;&lt; endl;</div><div class="line">                                cout &lt;&lt; <span class="stringliteral">&quot;Compression ratio \t:&quot;</span> &lt;&lt; (<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#ac48ce2df63643d8aee73ad63a2134df7">GetPayloadSize</a>()) / static_cast&lt;float&gt;(info.<a class="code" href="struct_pylon_1_1_compression_info__t.html#a439e594ab1e33ddda904a28e27c4cc0f">decompressedPayloadSize</a>) * 100.0f) &lt;&lt; <span class="stringliteral">&quot;%&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">                                <span class="comment">// Decompress the image.</span></div><div class="line">                                decompressor.DecompressImage( targetImage, ptrGrabResult );</div><div class="line"></div><div class="line">                                <span class="comment">// Show the image.</span></div><div class="line">                                ShowImage( targetImage, <span class="stringliteral">&quot;Decompressed image.&quot;</span> );</div><div class="line">                            }</div><div class="line">                            <span class="keywordflow">else</span></div><div class="line">                            {</div><div class="line">                                cout &lt;&lt; <span class="stringliteral">&quot;There was an error while the camera was compressing the image.&quot;</span> &lt;&lt; endl;</div><div class="line">                            }</div><div class="line">                        }</div><div class="line">                        <span class="keywordflow">else</span></div><div class="line">                        {</div><div class="line">                            <span class="comment">// No decompression is needed because it is already an uncompressed image.</span></div><div class="line">                            <span class="comment">// (This can happen if the transport layer supports transparent decompressing.)</span></div><div class="line">                            ShowImage( ptrGrabResult, <span class="stringliteral">&quot;Grabbed image.&quot;</span> );</div><div class="line">                        }</div><div class="line">                    }</div><div class="line">                    <span class="keywordflow">else</span></div><div class="line">                    {</div><div class="line">                        <span class="comment">// No decompression is required because the image has never been compressed.</span></div><div class="line">                        <span class="comment">// (This can happen if compression was accidentally turned off after initializing the decompressor class.)</span></div><div class="line">                        ShowImage( ptrGrabResult, <span class="stringliteral">&quot;Grabbed image.&quot;</span> );</div><div class="line">                    }</div><div class="line">                }</div><div class="line">                <span class="keywordflow">else</span></div><div class="line">                {</div><div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a51c4ed590aa402d030b0f3c5adfcc4e2">GetErrorCode</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#afc2854260822812b3ba46bb7efe63cc0">GetErrorDescription</a>() &lt;&lt; endl;</div><div class="line">                }</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Error: Could not grab an image.&quot;</span> &lt;&lt; endl;</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Take another picture with lossy compression (if available).</span></div><div class="line"></div><div class="line">            <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa7d856192745e26133bbb108ddf50701">ImageCompressionRateOption</a>.<a class="code" href="struct_pylon_1_1_i_value_ex.html#a4108d39c129f1e3b43c8e7b39ace1b28">IsWritable</a>())</div><div class="line">            {</div><div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;--- Switching to Fix Ratio compression ---&quot;</span> &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">                <span class="keywordflow">if</span> (camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa7d856192745e26133bbb108ddf50701">ImageCompressionRateOption</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a4e3fe1ae986ad2fa04e5938949395829">CanSetValue</a>( ImageCompressionRateOption_FixRatio ))</div><div class="line">                {</div><div class="line">                    camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa7d856192745e26133bbb108ddf50701">ImageCompressionRateOption</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>( ImageCompressionRateOption_FixRatio );</div><div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;New compression rate option: &quot;</span> &lt;&lt; camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa7d856192745e26133bbb108ddf50701">ImageCompressionRateOption</a>.<a class="code" href="struct_gen_api_1_1_i_value.html#aa4a55b401c2fefdac0a1d2971e772060">ToString</a>() &lt;&lt; endl;</div><div class="line">                }</div><div class="line"></div><div class="line">                <span class="comment">// After changing the compression parameters, the decompressor MUST be reconfigured.</span></div><div class="line">                decompressor.SetCompressionDescriptor( nodemap );</div><div class="line"></div><div class="line">                <span class="comment">// Wait for a new image.</span></div><div class="line">                <span class="keywordflow">if</span> (camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#a69a09e4670fbe5d1677342a6095da288">GrabOne</a>( 1000, ptrGrabResult ))</div><div class="line">                {</div><div class="line">                    <span class="keywordflow">if</span> (ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>())</div><div class="line">                    {</div><div class="line">                        <span class="comment">// Fetch compression info and check whether the image was compressed by the camera.</span></div><div class="line">                        <a class="code" href="struct_pylon_1_1_compression_info__t.html">CompressionInfo_t</a> info;</div><div class="line">                        <span class="keywordflow">if</span> (decompressor.GetCompressionInfo( info, ptrGrabResult ))</div><div class="line">                        {</div><div class="line">                            <span class="comment">// Print content of CompressionInfo_t.</span></div><div class="line">                            printCompressionInfo( info );</div><div class="line"></div><div class="line">                            <span class="comment">// Check if image is still compressed (could have been decompressed by a transport layer).</span></div><div class="line">                            <span class="keywordflow">if</span> (info.<a class="code" href="struct_pylon_1_1_compression_info__t.html#ad53642b11b321e1abdf9b7e52cf4f11f">hasCompressedImage</a>)</div><div class="line">                            {</div><div class="line">                                <span class="keywordflow">if</span> (info.<a class="code" href="struct_pylon_1_1_compression_info__t.html#a501903833eb6f9c345d2c3348e058e9d">compressionStatus</a> == <a class="code" href="namespace_pylon.html#a387447e9e1a48407b27aa78b1b8b506ba39672260d5808ecd69987b6e64508b52">CompressionStatus_Ok</a>)</div><div class="line">                                {</div><div class="line">                                    <span class="comment">// Show compression ratio.</span></div><div class="line">                                    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Transferred payload \t:&quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#ac48ce2df63643d8aee73ad63a2134df7">GetPayloadSize</a>() &lt;&lt; endl;</div><div class="line">                                    cout &lt;&lt; <span class="stringliteral">&quot;Compression ratio \t:&quot;</span> &lt;&lt; (<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#ac48ce2df63643d8aee73ad63a2134df7">GetPayloadSize</a>()) / static_cast&lt;float&gt;(info.<a class="code" href="struct_pylon_1_1_compression_info__t.html#a439e594ab1e33ddda904a28e27c4cc0f">decompressedPayloadSize</a>) * 100.0f) &lt;&lt; <span class="stringliteral">&quot;%&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">                                    <span class="comment">// Decompress the image.</span></div><div class="line">                                    decompressor.DecompressImage( targetImage, ptrGrabResult );</div><div class="line"></div><div class="line">                                    <span class="comment">// Show the image.</span></div><div class="line">                                    ShowImage( targetImage, <span class="stringliteral">&quot;Decompressed image.&quot;</span> );</div><div class="line">                                }</div><div class="line">                                <span class="keywordflow">else</span></div><div class="line">                                {</div><div class="line">                                    cout &lt;&lt; <span class="stringliteral">&quot;There was an error while the camera was compressing the image.&quot;</span> &lt;&lt; endl;</div><div class="line">                                }</div><div class="line">                            }</div><div class="line">                            <span class="keywordflow">else</span></div><div class="line">                            {</div><div class="line">                                <span class="comment">// No decompression is needed because it is already an uncompressed image.</span></div><div class="line">                                <span class="comment">// (This can happen if the transport layer supports transparent decompressing.)</span></div><div class="line">                                ShowImage( ptrGrabResult, <span class="stringliteral">&quot;Grabbed image.&quot;</span> );</div><div class="line">                            }</div><div class="line">                        }</div><div class="line">                        <span class="keywordflow">else</span></div><div class="line">                        {</div><div class="line">                            <span class="comment">// No decompression is required because the image has never been compressed.</span></div><div class="line">                            <span class="comment">// (This can happen if compression was accidentally turned off after initializing the decompressor class.)</span></div><div class="line">                            ShowImage( ptrGrabResult, <span class="stringliteral">&quot;Grabbed image.&quot;</span> );</div><div class="line">                        }</div><div class="line">                    }</div><div class="line">                    <span class="keywordflow">else</span></div><div class="line">                    {</div><div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a51c4ed590aa402d030b0f3c5adfcc4e2">GetErrorCode</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#afc2854260822812b3ba46bb7efe63cc0">GetErrorDescription</a>() &lt;&lt; endl;</div><div class="line">                    }</div><div class="line">                }</div><div class="line">                <span class="keywordflow">else</span></div><div class="line">                {</div><div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;Error: Could not grab an image.&quot;</span> &lt;&lt; endl;</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Restore original compression mode. Compression rate option must be restored first as the rate can&#39;t be changed</span></div><div class="line">            <span class="comment">// when compression itself is turned off.</span></div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#aa7d856192745e26133bbb108ddf50701">ImageCompressionRateOption</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>( oldCompressionRateOption );</div><div class="line">            camera.<a class="code" href="class_basler___universal_camera_params_1_1_c_universal_camera_params___params__v6__1__0.html#af8f37b950680a2571d50ed0a05d695bc">ImageCompressionMode</a>.<a class="code" href="struct_pylon_1_1_i_enum_parameter_t.html#a75732fa846c90c8d1542725c302072e8">SetValue</a>( oldCompressionMode );</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;This camera does not support compression.&quot;</span> &lt;&lt; endl;</div><div class="line">        }</div><div class="line"></div><div class="line">        camera.<a class="code" href="class_pylon_1_1_c_device_specific_instant_camera_t.html#aa0888df5faf71045686ebcaf65ab4dda">Close</a>();</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line"></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;Could not grab an image: &quot;</span> &lt;&lt; endl</div><div class="line">            &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line"></div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Release all pylon resources.</span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="comment">// Wait for key.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span> (cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Utility_ImageFormatConverter"></a>
Utility_ImageFormatConverter</h1>
<div class="fragment"><div class="line"><span class="comment">// Utility_ImageLoadAndSave.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample illustrates how to use the image format</span></div><div class="line"><span class="comment">    converter class CImageFormatConverter.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    The image format converter accepts all image formats</span></div><div class="line"><span class="comment">    produced by Basler camera devices and it is able to</span></div><div class="line"><span class="comment">    convert these to a number of output formats.</span></div><div class="line"><span class="comment">    The conversion can be controlled by several parameters.</span></div><div class="line"><span class="comment">    See the converter class documentation for more details.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;iomanip&gt;</span></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line"><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;../include/SampleImageCreator.h&quot;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using GenApi objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_gen_api.html">GenApi</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// This is a helper function for showing an image on the screen if Windows is used,  </span></div><div class="line"><span class="comment">// and for printing the first bytes of the image.</span></div><div class="line"><span class="keywordtype">void</span> ShowImage( <a class="code" href="struct_pylon_1_1_i_image.html">IImage</a>&amp; image, <span class="keyword">const</span> <span class="keywordtype">char</span>* message = NULL)</div><div class="line">{</div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">    <span class="comment">// Display the image.</span></div><div class="line">    Pylon::DisplayImage(1, image);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> ( message)</div><div class="line">    {</div><div class="line">        cout &lt;&lt; endl &lt;&lt; message &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// store state of cout </span></div><div class="line">    std::ios state(NULL);</div><div class="line">    state.copyfmt(cout);</div><div class="line"></div><div class="line">    <span class="keyword">const</span> uint8_t* pBytes = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(image.<a class="code" href="struct_pylon_1_1_i_image.html#acaa38a434f7af02fa66152b1896a70e1">GetBuffer</a>());</div><div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;First six bytes of the image: &quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; 6; ++i)</div><div class="line">    {</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;0x&quot;</span> &lt;&lt; hex &lt;&lt; setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; setw(2) &lt;&lt; unsigned(pBytes[i]) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line">    }</div><div class="line">    cout &lt;&lt; endl;</div><div class="line"></div><div class="line">    <span class="comment">// restore state of cout </span></div><div class="line">    cout.copyfmt(state);</div><div class="line"></div><div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Define some constants.</span></div><div class="line">        <span class="keyword">const</span> uint32_t cWidth = 640;</div><div class="line">        <span class="keyword">const</span> uint32_t cHeight = 480;</div><div class="line"></div><div class="line">        <span class="comment">// The image format converter basics.</span></div><div class="line">        {</div><div class="line">            <span class="comment">// First the image format converter class must be created.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_image_format_converter.html">CImageFormatConverter</a> converter;</div><div class="line"></div><div class="line">            <span class="comment">// Second the converter must be parameterized.</span></div><div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a3e2947f7f3b7d20c5fb351e2a3953f5a">OutputPixelFormat</a> = <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067a71cbd9075e8bffa35e39c4aafefcd631">PixelType_Mono16</a>;</div><div class="line">            converter.<a class="code" href="class_basler___image_format_converter_params_1_1_c_image_format_converter_params___params__v6__1__0.html#a8d28937f27ee2fa21f2ede7f37b24a94">OutputBitAlignment</a> = <a class="code" href="___image_format_converter_params_8h.html#a0d468bef66c1b6903dece1bcb2ab4016a0aace6b0b321e3a6903c0d859e248579">OutputBitAlignment_MsbAligned</a>;</div><div class="line"></div><div class="line">            <span class="comment">// Then it can be used to convert input images to</span></div><div class="line">            <span class="comment">// the target image format.</span></div><div class="line"></div><div class="line">            <span class="comment">// Create a sample image.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageRGB8packed = SampleImageCreator::CreateMandelbrotFractal( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aed40cb79221f2ecf6af9170d10cb17bc">PixelType_RGB8packed</a>, cWidth, cHeight);</div><div class="line">            ShowImage( imageRGB8packed, <span class="stringliteral">&quot;Source image.&quot;</span>);</div><div class="line"></div><div class="line">            <span class="comment">// Create a target image</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> targetImage;</div><div class="line"></div><div class="line">            <span class="comment">// Convert the image. Note that there are more overloaded Convert methods available, e.g.</span></div><div class="line">            <span class="comment">// for converting the image from or to a user buffer.</span></div><div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a1d4690d0b5b50581d229bd00794430b7">Convert</a>( targetImage, imageRGB8packed);</div><div class="line">            ShowImage( targetImage, <span class="stringliteral">&quot;Converted image.&quot;</span>);</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Checking if conversion is needed.</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Create a target image.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> targetImage;</div><div class="line"></div><div class="line">            <span class="comment">// Create the converter and set parameters.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_image_format_converter.html">CImageFormatConverter</a> converter;</div><div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a3e2947f7f3b7d20c5fb351e2a3953f5a">OutputPixelFormat</a> = <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>;</div><div class="line"></div><div class="line">            <span class="comment">// Try to get a grab result for demonstration purposes.</span></div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Waiting for an image to be grabbed.&quot;</span> &lt;&lt; endl;</div><div class="line">            <span class="keywordflow">try</span></div><div class="line">            {</div><div class="line">                <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">                <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div><div class="line">                <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> Camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">                <span class="keywordflow">if</span> ( Camera.GrabOne( 1000, ptrGrabResult))</div><div class="line">                {</div><div class="line">                    <span class="comment">// Now we can check if conversion is required.</span></div><div class="line">                    <span class="keywordflow">if</span> ( converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#ae48e971b1d2cc8d88efa1480c2cae578">ImageHasDestinationFormat</a>( ptrGrabResult))</div><div class="line">                    {</div><div class="line">                        <span class="comment">// No conversion is needed. It can be skipped for saving processing</span></div><div class="line">                        <span class="comment">// time.</span></div><div class="line">                        ShowImage( ptrGrabResult, <span class="stringliteral">&quot;Grabbed image.&quot;</span>);</div><div class="line">                    }</div><div class="line">                    <span class="keywordflow">else</span></div><div class="line">                    {</div><div class="line">                        <span class="comment">// Conversion is needed.</span></div><div class="line">                        ShowImage( ptrGrabResult, <span class="stringliteral">&quot;Grabbed image.&quot;</span>);</div><div class="line">                        converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a1d4690d0b5b50581d229bd00794430b7">Convert</a>( targetImage, ptrGrabResult);</div><div class="line">                        ShowImage( targetImage, <span class="stringliteral">&quot;Converted image.&quot;</span>);</div><div class="line">                    }</div><div class="line">                }</div><div class="line">            }</div><div class="line">            <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">            {</div><div class="line"></div><div class="line">                cerr &lt;&lt; <span class="stringliteral">&quot;Could not grab an image: &quot;</span> &lt;&lt; endl</div><div class="line">                    &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Utility_ImageLoadAndSave"></a>
Utility_ImageLoadAndSave</h1>
<div class="fragment"><div class="line"><span class="comment">// Utility_ImageLoadAndSave.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample illustrates how to load and save images.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    The CImagePersistence class provides static functions for</span></div><div class="line"><span class="comment">    loading and saving images. It uses the image</span></div><div class="line"><span class="comment">    class related interfaces IImage and IReusableImage of pylon.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    IImage can be used to access image properties and image buffer.</span></div><div class="line"><span class="comment">    Therefore, it is used when saving images. In addition to that images can also</span></div><div class="line"><span class="comment">    be saved by passing an image buffer and the corresponding properties.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    The IReusableImage interface extends the IImage interface to be able to reuse</span></div><div class="line"><span class="comment">    the resources of the image to represent a different image. The IReusableImage</span></div><div class="line"><span class="comment">    interface is used when loading images.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    The CPylonImage and CPylonBitmapImage image classes implement the</span></div><div class="line"><span class="comment">    IReusableImage interface. These classes can therefore be used as targets</span></div><div class="line"><span class="comment">    for loading images.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    The gab result smart pointer classes provide a cast operator to the IImage</span></div><div class="line"><span class="comment">    interface. This makes it possible to pass a grab result directly to the</span></div><div class="line"><span class="comment">    function that saves images to disk.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &quot;../include/SampleImageCreator.h&quot;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using GenApi objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_gen_api.html">GenApi</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Define some constants.</span></div><div class="line">        <span class="keyword">const</span> uint32_t cWidth = 640;</div><div class="line">        <span class="keyword">const</span> uint32_t cHeight = 480;</div><div class="line"></div><div class="line">        <span class="comment">// Saving images using the CImagePersistence class.</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Create a sample image.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageRGB16packed = SampleImageCreator::CreateMandelbrotFractal( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aff00240097210121652eabf0a69032a8">PixelType_RGB16packed</a>, cWidth, cHeight);</div><div class="line"></div><div class="line">            <span class="comment">// If required the image is automatically converted to a new image and then saved.</span></div><div class="line">            <span class="comment">// An image with a bit depth higher than 8 Bit is stored with 16 Bit bit depth</span></div><div class="line">            <span class="comment">// if supported by the image file format. In this case the pixel data is MSB aligned.</span></div><div class="line">            <span class="comment">// If more control over the conversion is required then the CImageFormatConverter class</span></div><div class="line">            <span class="comment">// can be used to convert the input image before saving it (not shown).</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_image_persistence.html#a7d3176eb5beed8ed333495615d4a4974">CImagePersistence::Save</a>( <a class="code" href="group___pylon___image_handling_support.html#gga8bf3ed15161132846cd68070762ba2bda9474c4f4880b9fd6acb85132357f8490">ImageFileFormat_Tiff</a>, <span class="stringliteral">&quot;MandelbrotFractal.tiff&quot;</span>, imageRGB16packed);</div><div class="line"></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The image &quot;</span> &lt;&lt; (<a class="code" href="class_pylon_1_1_c_image_persistence.html#a01a7ee0507d68216cd97db758e933a51">CImagePersistence::CanSaveWithoutConversion</a>( <a class="code" href="group___pylon___image_handling_support.html#gga8bf3ed15161132846cd68070762ba2bda9474c4f4880b9fd6acb85132357f8490">ImageFileFormat_Tiff</a>, imageRGB16packed) ? <span class="stringliteral">&quot;can&quot;</span> : <span class="stringliteral">&quot;can not&quot;</span>)</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; be saved without conversion as tiff.&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">            <span class="comment">// The CPylonImage and the CPylonBitmapImage classes provide a member function</span></div><div class="line">            <span class="comment">// for saving images for convenience. This function calls CImagePersistence::Save().</span></div><div class="line">            imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image_base.html#ae1ea36e435611e22913d822dd31adf26">Save</a>( ImageFileFormat_Bmp, <span class="stringliteral">&quot;MandelbrotFractal.bmp&quot;</span>);</div><div class="line"></div><div class="line">            <span class="comment">// CanSaveWithoutConversion() can be used to check whether a conversion is performed when saving the image.</span></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The image &quot;</span> &lt;&lt; (<a class="code" href="class_pylon_1_1_c_image_persistence.html#a01a7ee0507d68216cd97db758e933a51">CImagePersistence::CanSaveWithoutConversion</a>( ImageFileFormat_Bmp, imageRGB16packed) ? <span class="stringliteral">&quot;can&quot;</span> : <span class="stringliteral">&quot;can not&quot;</span>)</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; be saved without conversion as bmp.&quot;</span> &lt;&lt; endl;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">            <span class="comment">// Additionally it is possible to save image data that is not held by an image class.</span></div><div class="line">            <span class="comment">// For demonstration purposes only, the buffer and the image properties from the sample image are used here.</span></div><div class="line">            <a class="code" href="group___pylon___image_handling_support.html#ga159b4bb49b4973a30bc8b39a4fcf3067">EPixelType</a> pixelType = imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a654b22ae664ce9e0ab14c1854e1b5ae7">GetPixelType</a>();</div><div class="line">            uint32_t width = imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a2c91921b4502697206c877ded8cd42cd">GetWidth</a>();</div><div class="line">            uint32_t height = imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a5a28c115bd785ef5a0914cd8bd349b38">GetHeight</a>();</div><div class="line">            <span class="keywordtype">size_t</span> paddingX = imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image.html#aedcf4e0c0785af11e5a836d2be1fa4af">GetPaddingX</a>();</div><div class="line">            <a class="code" href="group___pylon___image_handling_support.html#ga710fdd7cf7f7516c56b90cbdf0085f70">EImageOrientation</a> orientation = imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a59a53fa195f8de1f28cf31a518b9556c">GetOrientation</a>();</div><div class="line">            <span class="keywordtype">size_t</span> bufferSize = imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image.html#af7288552affcf345c35be5cf5a507d50">GetImageSize</a>();</div><div class="line">            <span class="keywordtype">void</span>* buffer = imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a5414d746b31c5b9b79d6fb61849f77ea">GetBuffer</a>();</div><div class="line"></div><div class="line">            <a class="code" href="class_pylon_1_1_c_image_persistence.html#a7d3176eb5beed8ed333495615d4a4974">CImagePersistence::Save</a>(</div><div class="line">                <a class="code" href="group___pylon___image_handling_support.html#gga8bf3ed15161132846cd68070762ba2bda6a2ec5f9ee0cf11fa1417b73bf5ccef1">ImageFileFormat_Png</a>,</div><div class="line">                <span class="stringliteral">&quot;MandelbrotFractal.png&quot;</span>,</div><div class="line">                buffer,</div><div class="line">                bufferSize,</div><div class="line">                pixelType,</div><div class="line">                width,</div><div class="line">                height,</div><div class="line">                paddingX,</div><div class="line">                orientation);</div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Loading images.</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Create pylon images.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageRGB16packedFromTiff;</div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageBGR8packedFromBmp;</div><div class="line"></div><div class="line">            <span class="comment">// Load the tiff image directly via the ImageFile interface.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_image_persistence.html#a788383f8c5747eb4c85c8259dfe6ad99">CImagePersistence::Load</a>( <span class="stringliteral">&quot;MandelbrotFractal.tiff&quot;</span>, imageRGB16packedFromTiff);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The pixel type of the image is &quot;</span> &lt;&lt; (imageRGB16packedFromTiff.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a654b22ae664ce9e0ab14c1854e1b5ae7">GetPixelType</a>() == <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aff00240097210121652eabf0a69032a8">PixelType_RGB16packed</a> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;not &quot;</span>)</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;RGB16packed.&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">            <span class="comment">// The CPylonImage and the CPylonBitmapImage classes provide a member function</span></div><div class="line">            <span class="comment">// for loading images for convenience. This function calls CImagePersistence::Load().</span></div><div class="line">            imageBGR8packedFromBmp.<a class="code" href="class_pylon_1_1_c_pylon_image_base.html#a4c95aae72ac9ff4bf54dc8d5be8e7daf">Load</a>( <span class="stringliteral">&quot;MandelbrotFractal.bmp&quot;</span>);</div><div class="line"></div><div class="line">            <span class="comment">// The format of the loaded image from the bmp file is BGR8packed instead of the original RGB16packed format because</span></div><div class="line">            <span class="comment">// it had to be converted for saving it in the bmp format.</span></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The pixel type of the image is &quot;</span> &lt;&lt; (imageBGR8packedFromBmp.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a654b22ae664ce9e0ab14c1854e1b5ae7">GetPixelType</a>() == <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ab49f2952dd6a68835d6619cf771db015">PixelType_BGR8packed</a>  ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;not &quot;</span>)</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;BGR8packed.&quot;</span> &lt;&lt; endl;</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">        }</div><div class="line"></div><div class="line"><span class="comment">//JPEG handling is only supported on windows</span></div><div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div><div class="line">        <span class="comment">// Selecting the image quality when saving in JPEG format.</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Create a sample image.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageRGB8packed = SampleImageCreator::CreateMandelbrotFractal( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aed40cb79221f2ecf6af9170d10cb17bc">PixelType_RGB8packed</a>, cWidth, cHeight);</div><div class="line"></div><div class="line">            <span class="comment">// The JPEG image quality can be adjusted in the range from 0 to 100.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_image_persistence_options.html">CImagePersistenceOptions</a> additionalOptions;</div><div class="line">            <span class="comment">// Set the lowest quality value.</span></div><div class="line">            additionalOptions.<a class="code" href="class_pylon_1_1_c_image_persistence_options.html#a10684776370037bd1b2f2ed81dadab88">SetQuality</a>(0);</div><div class="line"></div><div class="line">            <span class="comment">// Save the image.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_image_persistence.html#a7d3176eb5beed8ed333495615d4a4974">CImagePersistence::Save</a>( ImageFileFormat_Jpeg, <span class="stringliteral">&quot;MandelbrotFractal_0.jpg&quot;</span>, imageRGB8packed, &amp;additionalOptions);</div><div class="line"></div><div class="line">            <span class="comment">// Set the highest quality value.</span></div><div class="line">            additionalOptions.<a class="code" href="class_pylon_1_1_c_image_persistence_options.html#a10684776370037bd1b2f2ed81dadab88">SetQuality</a>(100);</div><div class="line"></div><div class="line">            <span class="comment">// Save the image.</span></div><div class="line">            <a class="code" href="class_pylon_1_1_c_image_persistence.html#a7d3176eb5beed8ed333495615d4a4974">CImagePersistence::Save</a>( ImageFileFormat_Jpeg, <span class="stringliteral">&quot;MandelbrotFractal_100.jpg&quot;</span>, imageRGB8packed, &amp;additionalOptions);</div><div class="line">        }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">        <span class="comment">// Saving grabbed images.</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Try to get a grab result.</span></div><div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Waiting for an image to be grabbed.&quot;</span> &lt;&lt; endl;</div><div class="line">            <span class="keywordflow">try</span></div><div class="line">            {</div><div class="line">                <span class="comment">// This smart pointer will receive the grab result data.</span></div><div class="line">                <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div><div class="line">                <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> Camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div><div class="line"></div><div class="line">                <span class="keywordflow">if</span> ( Camera.GrabOne( 1000, ptrGrabResult))</div><div class="line">                {</div><div class="line">                    <span class="comment">// The pylon grab result smart pointer classes provide a cast operator to the IImage</span></div><div class="line">                    <span class="comment">// interface. This makes it possible to pass a grab result directly to the</span></div><div class="line">                    <span class="comment">// function that saves an image to disk.</span></div><div class="line">                    <a class="code" href="class_pylon_1_1_c_image_persistence.html#a7d3176eb5beed8ed333495615d4a4974">CImagePersistence::Save</a>( <a class="code" href="group___pylon___image_handling_support.html#gga8bf3ed15161132846cd68070762ba2bda6a2ec5f9ee0cf11fa1417b73bf5ccef1">ImageFileFormat_Png</a>, <span class="stringliteral">&quot;GrabbedImage.png&quot;</span>, ptrGrabResult);</div><div class="line">                }</div><div class="line">            }</div><div class="line">            <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">            {</div><div class="line"></div><div class="line">                cerr &lt;&lt; <span class="stringliteral">&quot;Could not grab an image: &quot;</span> &lt;&lt; endl</div><div class="line">                    &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Releases all pylon resources. </span></div><div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Utility_IpConfig"></a>
Utility_IpConfig</h1>
<p>This sample is part of the pylon sample solution that can be found under &lt;SDK ROOT&gt;\Development\Samples\C++.</p>
<div class="fragment"><div class="line"><span class="comment">// Utility_IpConfig.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample demonstrates how to configure the IP address of a camera.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include files to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_gig_e_transport_layer_8h.html">pylon/gige/GigETransportLayer.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;cctype&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div><div class="line">    <a class="code" href="class_pylon_1_1_pylon_auto_init_term.html">PylonAutoInitTerm</a> autoInitTerm;</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Create GigE transport layer.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_tl_factory.html">CTlFactory</a>&amp; TlFactory = <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>();</div><div class="line">        <a class="code" href="struct_pylon_1_1_i_gig_e_transport_layer.html">IGigETransportLayer</a> *pTl = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="struct_pylon_1_1_i_gig_e_transport_layer.html">IGigETransportLayer</a> *<span class="keyword">&gt;</span>(TlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a46dcaa7cf07b96fd9fae2583bf65266a">CreateTl</a>(<a class="code" href="group___pylon___transport_layer.html#gade01a67e2f6bac8ba92b2d430efbc026">Pylon::BaslerGigEDeviceClass</a>));</div><div class="line">        <span class="keywordflow">if</span> (pTl == NULL)</div><div class="line">        {</div><div class="line">            cerr &lt;&lt; <span class="stringliteral">&quot;Error: No GigE transport layer installed.&quot;</span> &lt;&lt; endl;</div><div class="line">            cerr &lt;&lt; <span class="stringliteral">&quot;       Please install GigE support as it is required for this sample.&quot;</span> &lt;&lt; endl;</div><div class="line">            <span class="keywordflow">return</span> 1;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Enumerate devices.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_device_info_list.html">DeviceInfoList_t</a> lstDevices;</div><div class="line">        pTl-&gt;<a class="code" href="struct_pylon_1_1_i_gig_e_transport_layer.html#a84022aefe2b7b33e905c02ff70498328">EnumerateAllDevices</a>(lstDevices);</div><div class="line"></div><div class="line">        <span class="comment">// Check if enough parameters are given.</span></div><div class="line">        <span class="keywordflow">if</span>(argc &lt; 3)</div><div class="line">        {</div><div class="line">            <span class="comment">// Print usage information.</span></div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Usage: Utility_IpConfig &lt;MAC&gt; &lt;IP&gt; [MASK] [GATEWAY]&quot;</span> &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;       &lt;MAC&gt; is the MAC address without separators, e.g., 0030531596CF&quot;</span> &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;       &lt;IP&gt; is one of the following:&quot;</span> &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;            - AUTO to use Auto-IP (LLA).&quot;</span> &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;            - DHCP to use DHCP.&quot;</span> &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;            - Everything else is interpreted as a new IP address in dotted notation, e.g., 192.168.1.1&quot;</span> &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;       [MASK] is the network mask in dotted notation. This is optional. 255.255.255.0 is used as default.&quot;</span> &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;       [GATEWAY] is the gateway address in dotted notation. This is optional. 0.0.0.0 is used as default.&quot;</span> &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Please note that this is a sample and no sanity checks are made.&quot;</span> &lt;&lt; endl;</div><div class="line">            cout &lt;&lt; endl;</div><div class="line"></div><div class="line">            <span class="comment">// Print header for information table.</span></div><div class="line">            cout &lt;&lt; left &lt;&lt; setfill(<span class="charliteral">&#39; &#39;</span>);</div><div class="line">            cout &lt;&lt; endl;</div><div class="line">            cout.width(32+14+17+17+15+8);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Available Devices&quot;</span>;</div><div class="line">            cout.width(15);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;   supports &quot;</span> &lt;&lt; endl;</div><div class="line">            cout.width(32);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Friendly Name&quot;</span>;</div><div class="line">            cout.width(14); </div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;MAC&quot;</span>;</div><div class="line">            cout.width(17);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;IP Address&quot;</span>;</div><div class="line">            cout.width(17);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Subnet Mask&quot;</span>;</div><div class="line">            cout.width(15);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gateway&quot;</span>;</div><div class="line">            cout.width(8);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Mode&quot;</span>;</div><div class="line">            cout.width(4);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;IP?&quot;</span>;</div><div class="line">            cout.width(6);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;DHCP?&quot;</span>;</div><div class="line">            cout.width(5);</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;LLA?&quot;</span>;</div><div class="line">            cout &lt;&lt; endl;</div><div class="line"></div><div class="line">            <span class="comment">// Print information table.</span></div><div class="line">            <span class="keywordflow">for</span> (DeviceInfoList_t::const_iterator it = lstDevices.begin(); it != lstDevices.end(); ++it )</div><div class="line">            {</div><div class="line">                <span class="comment">// Determine current configuration mode.</span></div><div class="line">                <a class="code" href="class_gen_i_cam_1_1gcstring.html">String_t</a> activeMode;</div><div class="line">                <span class="keywordflow">if</span> ( it-&gt;IsPersistentIpActive() )</div><div class="line">                {</div><div class="line">                    activeMode = <span class="stringliteral">&quot;Static&quot;</span>;</div><div class="line">                }</div><div class="line">                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( it-&gt;IsDhcpActive() )</div><div class="line">                {</div><div class="line">                    activeMode = <span class="stringliteral">&quot;DHCP&quot;</span>;</div><div class="line">                }</div><div class="line">                <span class="keywordflow">else</span></div><div class="line">                {</div><div class="line">                    activeMode = <span class="stringliteral">&quot;AutoIP&quot;</span>;</div><div class="line">                }</div><div class="line"></div><div class="line">                cout.width(32);</div><div class="line">                cout &lt;&lt; it-&gt;GetFriendlyName();</div><div class="line">                cout.width(14);</div><div class="line">                cout &lt;&lt; it-&gt;GetMacAddress();</div><div class="line">                cout.width(17);</div><div class="line">                cout &lt;&lt; it-&gt;GetIpAddress();</div><div class="line">                cout.width(17);</div><div class="line">                cout &lt;&lt; it-&gt;GetSubnetMask();</div><div class="line">                cout.width(15);</div><div class="line">                cout &lt;&lt; it-&gt;GetDefaultGateway();</div><div class="line">                cout.width(8);</div><div class="line">                cout &lt;&lt; activeMode;</div><div class="line">                cout.width(4);</div><div class="line">                cout &lt;&lt; it-&gt;IsPersistentIpSupported();</div><div class="line">                cout.width(6);</div><div class="line">                cout &lt;&lt; it-&gt;IsDhcpSupported();</div><div class="line">                cout.width(5);</div><div class="line">                cout &lt;&lt; it-&gt;IsAutoIpSupported();</div><div class="line">                cout &lt;&lt; endl;</div><div class="line">            }</div><div class="line"></div><div class="line">            exitCode = 1;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            <span class="comment">// Read arguments. Note that sanity checks are skipped for clarity.</span></div><div class="line">            <a class="code" href="class_gen_i_cam_1_1gcstring.html">String_t</a> macAddress = argv[1];</div><div class="line">            <a class="code" href="class_gen_i_cam_1_1gcstring.html">String_t</a> ipAddress = argv[2];</div><div class="line">            <a class="code" href="class_gen_i_cam_1_1gcstring.html">String_t</a> subnetMask = <span class="stringliteral">&quot;255.255.255.0&quot;</span>;</div><div class="line">            <span class="keywordflow">if</span>(argc &gt;= 4)</div><div class="line">            {</div><div class="line">                subnetMask = argv[3];</div><div class="line">            }</div><div class="line">            <a class="code" href="class_gen_i_cam_1_1gcstring.html">String_t</a> defaultGateway = <span class="stringliteral">&quot;0.0.0.0&quot;</span>;</div><div class="line">            <span class="keywordflow">if</span>(argc &gt;= 5)</div><div class="line">            {</div><div class="line">                defaultGateway = argv[4];</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Check if configuration mode is AUTO, DHCP, or IP address.</span></div><div class="line">            <span class="keywordtype">bool</span> isAuto = (strcmp(argv[2], <span class="stringliteral">&quot;AUTO&quot;</span>) == 0);</div><div class="line">            <span class="keywordtype">bool</span> isDhcp = (strcmp(argv[2], <span class="stringliteral">&quot;DHCP&quot;</span>) == 0);</div><div class="line">            <span class="keywordtype">bool</span> isStatic = !isAuto &amp;&amp; !isDhcp;</div><div class="line"></div><div class="line">            <span class="comment">// Find the camera&#39;s user-defined name.</span></div><div class="line">            <a class="code" href="class_gen_i_cam_1_1gcstring.html">String_t</a> userDefinedName = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line">            <span class="keywordflow">for</span> (DeviceInfoList_t::const_iterator it = lstDevices.begin(); it != lstDevices.end(); ++it )</div><div class="line">            {</div><div class="line">                <span class="keywordflow">if</span>(macAddress == it-&gt;GetMacAddress())</div><div class="line">                {</div><div class="line">                    userDefinedName = it-&gt;GetUserDefinedName();</div><div class="line">                }</div><div class="line">            }</div><div class="line"></div><div class="line">            <span class="comment">// Set new IP configuration.</span></div><div class="line">            <span class="keywordtype">bool</span> setOk = pTl-&gt;<a class="code" href="struct_pylon_1_1_i_gig_e_transport_layer.html#a3ed67e113cbbdaa557fbbd1d931f1668">BroadcastIpConfiguration</a>(macAddress, isStatic, isDhcp,</div><div class="line">                ipAddress, subnetMask, defaultGateway, userDefinedName);</div><div class="line"></div><div class="line">            <span class="comment">// Show result message.</span></div><div class="line">            <span class="keywordflow">if</span>(setOk)</div><div class="line">            {</div><div class="line">                pTl-&gt;<a class="code" href="struct_pylon_1_1_i_gig_e_transport_layer.html#a6eedda3223995b03ea2cd4a761b37735">RestartIpConfiguration</a>(macAddress);</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Successfully changed IP configuration via broadcast for device &quot;</span> &lt;&lt; macAddress &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; ipAddress &lt;&lt; endl;</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Failed to change IP configuration via broadcast for device &quot;</span> &lt;&lt; macAddress &lt;&lt; endl;</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;This is not an error. The device may not support broadcast IP configuration.&quot;</span> &lt;&lt; endl;</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">        cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">        <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">        <span class="comment">// Release transport layer.</span></div><div class="line">        TlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a310a6c7143529e19101f959a605d77b9">ReleaseTl</a>(pTl);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="sample_Utility_InstantInterface"></a>
Utility_InstantInterface</h1>
<p>This sample is part of the pylon sample solution that can be found under &lt;SDK ROOT&gt;\Development\Samples\C++.</p>
<div class="fragment"><div class="line"><span class="comment">// Utility_InstantInterface.cpp</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the &quot;Programmer&#39;s Guide&quot; topic</span></div><div class="line"><span class="comment">    in the pylon C++ API documentation delivered with pylon.</span></div><div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div><div class="line"><span class="comment">    strongly recommends reading the &quot;Migrating from Previous Versions&quot; topic in the pylon C++ API documentation.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    This sample illustrates how to use CInstantInterface to access parameters of the interface.</span></div><div class="line"><span class="comment">    Using the Basler CXP-12 interface card as an example, the sample shows you how to access the Power-Over-CXP settings</span></div><div class="line"><span class="comment">    and monitor the power usage.</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="comment">// Include file to use the pylon API.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Include file to use cout</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Namespace for using pylon objects.</span></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_pylon.html">Pylon</a>;</div><div class="line"></div><div class="line"><span class="comment">// Namespace for using cout.</span></div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">    <span class="comment">// The exit code of the sample application.</span></div><div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized.</span></div><div class="line">    <a class="code" href="class_pylon_1_1_pylon_auto_init_term.html">PylonAutoInitTerm</a> autoInitTerm;</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Open the first interface on the CXP interface card.</span></div><div class="line">        <a class="code" href="class_pylon_1_1_c_interface_info.html">CInterfaceInfo</a> info;</div><div class="line">        info.<a class="code" href="class_pylon_1_1_c_info_base.html#a395119b5fc79db1d3dd5877a46c747dd">SetDeviceClass</a>(<a class="code" href="group___pylon___transport_layer.html#gaaeb9038f507697ba72cfb7a2439438ec">Pylon::BaslerGenTlCxpDeviceClass</a>);</div><div class="line"></div><div class="line">        <a class="code" href="class_pylon_1_1_c_instant_interface.html">CUniversalInstantInterface</a> instantInterface(info);</div><div class="line">        instantInterface.Open();</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Interface opened.&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Switching power OFF.&quot;</span> &lt;&lt; endl;</div><div class="line">        instantInterface.CxpPoCxpStatus.SetValue(<span class="stringliteral">&quot;Off&quot;</span>);</div><div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(1000);</div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Switching power ON.&quot;</span> &lt;&lt; endl;</div><div class="line">        instantInterface.CxpPoCxpStatus.SetValue(<span class="stringliteral">&quot;Auto&quot;</span>);</div><div class="line">        <span class="comment">// wait for 5000 ms (5 s) to allow the camera to start up again</span></div><div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(5000);</div><div class="line"></div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Updating device list.&quot;</span> &lt;&lt; endl;</div><div class="line">        instantInterface.DeviceUpdateList.Execute();</div><div class="line"></div><div class="line">        <span class="keywordtype">double</span> current = instantInterface.CxpPort0Current();</div><div class="line">        <span class="keywordtype">double</span> voltage = instantInterface.CxpPort0Voltage();</div><div class="line">        <span class="keywordtype">double</span> power = instantInterface.CxpPort0Power();</div><div class="line">        cout &lt;&lt; fixed;</div><div class="line">        cout.precision(2);</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Port 0 :&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Current &quot;</span> &lt;&lt; current &lt;&lt; <span class="stringliteral">&quot; mA&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Voltage &quot;</span> &lt;&lt; voltage &lt;&lt; <span class="stringliteral">&quot; V&quot;</span> &lt;&lt; endl;</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Power &quot;</span> &lt;&lt; power &lt;&lt; <span class="stringliteral">&quot; W&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">        instantInterface.Close();</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_generic_exception.html">GenericException</a> &amp;e)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling.</span></div><div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div><div class="line">        &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div><div class="line">        exitCode = 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div><div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to exit.&quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// All pylon resources are automatically released when autoInitTerm goes out of scope.</span></div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> exitCode;</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
<hr>
<div id="projectname">pylon <span id="projectnumber">6.1.0</span></div>
<address><small>Copyright (c) 2006-2020 <a href="http://www.baslerweb.com/">Basler AG</a>   (Mon Mar 16 2020 10:56:53)</small></address>
</body>
</html>
