/*!
@license BPD template enhancements | (c) Basler AG
*/
$(document).ready(function(){$.BPD={Presentation:{init:function(){$("a[href^='http']").attr("target","_blank");if($.BPD.Presentation.isLocal()){$("#offline-label").css('display','block');$("#site-label").css('margin-top','-0.3rem');}
$(document.body).on('click','img.large-image',function(e){e.preventDefault();window.open(this.src,'_blank');});},isLocal:function(){return(location.protocol==="file:"||location.hostname==="localhost"||location.hostname==="127.0.0.1");},},Data:{init:function(onReady){$.BPD.Loader.getBasicConfigs(function(config){$.BPD.Data.cameras=config.cameras;$.BPD.Data.master=config.master;$.BPD.Data.mapping=config.mapping['map-ids'];$.BPD.Data.parameters=config.parameters.parameters;$.BPD.Data.altNames=config.altNames;onReady();});}},Storage:{_localStorageSupported:undefined,_cookiesSupported:undefined,get:function(key,useSession){if(typeof useSession==='undefined'){useSession=false;}
var value='';if($.BPD.Storage.isLocalStorageSupported()){value=useSession?sessionStorage.getItem(key):localStorage.getItem(key);}else if($.BPD.Storage.isCookiesSupported()){value=Cookies.get(key);}
if(value==='undefined'){value=undefined;}else if(value==='null'){value=null;}else if(value==='true'){value=true;}else if(value==='false'){value=false;}
return value;},set:function(key,value,useSession){if(typeof useSession==='undefined'){useSession=false;}
if($.BPD.Storage.isLocalStorageSupported()){if(useSession){sessionStorage.setItem(key,value);}else{localStorage.setItem(key,value);}}else if($.BPD.Storage.isCookiesSupported()){Cookies.set(key,value);}},isSupported:function(){return $.BPD.Storage.isLocalStorageSupported()||$.BPD.Storage.isCookiesSupported();},isLocalStorageSupported:function(){if($.BPD.Storage._localStorageSupported===undefined){var bsl='bsl';try{localStorage.setItem(bsl,bsl);localStorage.removeItem(bsl);$.BPD.Storage._localStorageSupported=true;}catch(e){$.BPD.Storage._localStorageSupported=false;}}
return $.BPD.Storage._localStorageSupported;},isCookiesSupported:function(){if($.BPD.Storage._cookiesSupported===undefined){try{document.cookie='cookietest=1';var cookiesSupported=document.cookie.indexOf('cookietest=')!==-1;document.cookie='cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT';$.BPD.Storage._cookiesSupported=cookiesSupported;}
catch(e){$.BPD.Storage._cookiesSupported=false;}}
return $.BPD.Storage._cookiesSupported;},},Loader:{_loadUrl:function(url,onSuccess,onError){$.ajax({url:url,success:onSuccess,error:function(e1,e2,e3){console.error('error',e1,e2,e3);if(onError!==undefined){onError(e1,e2,e3);}}});},_loadLocalData:function(key,onDataCallback){if(window[key]!==undefined){onDataCallback(window[key]);}else{setTimeout(function(){$.BPD.Loader._loadLocalData(key,onDataCallback);},50)}},getCameraData:function(cameraId,onCameraLoaded){if(!cameraId){onCameraLoaded({});}else if($.BPD.Loader.isLocalData('config.js')){$.BPD.Loader._loadLocalData('BPDConfigs',function(data){onCameraLoaded(data[cameraId]);});}else{$.BPD.Loader._loadUrl('assets/jsons/generated/'+cameraId+'.json',onCameraLoaded);}},getBasicConfigs:function(onConfigLoaded){$.BPD.Loader._loadLocalData('BPDBasicConfig',onConfigLoaded);},isLocalData:function(filename){var scripts=document.getElementsByTagName('script');for(var i=scripts.length;i--;){if(scripts[i].src.indexOf('assets/javascripts/generated/'+filename)!==-1)return true;}
return false;},},CameraSelect:{selectized:[],init:function(){$.BPD.CameraSelect._getInputs().each(function(){$.BPD.CameraSelect._initInput($(this));});$.BPD.CameraSelect._setInitial();$.BPD.CameraSelect._getUnset().on('click',function(e){e.preventDefault();$.BPD.CameraSelect.setCamera(null);})},_initInput:function(input){input.attr("placeholder","Select camera");var select=input.empty().selectize();var selectized=select[0].selectize;$.BPD.CameraSelect.selectized.push(selectized);$.BPD.CameraSelect._setOptions(selectized);$.BPD.CameraSelect._bind(selectized);},setCamera:function(cameraId){if($.BPD.CameraSelect.selectized.length>0){$.BPD.CameraSelect.selectized.forEach(function(selectized){selectized.setValue(cameraId,true);});$.BPD.Camera.setCurrentCamera(cameraId);$.BPD.Modal.close();}else{$.BPD.Camera.persistCurrentCamera(cameraId);}},_setOptions:function(selectized){$.BPD.Data.cameras.forEach(function(camera){selectized.addOption({value:camera.id,text:camera.name,});});selectized.refreshOptions(false);},_bind:function(selectized){selectized.on('change',$.BPD.CameraSelect.setCamera);selectized.on('dropdown_open',function(){this.items=[];this.$control.find('.item').hide();this.setCaret(0);});selectized.on('blur',function(){this.$control.find('.item').show();});},_setInitial:function(){var selected="";var isCameraTopic=$('meta[name=cameratopic]').attr("content")==="true";if(isCameraTopic){selected=$('title').text().replace(" | Basler","");}else{selected=$.BPD.Storage.get('bslCurrentCamera');}
$.BPD.CameraSelect.setCamera(selected);},_getInputs:function(){return $('.device-selector');},_getUnset:function(){return $('.unset-device');}},Camera:{_currentCameraId:undefined,setCurrentCamera:function(cameraId){if($.BPD.Camera._currentCameraId===cameraId){return;}
var isInitial=$.BPD.Camera._currentCameraId===undefined;$.BPD.Camera.persistCurrentCamera(cameraId);if(!isInitial){$.BPD.Camera._redirectIfNeeded(cameraId);}
$.BPD.Camera._setCurrentCameraDisplays(cameraId);},getCurrentCamera:function(){return $.BPD.Camera._currentCameraId;},persistCurrentCamera:function(cameraId){$.BPD.Camera._currentCameraId=cameraId;$.BPD.Storage.set('bslCurrentCamera',cameraId);},resolveId:function(cameraId){return $.BPD.Data.altNames[cameraId]||cameraId;},validateId:function(cameraId){var isValid=false;if(cameraId.indexOf(" ")!==-1){cameraId=cameraId.substr(0,cameraId.indexOf(" "));}
for(var i=0;i<$.BPD.Data.cameras.length;i++){var camera=$.BPD.Data.cameras[i];if(camera.id===cameraId){isValid=true;break;}}
if(isValid)
return cameraId;else
return null;},_redirectIfNeeded:function(cameraId){if($.BPD.Nav.isCameraLink()){if(cameraId){$.BPD.Redirect.redirect($.BPD.Nav.getCameraLink(cameraId))}}},_setCurrentCameraDisplays:function(cameraId){if(cameraId){$.BPD.Loader.getCameraData(cameraId,function(config){if($.BPD.Camera._currentCameraId===config.id){$.BPD.Camera._setLinks(config);$.BPD.Nav.enableFeatures(config.features);$.BPD.SpecificsTable.shrink(config.name);$.BPD.Parameters.adjust(config.parameter_version);$.BPD.ParameterWarning.hide();var feature=$.BPD.Nav.getActiveFeature();if(feature){$.BPD.Warning.toggle(!$.BPD.Camera._hasActiveFeature(config,feature));}else{$.BPD.Warning.hide();}
$.BPD.Prototype.toggle(config.prototype);}});}else{$.BPD.Camera._setLinks();$.BPD.Nav.enableFeatures();$.BPD.SpecificsTable.expand();$.BPD.Parameters.adjust(1);if($.BPD.Nav.getActiveFeature()){$.BPD.Warning.hide();}
$.BPD.Prototype.toggle(false);}},_setLinks:function(config){var name=config?config.name:'';var url=config?$.BPD.Nav.getCameraLink(config.id):'#';$('#device-link').text(name).attr('href',url);if(config){$('.no-device').hide();$('.only-device').show();}else{$('.no-device').show();$('.only-device').hide();}},_hasActiveFeature:function(config,feature){var featureIndex=$.BPD.Data.master.features.indexOf(feature);return config.features.indexOf(featureIndex)!==-1;},},Nav:{enableFeatures:function(features){$.BPD.Data.master.features.forEach(function(feature,index){var navLink=$(".md-nav__link[title='"+feature+"']");if(features===undefined||features.indexOf(index)!==-1){navLink.removeClass('inactive');}else{navLink.addClass('inactive');}});},getActiveFeature:function(){var active=$('a.md-nav__link--active');if(!active){return null;}
var feature=active.attr('title');return $.BPD.Data.master.features.indexOf(feature)!==-1?feature:null;},getCameraLink:function(cameraId){return cameraId.toLowerCase()+'.html';},isCameraLink:function(){var page=$.BPD.Nav._getCurrentPage();for(var i=0;i<$.BPD.Data.cameras.length;i++){if($.BPD.Data.cameras[i].id.toLowerCase()===page){return true;}}
return false;},_getCurrentPage:function(){var re=/\/([\d\w-]*)\.html/g;var match=re.exec(window.location.pathname);return match?match[1]:'/';}},SpecificsTable:{isExpanded:true,tables:[],original:null,duplicate:null,init:function(){$.BPD.SpecificsTable._initTables();$.BPD.SpecificsTable._getButtons().addClass('only-device').on('click',function(e){e.preventDefault();$.BPD.SpecificsTable.toggle();});},_initTables:function(){$.BPD.SpecificsTable._getTables().each(function(i,table){table=$(table);var duplicate=$('<table />').hide().html(table.find('thead').clone()).appendTo(table.parent()).append($('<tbody />'));table.fancyTable({inputPlaceholder:'Search',pagination:true,pagClosest:4,perPage:20,sortable:false,sortColumn:0,searchable:true,globalSearch:true});$.BPD.SpecificsTable.tables.push({original:table,duplicate:duplicate,});});},toggle:function(){if($.BPD.SpecificsTable.isExpanded){$.BPD.SpecificsTable.shrink($.BPD.Camera.getCurrentCamera());}else{$.BPD.SpecificsTable.expand();}},shrink:function(cameraName){$.BPD.SpecificsTable.isExpanded=false;$.BPD.SpecificsTable.tables.forEach(function(table){table.duplicate.find('tbody').empty().append(table.original.find('tbody tr td:first-child').filter(function(){return $.trim($(this).text())===cameraName;}).parent().clone().show());table.original.hide();table.duplicate.show();});$.BPD.SpecificsTable._toggleButtonText($.BPD.SpecificsTable.isExpanded);},expand:function(){$.BPD.SpecificsTable.isExpanded=true;$.BPD.SpecificsTable.tables.forEach(function(table){table.original.show();table.duplicate.hide();});$.BPD.SpecificsTable._toggleButtonText($.BPD.SpecificsTable.isExpanded);},_toggleButtonText:function(isExpanded){var text=isExpanded?'Show only your camera model':'Show all camera models';$.BPD.SpecificsTable._getButtons().text(text);},_getTables:function(){return $('.specifics-table-shrink').next().find('table');},_getButtons:function(){return $('.specifics-table-shrink a');},},Parameters:{parameters:{},init:function(){$.BPD.Data.parameters.forEach(function(parameterVariants){parameterVariants.forEach(function(variant){$.BPD.Parameters.parameters[variant]=parameterVariants;});});},adjust:function(version){var variantsExist=false;$.BPD.Parameters._getParameterContainers().each(function(){var nodeText=$(this).text();var variants=$.BPD.Parameters.parameters[nodeText];if(variants&&variants.length>=version){variantsExist=true;$(this).text(variants[version-1]);}});if(variantsExist&&$.BPD.Camera._currentCameraId===null){$.BPD.ParameterWarning.show();}},_getParameterContainers:function(){return $('code').not('.static').not('.codehilite code');},},PageMapping:{mapping:{},init:function(){$.BPD.Data.mapping.forEach(function(mapping){$.BPD.PageMapping.mapping[mapping[0]]=mapping[1];});},},Warning:{init:function(){$.BPD.Warning._getContainer().detach().prependTo('article');},toggle:function(showWarning){if(showWarning){$.BPD.Warning.show();}else{$.BPD.Warning.hide();}},show:function(){$.BPD.Warning._getContainer().removeClass('hidden');},hide:function(){$.BPD.Warning._getContainer().addClass('hidden');},_getContainer:function(){return $('#not-apply');},},ParameterWarning:{init:function(){$.BPD.ParameterWarning._getContainer().detach().prependTo('article');},show:function(){$.BPD.ParameterWarning._getContainer().removeClass('hidden');},hide:function(){$.BPD.ParameterWarning._getContainer().addClass('hidden');},_getContainer:function(){return $('#parameter-warning');},},Prototype:{toggle:function(showPrototype){if(showPrototype){$.BPD.Prototype.show();}else{$.BPD.Prototype.hide();}},show:function(){$.BPD.Prototype._getContainer().removeClass('hidden');},hide:function(){$.BPD.Prototype._getContainer().addClass('hidden');},_getContainer:function(){return $('#device-prototype');},},Modal:{init:function(){$('.btn-modal').on('click',function(e){e.preventDefault();var modal=$(this).data('connect');$.BPD.Modal.show(modal);});$(document).keypress(function(e){if((document.activeElement instanceof HTMLElement&&document.activeElement.isContentEditable)||document.activeElement.tagName==="TEXTAREA"||document.activeElement.tagName==="INPUT")
return;if(e.key==='c'&&document.activeElement&&!document.activeElement.form){$('.btn-modal.device-link').trigger("click");}});$('.close').on('click',function(e){e.preventDefault();$.BPD.Modal.close();});},show:function(selector){$(selector).show();},close:function(){$('.modal').hide();},},Redirect:{redirectToIfInvalidParameter:'no-documentation-available.html',redirectToIfEmulator:'camera-emulation.html',emulatorName:'Emulation',check:function(){var redirect;var cameraId=$.BPD.Redirect._getCameraId();var feature=$.BPD.Redirect._getFeature();var hashFileName=$.BPD.Redirect._getFileNameFromHash("#t=en%2F");var indexPage="index.html";if(cameraId){validatedCameraId=$.BPD.Camera.validateId(cameraId);if(validatedCameraId){cameraId=validatedCameraId;$.BPD.CameraSelect.setCamera(cameraId);if(_topicURL&&_topicURL===indexPage){redirect=$.BPD.Nav.getCameraLink(cameraId);}}else if(cameraId===$.BPD.Redirect.emulatorName){redirect=$.BPD.Redirect.redirectToIfEmulator;}
else{redirect=$.BPD.Redirect.redirectToIfInvalidParameter;}}
if(redirect!==$.BPD.Redirect.redirectToIfEmulator&&redirect!==$.BPD.Redirect.redirectToIfInvalidParameter){if(feature){redirect=feature;}
if(hashFileName){redirect=hashFileName.replace(".htm",".html").replace(/_/g,"-").replace("basler-product-documentation","index").replace("i-o-","io-").replace("-3.0","-30").replace(/,/g,"").toLowerCase();}}
if(redirect){$.BPD.Redirect.redirect(redirect);}},redirect:function(url){window.location=url;},_getCameraId:function(){var re=/Camera:(.*)/g;var filter=$.BPD.Redirect._getUrlParameter('filter');return filter?$.BPD.Camera.resolveId(re.exec(filter)[1]):undefined;},_getFeature:function(){var feature=$.BPD.Redirect._getUrlParameter('rhmapid');if(!feature){return null;}
return $.BPD.PageMapping.mapping[feature]||$.BPD.Redirect.redirectToIfInvalidParameter;},_getUrlParameter:function(key){var params=new URLSearchParams(window.location.search);return params.get(key);},_getFileNameFromHash:function(prefix){var hash=window.location.hash;if(hash&&hash.indexOf(prefix)!==-1){return hash.replace(prefix,"");}
return null;},},CookieNotice:{key:'bslCookieInfoAccepted',init:function(){var isAccepted=$.BPD.Storage.get($.BPD.CookieNotice.key);if(!isAccepted&&$.BPD.Storage.isCookiesSupported()){$.BPD.CookieNotice._getNotice().removeClass('hidden');}
$.BPD.CookieNotice._getButtons().on('click',function(){$.BPD.Storage.set($.BPD.CookieNotice.key,"true");$.BPD.CookieNotice._getNotice().hide();});},_getNotice:function(){return $('.cookieinfo');},_getButtons:function(){return $('#cookiebtn');},},OptOut:{key:'bslOptOut',init:function(){var isOptedOut=$.BPD.Storage.get($.BPD.OptOut.key);if(isOptedOut){$.BPD.OptOut._getNotice().removeClass('hidden');}
$.BPD.OptOut._getButtons().on('click',function(){$.BPD.Storage.set($.BPD.OptOut.key,"true");$.BPD.OptOut._getNotice().hide();});},_getNotice:function(){return $('#optOutMsg');},_getButtons:function(){return $('#optOutBtn');},},Analytics:{trackingId:"UA-41699848-8",init:function(){if($.BPD.Analytics.isLocal()){ga('create',$.BPD.Analytics.trackingId,{'storage':'none','clientId':$.BPD.Storage.get("ga:clientId")});ga(function(tracker){$.BPD.Storage.set("ga:clientId",tracker.get('clientId'));});ga('set','checkProtocolTask',null);ga('set','referrer','/');}
else{ga('create',$.BPD.Analytics.trackingId,'auto');}
var campaign=$.BPD.Analytics._getUrlParameter('utm_campaign')||$.BPD.Storage.get('ga:campaign',true);var medium=$.BPD.Analytics._getUrlParameter("utm_medium")||$.BPD.Storage.get('ga:medium',true);var source=$.BPD.Analytics._getUrlParameter("utm_source")||$.BPD.Storage.get('ga:source',true);if(campaign&&source&&medium){$.BPD.Storage.set('ga:campaign',campaign,true);$.BPD.Storage.set('ga:medium',medium,true);$.BPD.Storage.set('ga:source',source,true);ga('set','campaignName',campaign);ga('set','campaignSource',source);ga('set','campaignMedium',medium);}},send:function(){var topicTitle=window._topicTitle;var topicURL=window._topicURL;var helpVersion=window._helpVersion;var hostName=location.hostname;var currentCamera=$.BPD.Storage.get("bslCurrentCamera")||"None";var isOptedOut=$.BPD.Storage.get("bslOptOut");if(!isOptedOut){if($.BPD.Analytics.isLocal()){hostName="local-"+helpVersion+".baslerweb.com";}
ga("set","anonymizeIp",true);ga('send',{'hitType':'pageview','title':topicTitle,'location':topicURL,'hostname':hostName,'dimension1':currentCamera});}},isLocal:function(){return(location.protocol==="file:"||location.hostname==="localhost"||location.hostname==="127.0.0.1");},_getUrlParameter:function(key){var params=new URLSearchParams(window.location.search);return params.get(key);},},Translation:{init:function(){if(!$.BPD.Translation.isLocal()){Weglot.initialize({api_key:'wg_7be70a2e73ad21b4f06df5c273cbfb9a2',cache:true,cdn:true,switchers:[{styleOpt:{withname:true,fullname:true,is_dropdown:true},target:"#country-selector-container",sibling:null}]});$.BPD.Translation._getDisclaimerContainer().detach().prependTo('article');if(typeof Weglot!='undefined'){Weglot.on("languageChanged",function(newLang){if(newLang!="en"){$.BPD.Translation.showDisclaimer();}else{$.BPD.Translation.hideDisclaimer();}})}}},showDisclaimer:function(){$.BPD.Translation._getDisclaimerContainer().removeClass('hidden');},hideDisclaimer:function(){$.BPD.Translation._getDisclaimerContainer().addClass('hidden');},_getDisclaimerContainer:function(){return $('#translation-disclaimer');},isLocal:function(){return(location.protocol==="file:"||location.hostname==="localhost"||location.hostname==="127.0.0.1");},}};$.BPD.Presentation.init();$.BPD.Modal.init();$.BPD.Warning.init();$.BPD.ParameterWarning.init();$.BPD.CookieNotice.init();$.BPD.OptOut.init();$.BPD.Analytics.init();$.BPD.Analytics.send();$.BPD.Data.init(function(){$.BPD.Parameters.init();$.BPD.PageMapping.init();$.BPD.SpecificsTable.init();$.BPD.CameraSelect.init();$.BPD.Redirect.check();});});document.addEventListener("DOMContentLoaded",function(){if(document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){_topicURL=_topicURL+"?q="+this.value;if($.BPD)
$.BPD.Analytics.send();}})}});